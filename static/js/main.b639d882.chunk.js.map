{"version":3,"sources":["const.js","features/pictureSystem.js","components/ImageCropper.js","features/birthdays.js","components/BirthdaysTable.js","features/dayEditing.js","components/calendarGenerator/saints.js","components/calendarGenerator/joursFeries.js","components/calendarGenerator/day.js","components/DayEditor.js","features/dragging.js","components/fileManagement/utils.js","components/ImageDrawer.js","components/CanvasImage.js","components/calendarGenerator/Month.js","pages/MultipleMonths.js","pages/SingleMonth.js","pages/Birthdays.js","pages/YearEvents.js","components/calendarGenerator/index.js","components/AppBar.js","App.js","reportWebVitals.js","store.js","index.js"],"names":["TEXT_SPACE","BORDER_WIDTH","PICTURE_HEIGHT","LEFT_MENU_WIDTH","IMAGE_MENU_WIDTH","pictureSystemSlice","createSlice","name","initialState","pictures","months","cropper","reducers","fetchPictures","state","action","urlMapping","forEach","url","URL","revokeObjectURL","nameMapping","payload","month","monthIndex","picture","pictureIndex","src","newUrl","undefined","setMonths","find","p","updatePicture","override","setCropper","actions","BootstrapDialogTitle","props","children","onClose","other","DialogTitle","sx","m","IconButton","onClick","position","right","top","color","theme","palette","grey","ImageCropper","cropperState","useSelector","pictureSystem","initialCroppedAreaPixels","croppedAreaPixels","React","x","y","crop","setCrop","zoom","setZoom","mediaSize","setMediaSize","currentCroppedArea","setCurrentCroppedArea","currentCroppedAreaPixels","setCurrentCroppedAreaPixels","onCropComplete","croppedArea","dispatch","useDispatch","handleClose","open","Dialog","fullWidth","maxWidth","id","DialogContent","dividers","style","height","image","aspect","onCropChange","onZoomChange","onMediaLoaded","maxZoom","DialogActions","Button","getNickName","lastName","firstName","getDefaultRow","cuid","nickname","birthday","String","Date","printed","agePrinted","birthdaysSlice","values","setBirthdays","upsertBirthday","index","findIndex","push","removeBirthday","slice","BirthdaysTable","day","tableHeight","autoHeight","simplified","birthdays","rows","defaultBirthday","setFullYear","filter","row","date","getMonth","getDate","birthdayColumns","headerName","field","editable","flex","type","valueGetter","value","width","getActions","params","icon","label","columns","onCellEditCommit","newValue","includes","variant","mt","mr","getDayKey","format","dayCelebrationSelector","key","dayEditing","celebrations","dayEditingSlice","currentEditor","monthColor","setCurrentEditor","setCelebration","setDayOverride","celebration","setMonthColor","setMonthsColors","length","SAINTS","joursFeries","getFerieDay","formatedDay","styles","display","flexDirection","alignItems","backgroundColor","paddingLeft","borderColor","borderLeftWidth","borderRightWidth","borderTopWidth","borderStyle","margin","boxSizing","fontSize","dayNumber","marginRight","dayInitial","saint","marginLeft","Day","isLastDay","isEditable","openEditor","year","getYear","numberDay","locale","fr","weekDay","formatedBirthdays","map","age","differenceInYears","customCelebration","nationalCelebration","Box","borderBottomWidth","getDay","cursor","borderRightColor","borderBottomColor","flexGrow","trim","join","createFilterOptions","DayEditor","isOpen","Number","isInteger","options","Typography","mb","Divider","Stack","direction","spacing","divider","orientation","flexItem","Autocomplete","freeSolo","filterOptions","filtered","inputValue","isExisting","some","option","unshift","selectOnFocus","clearOnBlur","handleHomeEndKeys","onChange","event","renderInput","TextField","draggingSlice","startDragging","isImage","upperCaseName","toUpperCase","extension","endsWith","verifyPermission","fileHandle","readWrite","a","mode","queryPermission","requestPermission","getFolderHandler","tryPreviousFolder","get","fileHandleOrUndefined","window","showDirectoryPicker","startIn","dirHandle","set","openFolder","setters","setPictures","setDesign","setCalendar","designObject","calendarObject","dayOverrideObject","monthsColorsObject","entry","getFile","f","createObjectURL","text","JSON","parse","design","calendar","dayOverride","getFileHandle","create","createWritable","writable","write","stringify","close","ImageDrawer","setDayOverrideAction","setMonthsColorsAction","picturesLoaded","Drawer","flexShrink","borderRight","anchor","Toolbar","overflow","zIndex","padding","justifyContent","Tooltip","title","placement","ImageList","cols","gap","ImageListItem","alt","onDragStart","loading","CanvasImage","PICTURE_WIDTH","others","draggingSrc","dragging","draggingName","canvasRef","onDrop","e","preventDefault","stopPropagation","context","current","getContext","img","Image","modifiedImages","addEventListener","imageWidth","imageHeight","drawImage","onDragOver","ref","borderRadius","page","header","textAlign","paddingTop","fontFamily","textTransform","mainContent","Month","forwardRef","editableDays","days","eachDayOfInterval","start","end","intlFormat","MultipleMonths","navigate","useNavigate","calendarRef","scale","setScale","xScale","clientWidth","yScale","clientHeight","minScale","Math","min","maxHeight","flexWrap","transform","transformOrigin","Paper","elevation","bottom","Fab","size","max","component","ColorPalette","ml","Object","keys","colorName","red","colors","shade","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","SingleMonth","useParams","paperSize","setPaperSize","displayDivRef","updateCalendarSize","offsetWidth","offsetHeight","removeEventListener","handleColorChange","Tabs","Tab","Birthdays","YearEvents","CalendarToPrint","pictureUrls","AppBar","anchorEl","setAnchorEl","Boolean","calendarToPrintRef","handlePrint","useReactToPrint","content","drawer","currentTarget","Menu","MenuListProps","MenuItem","edge","saveFolder","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","pictureSystemReducer","draggingReducer","birthdaysReducer","dayEditingReducer","createTheme","ReactDOM","render","StrictMode","store","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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,UACA,cACA,SACA,YACA,wBACA,UACA,UACA,QACA,UACA,UACA,eACA,WACA,QACA,SACA,WACA,UACA,UACA,WACA,YACA,4BACA,QACA,WACA,UACA,YACA,QACA,MACA,SACA,UACA,mBACA,SACA,UACA,OACA,SACA,UACA,YACA,UACA,YACA,OACA,QACA,OACA,aACA,sBACA,UAEF,CACE,SACA,WACA,UACA,UACA,WACA,YACA,4BACA,QACA,WACA,UACA,YACA,QACA,MACA,SACA,UACA,mBACA,SACA,UACA,OACA,SACA,UACA,YACA,UACA,YACA,OACA,QACA,OACA,aACA,sBACA,UAEF,CACE,gBACA,QACA,8BACA,UACA,SACA,WACA,YACA,eACA,YACA,UACA,UACA,UACA,UACA,WACA,SACA,YACA,SACA,OACA,OACA,YACA,aACA,QACA,SACA,WACA,SACA,cACA,WACA,UACA,SACA,YACA,WAEF,CACE,SACA,WACA,WACA,WACA,OACA,UACA,UACA,YACA,QACA,SACA,aACA,MACA,oBACA,YACA,WACA,4BACA,WACA,YACA,UACA,aACA,WACA,QACA,SACA,gBACA,UACA,WACA,UACA,eACA,cACA,WAEF,CACE,UACA,YACA,SACA,UACA,UACA,WACA,QACA,UACA,WACA,SACA,YACA,UACA,gBACA,UACA,SACA,SACA,YACA,iBACA,YACA,SACA,SACA,kBACA,WACA,YACA,UACA,eACA,WACA,SACA,SACA,WACA,oBAEF,CACE,WACA,SACA,QACA,aACA,OACA,WACA,YACA,YACA,QACA,UACA,SACA,WACA,YACA,SACA,QACA,QACA,YACA,eACA,aACA,UACA,aACA,UACA,OACA,mBACA,QACA,UACA,UACA,WACA,SACA,SACA,YAEF,CACE,SACA,SACA,cACA,UACA,SACA,WACA,QACA,SACA,QACA,UACA,UACA,cACA,UACA,UACA,SACA,QACA,SACA,YACA,YACA,OACA,WACA,UACA,WACA,YACA,UACA,iBACA,kBACA,YACA,SACA,gBAEF,CACE,gBACA,WACA,YACA,cACA,QACA,QACA,QACA,aACA,QACA,WACA,SACA,WACA,YACA,QACA,aACA,SACA,WACA,MACA,UACA,UACA,YACA,SACA,oBACA,YACA,YACA,UACA,UACA,aACA,WACA,YACA,WAEF,CACE,SACA,YACA,SACA,UACA,SACA,WACA,SACA,WACA,cACA,UACA,SACA,YACA,QACA,UACA,SACA,aACA,YACA,OACA,SACA,SACA,QACA,YACA,aACA,QACA,YACA,WACA,aACA,uBACA,WACA,YAEF,CACE,WACA,UACA,SACA,UACA,YACA,UACA,WACA,UACA,iBACA,UACA,SACA,WACA,QACA,QACA,QACA,QACA,OACA,SACA,SACA,eACA,kBACA,0BACA,SACA,WACA,WACA,aACA,OACA,UACA,QACA,QACA,cClaSC,GAAc,CACzB,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,mBAGHC,GAAc,SAACnD,GAC1B,IAAKA,EACH,OAAO,KAET,IAAMoD,EAAclB,aAAOlC,EAAK,cAChC,OAAOkD,GAAYE,IC7CfC,GAAS,CACbrD,IAAK,CACHsD,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,gBAAiB,cACj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","file":"static/js/main.b639d882.chunk.js","sourcesContent":["export const DAY_HEIGHT = \"0.85cm\";\nexport const TEXT_SPACE = \"0.2cm\";\nexport const BORDER_WIDTH = \"0.05cm\";\n\nexport const HEADER_FON_SIZE = \"26pt\";\nexport const HEADER_HEIGHT = \"3cm\";\nexport const HEADER_TOP_PADDING = \"1.3cm\";\n\nexport const PICTURE_WIDTH = 8;\nexport const PICTURE_HEIGHT = 8.8;\nexport const PX_PER_CM = 60;\n\nexport const LEFT_MENU_WIDTH = 55;\nexport const IMAGE_MENU_WIDTH = 300;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const pictureSystemSlice = createSlice({\n  name: \"pictureSystem\",\n  initialState: {\n    pictures: [],\n    // dirHandle: null,\n    months: [\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n    ],\n    cropper: null,\n  },\n  reducers: {\n    fetchPictures: (state, action) => {\n      const urlMapping = {};\n      state.pictures.forEach(({ url, name }) => {\n        urlMapping[url] = name;\n        URL.revokeObjectURL(url);\n      });\n\n      const nameMapping = {};\n      action.payload.pictures.forEach(({ name, url }) => {\n        nameMapping[name] = url;\n      });\n      state.pictures = action.payload.pictures;\n\n      state.months.forEach((month, monthIndex) => {\n        month.forEach((picture, pictureIndex) => {\n          if (picture.src) {\n            const name = urlMapping[picture.src];\n            const newUrl = nameMapping[name];\n            if (newUrl !== undefined) {\n              state.months[monthIndex][pictureIndex] = {\n                ...state.months[monthIndex][pictureIndex],\n                src: newUrl,\n              };\n              return;\n            }\n          }\n          state.months[monthIndex][pictureIndex] = {};\n        });\n      });\n    },\n    setMonths: (state, action) => {\n      state.months = action.payload;\n\n      state.months.forEach((month) => {\n        month.forEach((picture) => {\n          if (picture && picture.name) {\n            picture.src = state.pictures.find(\n              (p) => p.name === picture.name\n            )?.url;\n          }\n        });\n      });\n    },\n    updatePicture: (state, action) => {\n      const { monthIndex, pictureIndex, ...override } = action.payload;\n\n      if (override.src !== undefined) {\n        state.months[monthIndex][pictureIndex] = {\n          ...override,\n        };\n      } else {\n        state.months[monthIndex][pictureIndex] = {\n          ...state.months[monthIndex][pictureIndex],\n          ...override,\n        };\n      }\n    },\n    setCropper: (state, action) => {\n      if (!action.payload) {\n        state.cropper = null;\n      } else {\n        state.cropper = action.payload;\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { fetchPictures, updatePicture, setCropper, setMonths } =\n  pictureSystemSlice.actions;\n\nexport default pictureSystemSlice.reducer;\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Cropper from \"react-easy-crop\";\nimport { PICTURE_HEIGHT, PICTURE_WIDTH } from \"../const\";\nimport { setCropper, updatePicture } from \"../features/pictureSystem\";\n\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport IconButton from \"@mui/material/IconButton\";\n\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport { width } from \"@mui/system\";\n\nconst BootstrapDialogTitle = (props) => {\n  const { children, onClose, ...other } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\n      {children}\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: \"absolute\",\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nexport default function ImageCropper() {\n  const cropperState = useSelector((state) => state.pictureSystem.cropper);\n  const initialCroppedAreaPixels = useSelector((state) => {\n    if (state.pictureSystem.cropper) {\n      return state.pictureSystem.months[state.pictureSystem.cropper.monthIndex][\n        state.pictureSystem.cropper.pictureIndex\n      ].croppedAreaPixels;\n    }\n    return null;\n  });\n\n  const [crop, setCrop] = React.useState({\n    x: 0,\n    y: 0,\n  });\n  const [zoom, setZoom] = React.useState(1);\n  const [mediaSize, setMediaSize] = React.useState();\n\n  const [currentCroppedArea, setCurrentCroppedArea] = React.useState(null);\n  const [currentCroppedAreaPixels, setCurrentCroppedAreaPixels] =\n    React.useState(null);\n\n  const onCropComplete = React.useCallback((croppedArea, croppedAreaPixels) => {\n    setCurrentCroppedArea(croppedArea);\n    setCurrentCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n\n  const dispatch = useDispatch();\n\n  const handleClose = () => {\n    dispatch(setCropper(null));\n  };\n\n  const validate = () => {\n    if (currentCroppedArea && mediaSize) {\n      dispatch(\n        updatePicture({\n          monthIndex: cropperState.monthIndex,\n          pictureIndex: cropperState.pictureIndex,\n          ...currentCroppedArea,\n          croppedAreaPixels: currentCroppedAreaPixels,\n        })\n      );\n    }\n    handleClose();\n  };\n\n  const onMediaLoaded = (mediaSize) => {\n    setMediaSize(mediaSize);\n  };\n  const open = !!cropperState;\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"customized-dialog-title\"\n      open={open}\n      fullWidth\n      maxWidth=\"lg\"\n    >\n      <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n        Crop Image\n      </BootstrapDialogTitle>\n\n      <DialogContent dividers>\n        {cropperState && (\n          <div style={{ position: \"relative\", height: \"60vh\" }}>\n            <Cropper\n              image={cropperState.src || null}\n              crop={crop}\n              zoom={zoom}\n              aspect={PICTURE_WIDTH / PICTURE_HEIGHT}\n              onCropChange={setCrop}\n              onCropComplete={onCropComplete}\n              onZoomChange={setZoom}\n              onMediaLoaded={onMediaLoaded}\n              initialCroppedAreaPixels={initialCroppedAreaPixels}\n              maxZoom={50}\n            />\n          </div>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={validate}>Save changes</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport cuid from \"cuid\";\n\nexport function getNickName({ lastName = \"\", firstName = \"\" }) {\n  return `${lastName} ${firstName}`;\n}\nconst getDefaultRow = () => {\n  return {\n    id: cuid(),\n    nickname: getNickName({}),\n    firstName: \"\",\n    lastName: \"\",\n    birthday: String(new Date()),\n    printed: true,\n    agePrinted: true,\n  };\n};\nexport const birthdaysSlice = createSlice({\n  name: \"birthdays\",\n  initialState: {\n    values: [getDefaultRow()],\n  },\n  reducers: {\n    setBirthdays: (state, action) => {\n      state.values = action.payload;\n    },\n    upsertBirthday: (state, action) => {\n      const index = state.values.findIndex(\n        (x) => action?.payload?.id && x?.id === action?.payload?.id\n      );\n\n      if (action?.payload?.birthday) {\n        action.payload.birthday = String(action.payload.birthday);\n      }\n\n      if (index === -1) {\n        state.values.push({ ...getDefaultRow(), ...action.payload });\n      } else {\n        state.values[index] = {\n          ...getDefaultRow(),\n          ...state.values[index],\n          ...action.payload,\n        };\n      }\n    },\n    removeBirthday: (state, action) => {\n      const index = state.values.findIndex((x) => x.id === action.payload.id);\n      if (index !== -1) {\n        state.values = [\n          ...state.values.slice(0, index),\n          ...state.values.slice(index + 1),\n        ];\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { upsertBirthday, removeBirthday, setBirthdays } =\n  birthdaysSlice.actions;\n\nexport default birthdaysSlice.reducer;\n","import * as React from \"react\";\nimport Button from \"@mui/material/Button\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  upsertBirthday,\n  removeBirthday,\n  getNickName,\n} from \"../features/birthdays\";\n\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { DataGrid, GridActionsCellItem } from \"@mui/x-data-grid\";\nimport { getDate, getMonth } from \"date-fns\";\n\nexport default function BirthdaysTable({\n  day = null,\n  monthIndex = null,\n  tableHeight = \"auto\",\n  autoHeight = false,\n  simplified = false,\n}) {\n  const values = useSelector((state) => state.birthdays.values);\n  let rows = values;\n  let defaultBirthday = new Date();\n  if (day !== null && monthIndex !== null) {\n    defaultBirthday.setFullYear(1901, monthIndex, day);\n    rows = values.filter((row) => {\n      if (!row.birthday) {\n        return false;\n      }\n\n      const date = new Date(row.birthday);\n      return getMonth(date) === monthIndex && getDate(date) === day;\n    });\n  }\n\n  const dispatch = useDispatch();\n\n  const birthdayColumns = [\n    ...(simplified\n      ? []\n      : [\n          {\n            headerName: \"Nom\",\n            field: \"firstName\",\n            editable: true,\n            flex: 1,\n          },\n          {\n            headerName: \"Prénom\",\n            field: \"lastName\",\n            editable: true,\n            flex: 1,\n          },\n        ]),\n    {\n      headerName: \"Présentation\",\n      field: \"nickname\",\n      editable: true,\n      flex: 2,\n    },\n    {\n      headerName: \"Date de naissance\",\n      field: \"birthday\",\n      type: \"date\",\n      valueGetter: ({ value }) => {\n        return new Date(value);\n      },\n      editable: true,\n      flex: 2,\n    },\n    {\n      headerName: \"Afficher\",\n      field: \"printed\",\n      type: \"boolean\",\n      editable: true,\n      width: 80,\n    },\n    {\n      headerName: \"Age\",\n      field: \"agePrinted\",\n      type: \"boolean\",\n      editable: true,\n      width: 60,\n    },\n    {\n      field: \"actions\",\n      type: \"actions\",\n      width: 50,\n      getActions: (params) => [\n        <GridActionsCellItem\n          icon={<DeleteIcon />}\n          label=\"Delete\"\n          onClick={() => dispatch(removeBirthday({ id: params.id }))}\n        />,\n      ],\n    },\n  ];\n\n  return (\n    <>\n      <div\n        style={{ width: \"100%\", height: autoHeight ? undefined : tableHeight }}\n      >\n        <DataGrid\n          autoHeight={autoHeight}\n          columns={birthdayColumns}\n          rows={rows}\n          onCellEditCommit={({ id, field, value }) => {\n            const newValue = { id, [field]: value };\n\n            if (field === \"nickname\") {\n              dispatch(upsertBirthday(newValue));\n              return;\n            }\n            if ([\"firstName\", \"lastName\"].includes(field)) {\n              const row = rows.find((row) => row.id === id);\n\n              if (row.nickname === getNickName(row)) {\n                dispatch(\n                  upsertBirthday({\n                    ...newValue,\n                    nickname: getNickName({ ...row, ...newValue }),\n                  })\n                );\n                return;\n              }\n            }\n            dispatch(upsertBirthday(newValue));\n          }}\n        />\n      </div>\n      <Button\n        variant=\"outlined\"\n        sx={{ mt: 2, mr: 2 }}\n        onClick={() => {\n          dispatch(upsertBirthday({ birthday: defaultBirthday }));\n        }}\n      >\n        Ajouter une ligne\n      </Button>\n    </>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport format from \"date-fns/format\";\n\nexport const getDayKey = (day) => {\n  if (!day) {\n    return null;\n  }\n  return format(day, \"yyyy-MM-dd\");\n};\n\nexport const dayCelebrationSelector = (day) => {\n  const key = getDayKey(day);\n  if (key == null) {\n    return () => null;\n  }\n  return (state) => state.dayEditing.celebrations[key];\n};\n\nexport const dayEditingSlice = createSlice({\n  name: \"dayEditing\",\n  initialState: {\n    currentEditor: null,\n    celebrations: {},\n    monthColor: [\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n      \"#90caf9\",\n    ],\n  },\n  reducers: {\n    setCurrentEditor: (state, action) => {\n      state.currentEditor = action.payload;\n    },\n    setCelebration: (state, action) => {\n      if (action.payload.day) {\n        state.celebrations[action.payload.day] = action.payload.value;\n      }\n    },\n    setDayOverride: (state, action) => {\n      state.celebrations = { ...state.celebration, ...action.payload };\n    },\n    setMonthColor: (state, action) => {\n      if (action.payload.monthIndex != null && action.payload.value != null) {\n        state.monthColor[action.payload.monthIndex] = action.payload.value;\n      }\n    },\n    setMonthsColors: (state, action) => {\n      if (action.payload.length === 12) {\n        state.monthColor = action.payload;\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  setCurrentEditor,\n  setCelebration,\n  setDayOverride,\n  setMonthColor,\n  setMonthsColors,\n} = dayEditingSlice.actions;\nexport default dayEditingSlice.reducer;\n","export const SAINTS = [\n  [\n    \"Marie, mère de Dieu\",\n    \"Basile et Grégoire\",\n    \"Geneviève\",\n    \"Odilon\",\n    \"Edouard\",\n    \"Mélaine\",\n    \"Raymond\",\n    \"Lucien\",\n    \"Alix\",\n    \"Guillaume\",\n    \"Paulin\",\n    \"Tatiana\",\n    \"Yvette\",\n    \"Nina\",\n    \"Rémi\",\n    \"Marcel\",\n    \"Roseline\",\n    \"Prisca\",\n    \"Marius\",\n    \"Sébastien\",\n    \"Agnès\",\n    \"Vincent\",\n    \"Barnard\",\n    \"François de Sales\",\n    \"Ananie\",\n    \"Paule\",\n    \"Angèle\",\n    \"Thomas d'Aquin\",\n    \"Gildas\",\n    \"Martine\",\n    \"Marcelle\",\n  ],\n  [\n    \"Ella\",\n    \"Théophane\",\n    \"Blaise\",\n    \"Véronique\",\n    \"Agathe\",\n    \"Gaston\",\n    \"Eugénie\",\n    \"Jacqueline\",\n    \"Apolline\",\n    \"Arnaud\",\n    \"Héloïse\",\n    \"Félix\",\n    \"Béatrice\",\n    \"Valentin\",\n    \"Claude\",\n    \"Julienne\",\n    \"Alexis\",\n    \"Bernadette\",\n    \"Gabin\",\n    \"Aimée\",\n    \"Pierre-Damien\",\n    \"Isabelle\",\n    \"Lazare\",\n    \"Modeste\",\n    \"Roméo\",\n    \"Nestor\",\n    \"Honorine\",\n    \"Romain\",\n    \"(Auguste)\",\n  ],\n  [\n    \"Aubin\",\n    \"Charles le Bon\",\n    \"Guénolé\",\n    \"Casimir\",\n    \"Olive\",\n    \"Colette\",\n    \"Félicité\",\n    \"Jean de Dieu\",\n    \"Françoise\",\n    \"Vivien\",\n    \"Rosine\",\n    \"Justine\",\n    \"Rodrigue\",\n    \"Mathilde\",\n    \"Louise\",\n    \"Bénédicte\",\n    \"Patrice\",\n    \"Cyrille\",\n    \"Joseph\",\n    \"Herbert\",\n    \"Clémence\",\n    \"Léa\",\n    \"Victorien\",\n    \"Catherine de Suède\",\n    \"Humbert\",\n    \"Larissa\",\n    \"Habib\",\n    \"Gontran\",\n    \"Gwladys\",\n    \"Amédée\",\n    \"Benjamin\",\n    \"Avril\",\n    \"Hugues\",\n    \"Sandrine\",\n    \"Richard\",\n    \"Isidore\",\n    \"Irène\",\n    \"Marcellin\",\n    \"Jean-Baptiste de la Salle\",\n    \"Julie\",\n    \"Gauthier\",\n    \"Fulbert\",\n    \"Stanislas\",\n    \"Jules\",\n    \"Ida\",\n    \"Maxime\",\n    \"Paterne\",\n    \"Benoît-Joseph\",\n    \"Anicet\",\n    \"Parfait\",\n    \"Emma\",\n    \"Odette\",\n    \"Anselme\",\n    \"Alexandre\",\n    \"Georges\",\n    \"Fidèle\",\n    \"Marc\",\n    \"Alida\",\n    \"Zita\",\n    \"Valérie\",\n    \"Catherine de Sienne\",\n    \"Robert\",\n  ],\n  [\n    \"Hugues\",\n    \"Sandrine\",\n    \"Richard\",\n    \"Isidore\",\n    \"Irène\",\n    \"Marcellin\",\n    \"Jean-Baptiste de la Salle\",\n    \"Julie\",\n    \"Gauthier\",\n    \"Fulbert\",\n    \"Stanislas\",\n    \"Jules\",\n    \"Ida\",\n    \"Maxime\",\n    \"Paterne\",\n    \"Benoît-Joseph\",\n    \"Anicet\",\n    \"Parfait\",\n    \"Emma\",\n    \"Odette\",\n    \"Anselme\",\n    \"Alexandre\",\n    \"Georges\",\n    \"Fidèle\",\n    \"Marc\",\n    \"Alida\",\n    \"Zita\",\n    \"Valérie\",\n    \"Catherine de Sienne\",\n    \"Robert\",\n  ],\n  [\n    \"Jérémie\",\n    \"Boris\",\n    \"Philippe, Jacques le Mineur\",\n    \"Sylvain\",\n    \"Judith\",\n    \"Prudence\",\n    \"Gisèle\",\n    \"Désiré\",\n    \"Pacôme\",\n    \"Solange\",\n    \"Estelle\",\n    \"Achille\",\n    \"Rolande\",\n    \"Matthias\",\n    \"Denise\",\n    \"Honoré\",\n    \"Pascal\",\n    \"Eric\",\n    \"Yves\",\n    \"Bernardin\",\n    \"Constantin\",\n    \"Emile\",\n    \"Didier\",\n    \"Donatien\",\n    \"Sophie\",\n    \"Bérenger\",\n    \"Augustin\",\n    \"Germain\",\n    \"Aymard\",\n    \"Ferdinand\",\n    \"Perrine\",\n  ],\n  [\n    \"Justin\",\n    \"Blandine\",\n    \"Kévin\",\n    \"Clotilde\",\n    \"Igor\",\n    \"Norbert\",\n    \"Gilbert\",\n    \"Médard\",\n    \"Diane\",\n    \"Landry\",\n    \"Barnabé\",\n    \"Guy\",\n    \"Antoine de Padoue\",\n    \"Elisée\",\n    \"Germaine\",\n    \"Jean-François Régis\",\n    \"Hervé\",\n    \"Léonce\",\n    \"Romuald\",\n    \"Silvère\",\n    \"Rodolphe\",\n    \"Alban\",\n    \"Audrey\",\n    \"Jean-Baptiste\",\n    \"Prosper\",\n    \"Anthelme\",\n    \"Fernand\",\n    \"Irénée\",\n    \"Pierre/Paul\",\n    \"Martial\",\n  ],\n  [\n    \"Thierry\",\n    \"Martinien\",\n    \"Thomas\",\n    \"Florent\",\n    \"Antoine\",\n    \"Mariette\",\n    \"Raoul\",\n    \"Thibaut\",\n    \"Amandine\",\n    \"Ulrich\",\n    \"Benoît\",\n    \"Olivier\",\n    \"Henri/Joël\",\n    \"Camille\",\n    \"Donald\",\n    \"Carmen\",\n    \"Charlotte\",\n    \"Frédéric\",\n    \"Arsène\",\n    \"Marina\",\n    \"Victor\",\n    \"Marie-Madeleine\",\n    \"Brigitte\",\n    \"Christine\",\n    \"Jacques\",\n    \"Anne/Joachim\",\n    \"Nathalie\",\n    \"Samson\",\n    \"Marthe\",\n    \"Juliette\",\n    \"Ignace de Loyola\",\n  ],\n  [\n    \"Alphonse\",\n    \"Julien\",\n    \"Lydie\",\n    \"Jean-Marie\",\n    \"Abel\",\n    \"Octavien\",\n    \"Gaétan\",\n    \"Dominique\",\n    \"Amour\",\n    \"Laurent\",\n    \"Claire\",\n    \"Clarisse\",\n    \"Hippolyte\",\n    \"Evrard\",\n    \"Marie\",\n    \"Armel\",\n    \"Hyacinthe\",\n    \"Hélène\",\n    \"Jean-Eudes\",\n    \"Bernard\",\n    \"Christophe\",\n    \"Fabrice\",\n    \"Rose\",\n    \"Barthélémy\",\n    \"Louis\",\n    \"Natacha\",\n    \"Monique\",\n    \"Augustin\",\n    \"Sabine\",\n    \"Fiacre\",\n    \"Aristide\",\n  ],\n  [\n    \"Gilles\",\n    \"Ingrid\",\n    \"Grégoire\",\n    \"Rosalie\",\n    \"Raissa\",\n    \"Bertrand\",\n    \"Reine\",\n    \"Adrien\",\n    \"Alain\",\n    \"Inès\",\n    \"Adelphe\",\n    \"Apollinaire\",\n    \"Aimé\",\n    \"Cyprien\",\n    \"Roland\",\n    \"Edith\",\n    \"Renaud\",\n    \"Nadège\",\n    \"Émilie\",\n    \"Davy\",\n    \"Matthieu\",\n    \"Maurice\",\n    \"Constant\",\n    \"Thècle\",\n    \"Hermann\",\n    \"Côme/Damien\",\n    \"Vincent de Paul\",\n    \"Venceslas\",\n    \"Michel\",\n    \"Jérôme\",\n  ],\n  [\n    \"Thérèse\",\n    \"Léger\",\n    \"Gérard\",\n    \"François\",\n    \"Fleur\",\n    \"Bruno\",\n    \"Serge\",\n    \"Pélagie\",\n    \"Denis\",\n    \"Ghislain\",\n    \"Firmin\",\n    \"Wilfried\",\n    \"Géraud\",\n    \"Juste\",\n    \"Aurélie\",\n    \"Edwige\",\n    \"Baudouin\",\n    \"Luc\",\n    \"René\",\n    \"Adeline\",\n    \"Céline\",\n    \"Elodie\",\n    \"Jean de Capistran\",\n    \"Florentin\",\n    \"Crépin\",\n    \"Dimitri\",\n    \"Emeline\",\n    \"Simon/Jude\",\n    \"Narcisse\",\n    \"Bienvenue\",\n    \"Quentin\",\n  ],\n  [\n    \"Harold\",\n    \"Océane\",\n    \"Hubert\",\n    \"Charles\",\n    \"Sylvie\",\n    \"Bertille\",\n    \"Carine\",\n    \"Geoffroy\",\n    \"Théodore\",\n    \"Léon\",\n    \"Martin\",\n    \"Christian\",\n    \"Brice\",\n    \"Sidoine\",\n    \"Albert\",\n    \"Marguerite\",\n    \"Elisabeth\",\n    \"Aude\",\n    \"Tanguy\",\n    \"Edmond\",\n    \"Rufus\",\n    \"Cécile\",\n    \"Clément\",\n    \"Flora\",\n    \"Catherine\",\n    \"Delphine\",\n    \"Séverin\",\n    \"Jacques de la Marche\",\n    \"Saturnin\",\n    \"André\",\n  ],\n  [\n    \"Florence\",\n    \"Viviane\",\n    \"Xavier\",\n    \"Barbara\",\n    \"Gérald\",\n    \"Nicolas\",\n    \"Ambroise\",\n    \"Elfried\",\n    \"Pierre Fourier\",\n    \"Romaric\",\n    \"Daniel\",\n    \"Corentin\",\n    \"Lucie\",\n    \"Odile\",\n    \"Ninon\",\n    \"Alice\",\n    \"Gael\",\n    \"Gatien\",\n    \"Urbain\",\n    \"Théophile\",\n    \"Pierre Canisius\",\n    \"Françoise-Xavière\",\n    \"Armand\",\n    \"Adèle\",\n    \"Emmanuel\",\n    \"Étienne\",\n    \"Jean\",\n    \"Gaspard\",\n    \"David\",\n    \"Roger\",\n    \"Sylvestre\",\n  ],\n];\n","import format from \"date-fns/format\";\n\nexport const joursFeries = {\n  \"2025-01-01\": \"1er janvier\",\n  \"2025-04-21\": \"Lundi de Pâques\",\n  \"2025-05-01\": \"1er mai\",\n  \"2025-05-08\": \"8 mai\",\n  \"2025-05-29\": \"Ascension\",\n  \"2025-06-09\": \"Lundi de Pentecôte\",\n  \"2025-07-14\": \"14 juillet\",\n  \"2025-08-15\": \"Assomption\",\n  \"2025-11-01\": \"Toussaint\",\n  \"2025-11-11\": \"11 novembre\",\n  \"2025-12-25\": \"Jour de Noël\",\n  \"2024-01-01\": \"1er janvier\",\n  \"2024-04-01\": \"Lundi de Pâques\",\n  \"2024-05-01\": \"1er mai\",\n  \"2024-05-08\": \"8 mai\",\n  \"2024-05-09\": \"Ascension\",\n  \"2024-05-20\": \"Lundi de Pentecôte\",\n  \"2024-07-14\": \"14 juillet\",\n  \"2024-08-15\": \"Assomption\",\n  \"2024-11-01\": \"Toussaint\",\n  \"2024-11-11\": \"11 novembre\",\n  \"2024-12-25\": \"Jour de Noël\",\n  \"2023-01-01\": \"1er janvier\",\n  \"2023-04-10\": \"Lundi de Pâques\",\n  \"2023-05-01\": \"1er mai\",\n  \"2023-05-08\": \"8 mai\",\n  \"2023-05-18\": \"Ascension\",\n  \"2023-05-29\": \"Lundi de Pentecôte\",\n  \"2023-07-14\": \"14 juillet\",\n  \"2023-08-15\": \"Assomption\",\n  \"2023-11-01\": \"Toussaint\",\n  \"2023-11-11\": \"11 novembre\",\n  \"2023-12-25\": \"Jour de Noël\",\n  \"2022-01-01\": \"1er janvier\",\n  \"2022-04-18\": \"Lundi de Pâques\",\n  \"2022-05-01\": \"1er mai\",\n  \"2022-05-08\": \"8 mai\",\n  \"2022-05-26\": \"Ascension\",\n  \"2022-06-06\": \"Lundi de Pentecôte\",\n  \"2022-07-14\": \"14 juillet\",\n  \"2022-08-15\": \"Assomption\",\n  \"2022-11-01\": \"Toussaint\",\n  \"2022-11-11\": \"11 novembre\",\n  \"2022-12-25\": \"Jour de Noël\",\n  \"2021-01-01\": \"1er janvier\",\n  \"2021-04-05\": \"Lundi de Pâques\",\n  \"2021-05-01\": \"1er mai\",\n  \"2021-05-08\": \"8 mai\",\n  \"2021-05-13\": \"Ascension\",\n  \"2021-05-24\": \"Lundi de Pentecôte\",\n  \"2021-07-14\": \"14 juillet\",\n  \"2021-08-15\": \"Assomption\",\n  \"2021-11-01\": \"Toussaint\",\n  \"2021-11-11\": \"11 novembre\",\n  \"2021-12-25\": \"Jour de Noël\",\n};\n\nexport const getFerieDay = (day) => {\n  if (!day) {\n    return null;\n  }\n  const formatedDay = format(day, \"yyyy-MM-dd\");\n  return joursFeries[formatedDay];\n};\n","import React from \"react\";\nimport {\n  format,\n  getDate,\n  getDay,\n  getMonth,\n  differenceInYears,\n  getYear,\n} from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { DAY_HEIGHT, TEXT_SPACE, BORDER_WIDTH } from \"../../const\";\nimport { SAINTS } from \"./saints\";\nimport { getFerieDay } from \"./joursFeries\";\nimport {\n  dayCelebrationSelector,\n  setCurrentEditor,\n} from \"../../features/dayEditing\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Box from \"@mui/material/Box\";\n\nconst styles = {\n  day: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"transparent\",\n    height: DAY_HEIGHT,\n    paddingLeft: TEXT_SPACE,\n    borderColor: \"black\",\n    borderLeftWidth: BORDER_WIDTH,\n    borderRightWidth: 0,\n    borderTopWidth: BORDER_WIDTH,\n    borderStyle: \"solid\",\n    margin: 0,\n    boxSizing: \"border-box\",\n    fontSize: \"12pt\",\n  },\n\n  dayNumber: {\n    marginRight: TEXT_SPACE,\n    fontSize: \"12pt\",\n  },\n  dayInitial: {},\n  saint: { marginLeft: \"0.2cm\", fontSize: \"12pt\" },\n  birthdays: { marginRight: \"1cm\", fontSize: \"12pt\" },\n};\n\nconst Day = ({ day, isLastDay, isEditable = false }) => {\n  const dispatch = useDispatch();\n  const openEditor = isEditable\n    ? () => {\n        dispatch(\n          setCurrentEditor({\n            day: getDate(day),\n            monthIndex: getMonth(day),\n            year: getYear(day),\n          })\n        );\n      }\n    : null;\n\n  const numberDay = format(day, \"dd\", { locale: fr });\n  const weekDay = format(day, \"ccccc\", { locale: fr });\n\n  const birthdays = useSelector((state) =>\n    state.birthdays.values.filter((row) => {\n      return (\n        row.birthday &&\n        getMonth(day) === getMonth(new Date(row.birthday)) &&\n        getDate(day) === getDate(new Date(row.birthday))\n      );\n    })\n  );\n  const formatedBirthdays = birthdays.map((row) => ({\n    ...row,\n    age: differenceInYears(day, new Date(row.birthday)),\n  }));\n\n  const color = useSelector(\n    (state) => state.dayEditing.monthColor[getMonth(day)]\n  );\n\n  const customCelebration = useSelector(dayCelebrationSelector(day));\n  const nationalCelebration = getFerieDay(day);\n  const saint = `St ${SAINTS?.[getMonth(day)]?.[getDate(day) - 1]}`;\n\n  const celebration =\n    customCelebration != null\n      ? customCelebration\n      : nationalCelebration || saint;\n\n  return (\n    <Box\n      sx={{\n        ...styles.day,\n        borderBottomWidth: isLastDay ? BORDER_WIDTH : 0,\n        backgroundColor:\n          getDay(day) === 0 || nationalCelebration ? color : \"transparent\",\n        \"&:hover\": isEditable\n          ? {\n              cursor: \"pointer\",\n              borderRightWidth: \"0.1cm\",\n              borderBottomWidth: \"0.1cm\",\n              borderRightColor: \"gray\",\n              borderBottomColor: \"gray\",\n            }\n          : {},\n      }}\n      onClick={openEditor}\n    >\n      <span style={styles.dayNumber}>{numberDay}</span>\n      <span style={styles.dayInitial}>{weekDay}</span>\n      <span style={styles.saint}>{celebration}</span>\n      <span style={{ flexGrow: 1 }}></span>\n      <span style={styles.birthdays}>\n        {formatedBirthdays\n          .filter((row) => row.printed && row.nickname.trim())\n          .map(\n            (row) =>\n              `${row.nickname.trim()} ${row.agePrinted ? `(${row.age}) ` : \"\"}`\n          )\n          .join(\"/ \")}\n      </span>\n    </Box>\n  );\n};\n\nexport default Day;\n","import * as React from \"react\";\n\nimport BirthdaysTable from \"../components/BirthdaysTable\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport Stack from \"@mui/material/Stack\";\nimport Divider from \"@mui/material/Divider\";\nimport Box from \"@mui/material/Box\";\nimport Autocomplete, { createFilterOptions } from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setCurrentEditor } from \"../features/dayEditing\";\nimport Day from \"../components/calendarGenerator/day\";\nimport { format, getMonth, getDate } from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { Typography } from \"@mui/material\";\n\nimport { SAINTS } from \"../components/calendarGenerator/saints\";\nimport { getFerieDay } from \"../components/calendarGenerator/joursFeries\";\nimport {\n  setCelebration,\n  dayCelebrationSelector,\n  getDayKey,\n} from \"../features/dayEditing\";\n\nconst filter = createFilterOptions();\n\nexport default function DayEditor() {\n  const currentEditor = useSelector((state) => state.dayEditing.currentEditor);\n  const dispatch = useDispatch();\n\n  const isOpen =\n    currentEditor &&\n    Number.isInteger(currentEditor.day) &&\n    Number.isInteger(currentEditor.monthIndex) &&\n    Number.isInteger(currentEditor.year);\n\n  const day = isOpen\n    ? new Date(\n        currentEditor?.year,\n        currentEditor?.monthIndex,\n        currentEditor?.day\n      )\n    : null;\n  const customCelebration = useSelector(dayCelebrationSelector(day));\n\n  const close = () => {\n    dispatch(setCurrentEditor(null));\n  };\n\n  const nationalCelebration = getFerieDay(day);\n  const options = [];\n  if (nationalCelebration) {\n    options.push(nationalCelebration);\n  }\n  options.push(`St ${SAINTS?.[getMonth(day)]?.[getDate(day) - 1]}`);\n\n  const celebration =\n    customCelebration != null ? customCelebration : options[0];\n\n  return (\n    <Dialog open={!!isOpen} onClose={close} maxWidth=\"xl\" fullWidth>\n      {isOpen && (\n        <>\n          <DialogTitle>\n            {format(day, \"EEEE d LLLL yyy\", { locale: fr })}\n          </DialogTitle>\n          <DialogContent>\n            <Typography>Affichage</Typography>\n            <Box sx={{ maxWidth: \"13cm\", m: \"auto\", mb: 2 }}>\n              <Day day={day} isLastDay />\n            </Box>\n            <Divider />\n            <Stack\n              sx={{ mt: 2 }}\n              direction=\"row\"\n              spacing={1}\n              divider={<Divider orientation=\"vertical\" flexItem />}\n            >\n              <Box sx={{ width: \"50%\" }}>\n                <Typography sx={{ mb: 2 }}>Information</Typography>\n                <Autocomplete\n                  id=\"celebration\"\n                  freeSolo\n                  options={options}\n                  value={celebration}\n                  filterOptions={(options, params) => {\n                    const filtered = filter(options, params);\n\n                    const { inputValue } = params;\n                    // Suggest the creation of a new value\n                    const isExisting = options.some(\n                      (option) => inputValue === option\n                    );\n                    if (inputValue != null && !isExisting) {\n                      filtered.unshift(inputValue);\n                    }\n\n                    return filtered;\n                  }}\n                  selectOnFocus\n                  clearOnBlur\n                  handleHomeEndKeys\n                  onChange={(event, value) => {\n                    dispatch(setCelebration({ day: getDayKey(day), value }));\n                  }}\n                  renderInput={(params) => (\n                    <TextField {...params} label=\"fête\" />\n                  )}\n                />\n              </Box>\n              <Box sx={{ width: \"50%\" }}>\n                <Typography sx={{ mb: 2 }}>Anniversaires</Typography>\n                <BirthdaysTable\n                  autoHeight\n                  simplified\n                  day={currentEditor?.day}\n                  monthIndex={currentEditor?.monthIndex}\n                />\n              </Box>\n            </Stack>\n          </DialogContent>\n        </>\n      )}\n    </Dialog>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const draggingSlice = createSlice({\n  name: \"dragging\",\n  initialState: {\n    src: null,\n  },\n  reducers: {\n    startDragging: (state, action) => {\n      state.src = action.payload.src;\n      state.name = action.payload.name;\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { startDragging } = draggingSlice.actions;\n\nexport default draggingSlice.reducer;\n","import { get, set } from \"idb-keyval\";\n\nexport const isImage = (name) => {\n  const upperCaseName = name.toUpperCase();\n  return [\".JPG\", \".JPEG\", \".PNG\"].some((extension) =>\n    upperCaseName.endsWith(extension)\n  );\n};\n\nexport async function verifyPermission(fileHandle, readWrite) {\n  if (fileHandle == undefined) {\n    return false;\n  }\n  const options = {};\n  if (readWrite) {\n    options.mode = \"readwrite\";\n  }\n  // Check if permission was already granted. If so, return true.\n  if ((await fileHandle.queryPermission(options)) === \"granted\") {\n    return true;\n  }\n  // Request permission. If the user grants permission, return true.\n  if ((await fileHandle.requestPermission(options)) === \"granted\") {\n    return true;\n  }\n  // The user didn't grant permission, so return false.\n  return false;\n}\n\nexport async function getFolderHandler(tryPreviousFolder) {\n  if (tryPreviousFolder) {\n    const fileHandleOrUndefined = await get(\"last_folder\");\n\n    const hasAccess = await verifyPermission(fileHandleOrUndefined, true);\n    if (hasAccess) {\n      return fileHandleOrUndefined;\n    }\n  }\n  const dirHandle = await window.showDirectoryPicker({\n    startIn: \"pictures\",\n  });\n  set(\"last_folder\", dirHandle);\n\n  return dirHandle;\n}\n\nexport async function openFolder({\n  setters: {\n    setPictures,\n    setDesign,\n    setCalendar,\n    setDayOverride,\n    setMonthsColors,\n  },\n  tryPreviousFolder,\n}) {\n  const dirHandle = await getFolderHandler(tryPreviousFolder);\n  if (!dirHandle) {\n    return;\n  }\n\n  const pictures = [];\n\n  let designObject = null;\n  let calendarObject = null;\n  let dayOverrideObject = null;\n  let monthsColorsObject = null;\n\n  for await (const entry of dirHandle.values()) {\n    if (setPictures && isImage(entry.name)) {\n      const f = await entry.getFile();\n      const url = URL.createObjectURL(f);\n      pictures.push({\n        url,\n        name: entry.name,\n      });\n    } else if (setCalendar && entry.name === \"calendar.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      calendarObject = JSON.parse(text);\n    } else if (setDesign && entry.name === \"design.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      designObject = JSON.parse(text);\n    } else if (setDayOverride && entry.name === \"dayOverride.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      dayOverrideObject = JSON.parse(text);\n    } else if (setMonthsColors && entry.name === \"monthColor.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      monthsColorsObject = JSON.parse(text);\n    }\n  }\n\n  if (setPictures) {\n    setPictures(pictures);\n  }\n  if (setDesign && designObject) {\n    designObject.pictures.forEach((month) => {\n      month.forEach((picture) => {\n        if (picture && picture.src) picture.src = undefined;\n      });\n    });\n    setDesign(designObject);\n  }\n  if (setCalendar && calendarObject) {\n    setCalendar(calendarObject);\n  }\n  if (setDayOverride && dayOverrideObject) {\n    setDayOverride(dayOverrideObject);\n  }\n  if (setMonthsColors && monthsColorsObject) {\n    setMonthsColors(monthsColorsObject);\n  }\n}\n\nexport async function saveFolder({\n  values: { design, calendar, dayOverride, monthColor },\n  tryPreviousFolder = true,\n}) {\n  const dirHandle = await getFolderHandler(tryPreviousFolder);\n\n  if (!dirHandle) {\n    return;\n  }\n\n  if (design) {\n    const fileHandle = await dirHandle.getFileHandle(\"design.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(design));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n\n  if (calendar) {\n    const fileHandle = await dirHandle.getFileHandle(\"calendar.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(calendar));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n\n  if (dayOverride) {\n    const fileHandle = await dirHandle.getFileHandle(\"dayOverride.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(dayOverride));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n\n  if (monthColor) {\n    const fileHandle = await dirHandle.getFileHandle(\"monthColor.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(monthColor));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n}\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Button from \"@mui/material/Button\";\n\nimport { Tooltip } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport { startDragging } from \"../features/dragging\";\nimport { fetchPictures, setMonths } from \"../features/pictureSystem\";\nimport { setBirthdays } from \"../features/birthdays\";\nimport {\n  setDayOverride as setDayOverrideAction,\n  setMonthsColors as setMonthsColorsAction,\n} from \"../features/dayEditing\";\n\nimport { LEFT_MENU_WIDTH, IMAGE_MENU_WIDTH } from \"../const\";\n\nimport { openFolder } from \"../components/fileManagement/utils\";\nexport default function ImageDrawer() {\n  const pictures = useSelector((state) => state.pictureSystem.pictures);\n  const dispatch = useDispatch();\n\n  const setPictures = (x) => {\n    dispatch(fetchPictures({ pictures: x }));\n  };\n\n  const setCalendar = (x) => {\n    dispatch(setBirthdays(x));\n  };\n\n  const setDesign = ({ pictures }) => {\n    dispatch(setMonths(pictures));\n  };\n\n  const setDayOverride = (x) => {\n    dispatch(setDayOverrideAction(x));\n  };\n\n  const setMonthsColors = (x) => {\n    dispatch(setMonthsColorsAction(x));\n  };\n\n  const picturesLoaded = pictures.length > 0;\n\n  return (\n    <Drawer\n      sx={{\n        width: `${IMAGE_MENU_WIDTH}px`,\n        flexShrink: 0,\n        marginLeft: `${LEFT_MENU_WIDTH}px`,\n\n        \"& .MuiDrawer-paper\": {\n          width: `${IMAGE_MENU_WIDTH}px`,\n          marginLeft: `${LEFT_MENU_WIDTH}px`,\n          boxSizing: \"border-box\",\n          borderRight: \"1px solid lightgray\",\n        },\n      }}\n      variant=\"permanent\"\n      anchor=\"top\"\n    >\n      <Toolbar />\n      <Box sx={{ overflow: \"auto\", height: \"100vh\" }}>\n        <Box\n          sx={{\n            position: \"sticky\",\n            top: 0,\n            zIndex: 5,\n            backgroundColor: \"white\",\n            padding: picturesLoaded ? \"4px\" : \"100px 4px 4px 4px\",\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            flexDirection: picturesLoaded ? \"row\" : \"column\",\n          }}\n        >\n          {picturesLoaded ? (\n            <>\n              <Tooltip\n                title=\"Attention, les données non enregistrées seront perdu\"\n                placement=\"bottom\"\n              >\n                <Button\n                  onClick={() => {\n                    openFolder({\n                      setters: {\n                        setPictures,\n                        setCalendar,\n                        setDesign,\n                        setDayOverride,\n                        setMonthsColors,\n                      },\n                      tryPreviousFolder: false,\n                    });\n                  }}\n                  variant=\"outlined\"\n                >\n                  Changer de dossier\n                </Button>\n              </Tooltip>\n              <Tooltip title=\"Récupère les dernières image que vous avez ajoutées dans le dossier\">\n                <Button\n                  onClick={() =>\n                    openFolder({\n                      setters: { setPictures },\n                      tryPreviousFolder: true,\n                    })\n                  }\n                  variant=\"contained\"\n                >\n                  Rafraîchir le dossier\n                </Button>\n              </Tooltip>\n            </>\n          ) : (\n            <>\n              <Button\n                variant=\"contained\"\n                onClick={() => {\n                  openFolder({\n                    setters: {\n                      setPictures,\n                      setCalendar,\n                      setDesign,\n                      setDayOverride,\n                      setMonthsColors,\n                    },\n                    tryPreviousFolder: true,\n                  });\n                }}\n              >\n                Ouvrir un dossier\n              </Button>\n              <p style={{ padding: \"1rem\" }}>\n                Ouvrez le dossier dans lequel se trouve les images pour\n                personnaliser votre calendrier\n              </p>\n            </>\n          )}\n        </Box>\n        {picturesLoaded && (\n          <ImageList variant=\"masonry\" cols={2} gap={5}>\n            {pictures.map(({ url, name }) => (\n              <ImageListItem key={url}>\n                <img\n                  src={url}\n                  alt=\"\"\n                  onDragStart={() => {\n                    dispatch(startDragging({ src: url, name }));\n                  }}\n                  loading=\"lazy\"\n                />\n              </ImageListItem>\n            ))}\n          </ImageList>\n        )}\n      </Box>\n    </Drawer>\n  );\n}\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { PICTURE_HEIGHT, PICTURE_WIDTH, PX_PER_CM } from \"../const\";\nimport { setCropper, updatePicture } from \"../features/pictureSystem\";\nimport PhotoCameraRoundedIcon from \"@mui/icons-material/PhotoCameraRounded\";\nimport Box from \"@mui/material/Box\";\n\nexport default function CanvasImage({\n  width = PICTURE_WIDTH * PX_PER_CM,\n  height = PICTURE_HEIGHT * PX_PER_CM,\n  monthIndex,\n  pictureIndex,\n  ...others\n}) {\n  const image = useSelector(\n    (state) => state.pictureSystem.months[monthIndex][pictureIndex]\n  );\n  const draggingSrc = useSelector((state) => state.dragging.src);\n  const draggingName = useSelector((state) => state.dragging.name);\n  const canvasRef = React.useRef(null);\n  const dispatch = useDispatch();\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    dispatch(\n      updatePicture({\n        monthIndex,\n        pictureIndex,\n        src: draggingSrc,\n        name: draggingName,\n      })\n    );\n  };\n\n  const onClick = (event) => {\n    event.stopPropagation();\n    dispatch(setCropper({ src: image?.src, monthIndex, pictureIndex }));\n  };\n\n  React.useEffect(() => {\n    if (image && image.src) {\n      const canvas = canvasRef.current;\n      const context = canvas.getContext(\"2d\");\n      let img = new Image();\n\n      const modifiedImages = { ...image };\n\n      img.addEventListener(\n        \"load\",\n        function () {\n          if (\n            modifiedImages.x === undefined ||\n            modifiedImages.y === undefined ||\n            modifiedImages.width === undefined ||\n            modifiedImages.height === undefined ||\n            modifiedImages.imageWidth === undefined ||\n            modifiedImages.imageHeight === undefined\n          ) {\n            // if cropped unknown take largest scale\n            const fullWidth = img.width / width < img.height / height;\n\n            modifiedImages.x = 0;\n            modifiedImages.y = 0;\n            modifiedImages.width = fullWidth\n              ? 100\n              : (100 * img.height * width) / (height * img.width);\n            modifiedImages.height = fullWidth\n              ? (100 * img.width * height) / (width * img.height)\n              : 100;\n\n            dispatch(\n              updatePicture({\n                monthIndex,\n                pictureIndex,\n                ...modifiedImages,\n                imageWidth: width,\n                imageHeight: height,\n              })\n            );\n          }\n          context.drawImage(\n            img,\n            (modifiedImages.x * img.width) / 100,\n            (modifiedImages.y * img.height) / 100,\n            (modifiedImages.width * img.width) / 100,\n            (modifiedImages.height * img.height) / 100,\n            0,\n            0,\n            width,\n            height\n          );\n        },\n        false\n      );\n      img.src = image.src;\n    }\n  }, [image, image.src, width, height, dispatch, monthIndex, pictureIndex]);\n\n  return image.src ? (\n    <canvas\n      onClick={onClick}\n      onDrop={onDrop}\n      onDragOver={(e) => e.preventDefault()}\n      ref={canvasRef}\n      width={width}\n      height={height}\n      id={`canvasImage-${monthIndex}-${pictureIndex}`}\n      {...others}\n    />\n  ) : (\n    <Box\n      onClick={onClick}\n      onDrop={onDrop}\n      onDragOver={(e) => e.preventDefault()}\n      sx={{\n        borderRadius: \"2cm\",\n        backgroundColor: \"#f3f3f3\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n      {...others}\n    >\n      <PhotoCameraRoundedIcon\n        sx={{\n          fontSize: 50,\n        }}\n      />\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { eachDayOfInterval, intlFormat } from \"date-fns\";\nimport Day from \"./day\";\nimport {\n  PICTURE_WIDTH,\n  PICTURE_HEIGHT,\n  HEADER_FON_SIZE,\n  HEADER_TOP_PADDING,\n  HEADER_HEIGHT,\n} from \"../../const\";\nimport CanvasImage from \"../CanvasImage\";\n\n// Create styles\nconst styles = {\n  page: {\n    flexDirection: \"column\",\n    backgroundColor: \"transparent\",\n    padding: 0,\n  },\n  header: {\n    textAlign: \"center\",\n    fontSize: HEADER_FON_SIZE,\n\n    paddingTop: HEADER_TOP_PADDING,\n    height: HEADER_HEIGHT,\n\n    fontFamily: \"Roboto\",\n    textTransform: \"capitalize\",\n  },\n  mainContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n  },\n  pictures: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: `${3 * PICTURE_HEIGHT}cm`,\n    width: `${PICTURE_WIDTH}cm`,\n  },\n\n  picture: {\n    height: `${PICTURE_HEIGHT}cm`,\n    width: `${PICTURE_WIDTH}cm`,\n  },\n  calendar: {\n    flexGrow: 1,\n  },\n};\n\nconst Month = React.forwardRef(({ year, month, editableDays = false }, ref) => {\n  const days = eachDayOfInterval({\n    start: new Date(year, month, 1),\n    end: new Date(year, month + 1, 0),\n  });\n\n  return (\n    <div style={{ ...styles.page, height: \"29.7cm\", width: \"21cm\" }} ref={ref}>\n      <div style={styles.header}>\n        <span>\n          {intlFormat(\n            days[0],\n            {\n              month: \"long\",\n            },\n            {\n              locale: \"fr\",\n            }\n          ) + ` ${year}`}\n        </span>\n      </div>\n      <div style={styles.mainContent}>\n        <div style={styles.pictures}>\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={0}\n          />\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={1}\n          />\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={2}\n          />\n        </div>\n        <div style={styles.calendar}>\n          {days.map((day, index) => {\n            return (\n              <Day\n                key={index}\n                day={day}\n                isLastDay={index === days.length - 1}\n                isEditable={editableDays}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default Month;\n","import * as React from \"react\";\n\nimport ImageDrawer from \"../components/ImageDrawer\";\n\nimport Month from \"../components/calendarGenerator/Month\";\nimport { useNavigate } from \"react-router-dom\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Paper from \"@mui/material/Paper\";\n\nimport Fab from \"@mui/material/Fab\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport RemoveIcon from \"@mui/icons-material/Remove\";\n\nimport { IMAGE_MENU_WIDTH } from \"../const\";\n\nconst MINI_MONTH_WIDTH = 210;\nconst MINI_MONTH_HEIGHT = 297;\nconst MIN_ZOOM = 0.5;\nconst MAX_ZOOM = 3;\n\nexport default function MultipleMonths() {\n  const navigate = useNavigate();\n\n  const calendarRef = React.useRef(null);\n  const [scale, setScale] = React.useState(1);\n  const [zoom, setZoom] = React.useState(1);\n\n  React.useEffect(() => {\n    if (calendarRef.current) {\n      const xScale = MINI_MONTH_WIDTH / calendarRef.current.clientWidth;\n      const yScale = MINI_MONTH_HEIGHT / calendarRef.current.clientHeight;\n\n      const minScale = Math.min(xScale, yScale);\n      setScale(minScale);\n    }\n  }, []);\n\n  return (\n    <div>\n      <ImageDrawer />\n      <div\n        style={{\n          maxHeight: \"100vh\",\n          paddingLeft: IMAGE_MENU_WIDTH,\n          paddingTop: \"64px\",\n        }}\n      >\n        <div>\n          <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((monthIndex) => (\n              <div\n                key={monthIndex}\n                style={{\n                  width: zoom * MINI_MONTH_WIDTH,\n                  height: zoom * MINI_MONTH_HEIGHT,\n                  position: \"relative\",\n                  margin: \"2rem\",\n                }}\n              >\n                <div\n                  key={monthIndex}\n                  style={{\n                    transform: `scale(${zoom * scale}, ${zoom * scale})`,\n                    transformOrigin: \"top left\",\n                    margin: \"1rem\",\n                  }}\n                  onClick={() => {\n                    navigate(`/design/${monthIndex}`);\n                  }}\n                >\n                  <Paper\n                    elevation={3}\n                    ref={monthIndex === 0 ? calendarRef : null}\n                    sx={{ width: \"max-content\" }}\n                  >\n                    <Month\n                      year={2022}\n                      month={monthIndex}\n                      editableDays={false}\n                    />\n                  </Paper>\n                </div>\n              </div>\n            ))}\n          </div>\n          <Box sx={{ position: \"fixed\", bottom: \"1rem\", right: \"1rem\" }}>\n            <Fab\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"add\"\n              onClick={() => setZoom((x) => Math.max(MIN_ZOOM, x - 0.5))}\n            >\n              <RemoveIcon />\n            </Fab>\n            <Box\n              sx={{\n                margin: \"0 1rem\",\n                width: \"2rem\",\n                backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                display: \"inline-block\",\n                textAlign: \"center\",\n              }}\n            >\n              <Typography variant=\"p\" component=\"span\">\n                {zoom}\n              </Typography>\n            </Box>\n            <Fab\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"add\"\n              onClick={() => setZoom((x) => Math.min(MAX_ZOOM, x + 0.5))}\n            >\n              <AddIcon />\n            </Fab>\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport ImageDrawer from \"../components/ImageDrawer\";\n\nimport GridViewIcon from \"@mui/icons-material/GridView\";\n\nimport Month from \"../components/calendarGenerator/Month\";\n\nimport { intlFormat } from \"date-fns\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Box from \"@mui/material/Box\";\nimport Stack from \"@mui/material/Stack\";\nimport Paper from \"@mui/material/Paper\";\n\nimport { setMonthColor } from \"../features/dayEditing\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as colors from \"@mui/material/colors\";\n\nimport Fab from \"@mui/material/Fab\";\n\nimport { LEFT_MENU_WIDTH, IMAGE_MENU_WIDTH } from \"../const\";\n\nimport CheckIcon from \"@mui/icons-material/Check\";\nconst ColorPalette = ({ palette, value, onChange }) => (\n  <Stack direction=\"row\" spacing={0.5} sx={{ mt: 2, ml: 1 }}>\n    {Object.keys(palette).map((colorName) => (\n      <Box\n        sx={{\n          width: 32,\n          height: 32,\n          color: \"common.white\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          \"&:hover\": { cursor: \"pointer\" },\n        }}\n        style={{ backgroundColor: palette[colorName] }}\n        onClick={() => {\n          if (value === palette[colorName] || !onChange) {\n            return;\n          }\n          onChange(palette[colorName]);\n        }}\n      >\n        {value === palette[colorName] ? (\n          <CheckIcon style={{ fontSize: 30 }} />\n        ) : null}\n      </Box>\n    ))}\n  </Stack>\n);\nconst shade = 200;\nconst palette = {\n  red: colors[\"red\"][shade],\n  pink: colors[\"pink\"][shade],\n  purple: colors[\"purple\"][shade],\n  deepPurple: colors[\"deepPurple\"][shade],\n  indigo: colors[\"indigo\"][shade],\n  blue: colors[\"blue\"][shade],\n  lightBlue: colors[\"lightBlue\"][shade],\n  cyan: colors[\"cyan\"][shade],\n  teal: colors[\"teal\"][shade],\n  green: colors[\"green\"][shade],\n  lightGreen: colors[\"lightGreen\"][shade],\n  lime: colors[\"lime\"][shade],\n  yellow: colors[\"yellow\"][shade],\n  amber: colors[\"amber\"][shade],\n  orange: colors[\"orange\"][shade],\n  deepOrange: colors[\"deepOrange\"][shade],\n};\n\nexport default function SingleMonth() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { month } = useParams();\n\n  const monthColor = useSelector(\n    (state) => state.dayEditing.monthColor[Number(month)]\n  );\n\n  const [paperSize, setPaperSize] = React.useState({ width: 100, height: 100 });\n  const calendarRef = React.useRef(null);\n  const displayDivRef = React.useRef(null);\n\n  const [scale, setScale] = React.useState(1);\n\n  const updateCalendarSize = () => {\n    if (calendarRef.current && displayDivRef.current) {\n      const xScale =\n        (displayDivRef.current.offsetWidth -\n          100 -\n          LEFT_MENU_WIDTH -\n          IMAGE_MENU_WIDTH) /\n        calendarRef.current.clientWidth;\n      const yScale =\n        (displayDivRef.current.offsetHeight - 100 - 114) /\n        calendarRef.current.clientHeight;\n\n      const minScale = Math.min(xScale, yScale);\n\n      setScale(minScale);\n      setPaperSize({\n        width: minScale * calendarRef.current.clientWidth,\n        height: minScale * calendarRef.current.clientHeight,\n      });\n    }\n  };\n  React.useEffect(() => {\n    updateCalendarSize();\n    const ref = displayDivRef.current;\n    window.addEventListener(\"resize\", updateCalendarSize);\n    return () => {\n      window.removeEventListener(\"resize\", updateCalendarSize);\n    };\n  }, []);\n\n  const handleColorChange = React.useCallback((newValue) =>\n    dispatch(setMonthColor({ monthIndex: Number(month), value: newValue }))\n  );\n\n  return (\n    <div>\n      <ImageDrawer />\n      <div\n        style={{\n          height: \"100vh\",\n          paddingLeft: IMAGE_MENU_WIDTH,\n          paddingTop: \"64px\",\n        }}\n        ref={displayDivRef}\n      >\n        <div>\n          <Tabs\n            sx={{ flex: \"1 1 100px\" }}\n            value={Number(month) || 0}\n            onChange={(event, newValue) => navigate(`/design/${newValue}`)}\n            aria-label=\"month tabs\"\n            variant=\"scrollable\"\n          >\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((monthIndex) => (\n              <Tab\n                key={monthIndex}\n                label={intlFormat(\n                  new Date(2000, monthIndex, 1),\n                  {\n                    month: \"short\",\n                  },\n                  {\n                    locale: \"fr\",\n                  }\n                )}\n                value={monthIndex}\n              />\n            ))}\n          </Tabs>\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Box sx={{ position: \"relative\", margin: \"16px\", ...paperSize }}>\n              <div\n                style={{\n                  transform: `scale(${scale}, ${scale})`,\n                  transformOrigin: \"top left\",\n                  margin: \"1rem\",\n                }}\n              >\n                <Paper\n                  elevation={3}\n                  ref={calendarRef}\n                  sx={{ width: \"max-content\" }}\n                >\n                  <Month\n                    year={2022}\n                    month={Number(month) || 0}\n                    editableDays={true}\n                  />\n                </Paper>\n              </div>\n            </Box>\n          </div>\n          <ColorPalette\n            palette={palette}\n            value={monthColor}\n            onChange={handleColorChange}\n          />\n\n          <Box sx={{ position: \"fixed\", bottom: \"1rem\", right: \"1rem\" }}>\n            <Fab\n              color=\"primary\"\n              size=\"large\"\n              aria-label=\"grid-view\"\n              onClick={() => navigate(\"/design\")}\n            >\n              <GridViewIcon />\n            </Fab>\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport BirthdaysTable from \"../components/BirthdaysTable\";\n\nexport default function Birthdays() {\n  return (\n    <div\n      style={{\n        height: \"100vh\",\n        paddingTop: \"64px\",\n        textAlign: \"right\",\n      }}\n    >\n      <BirthdaysTable tableHeight=\"60vh\" />\n    </div>\n  );\n}\n","export default function YearEvents() {\n  return null;\n}\n","import React from \"react\";\nimport Month from \"./Month\";\n\nconst CalendarToPrint = React.forwardRef(\n  ({ year = 2022, state, pictureUrls }, ref) => {\n    const months = [];\n    for (let month = 0; month < 12; month += 1) {\n      months.push(\n        <Month\n          year={year}\n          month={month}\n          key={month}\n          state={state}\n          pictureUrls={pictureUrls}\n        />\n      );\n    }\n    return <div ref={ref}>{months}</div>;\n  }\n);\n\nexport default CalendarToPrint;\n","import * as React from \"react\";\nimport MUI_AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalPrintshopRoundedIcon from \"@mui/icons-material/LocalPrintshopRounded\";\nimport SaveRoundedIcon from \"@mui/icons-material/SaveRounded\";\n\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\n\nimport { useReactToPrint } from \"react-to-print\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { saveFolder } from \"./fileManagement/utils\";\nimport { useSelector } from \"react-redux\";\n\nimport CalendarToPrint from \"./calendarGenerator\";\n\nexport default function AppBar() {\n  const navigate = useNavigate();\n\n  const birthdays = useSelector((state) => state.birthdays.values);\n  const months = useSelector((state) => state.pictureSystem.months);\n  const dayOverride = useSelector((state) => state.dayEditing.celebrations);\n  const monthColor = useSelector((state) => state.dayEditing.monthColor);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const calendarToPrintRef = React.useRef(null);\n  const handlePrint = useReactToPrint({\n    content: () => calendarToPrintRef.current,\n  });\n\n  return (\n    <>\n      <MUI_AppBar\n        position=\"fixed\"\n        sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\n      >\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"div\" onClick={handleClick}>\n            Calendar\n          </Typography>\n          <div>\n            <Menu\n              id=\"basic-menu\"\n              anchorEl={anchorEl}\n              open={open}\n              onClose={handleClose}\n              MenuListProps={{\n                \"aria-labelledby\": \"basic-button\",\n              }}\n            >\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/\");\n                  handleClose();\n                }}\n              >\n                Accueil\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/design\");\n                  handleClose();\n                }}\n              >\n                Design\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/birthdays\");\n                  handleClose();\n                }}\n              >\n                Anniversaires\n              </MenuItem>\n            </Menu>\n          </div>\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => handlePrint()}\n          >\n            <LocalPrintshopRoundedIcon />\n          </IconButton>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => {\n              saveFolder({\n                values: {\n                  calendar: birthdays,\n                  design: { pictures: months },\n                  dayOverride,\n                  monthColor,\n                },\n              });\n            }}\n          >\n            <SaveRoundedIcon />\n          </IconButton>\n        </Toolbar>\n      </MUI_AppBar>\n\n      <div style={{ display: \"none\" }}>\n        <CalendarToPrint ref={calendarToPrintRef} />\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\n\nimport ImageCropper from \"./components/ImageCropper\";\nimport DayEditor from \"./components/DayEditor\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Box from \"@mui/material/Box\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\nimport EventRoundedIcon from \"@mui/icons-material/EventRounded\";\nimport PhotoCameraRoundedIcon from \"@mui/icons-material/PhotoCameraRounded\";\n\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport {\n  // Welcome,\n  MultipleMonths,\n  SingleMonth,\n  Birthdays,\n  YearEvents,\n} from \"./pages\";\n\nimport { LEFT_MENU_WIDTH } from \"./const\";\n\nimport AppBar from \"./components/AppBar\";\n\nfunction App() {\n  const navigate = useNavigate();\n  return (\n    <>\n      <AppBar />\n\n      <Drawer\n        sx={{\n          width: `${LEFT_MENU_WIDTH}px`,\n          flexShrink: 0,\n\n          \"& .MuiDrawer-paper\": {\n            width: `${LEFT_MENU_WIDTH}px`,\n            boxSizing: \"border-box\",\n            borderRight: \"1px solid lightgray\",\n          },\n        }}\n        variant=\"permanent\"\n        anchor=\"top\"\n      >\n        <Toolbar />\n        <Box\n          sx={{\n            overflow: \"auto\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"stretch\",\n            paddingTop: \"1rem\",\n            height: \"100vh\",\n          }}\n        >\n          <Tooltip title=\"Photos\" placement=\"right\">\n            <IconButton\n              aria-label=\"images\"\n              size=\"large\"\n              sx={{ width: \"50px\", height: \"50px\", margin: \"0 auto\" }}\n              onClick={() => navigate(\"design\")}\n            >\n              <PhotoCameraRoundedIcon fontSize=\"inherit\" />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Anniversaires\" placement=\"right\">\n            <IconButton\n              sx={{ width: \"50px\", height: \"50px\", margin: \"0 auto\" }}\n              aria-label=\"anniversaires\"\n              size=\"large\"\n              onClick={() => navigate(\"birthdays\")}\n            >\n              <EventRoundedIcon fontSize=\"inherit\" />\n            </IconButton>\n          </Tooltip>\n        </Box>\n      </Drawer>\n      <div style={{ paddingLeft: `${LEFT_MENU_WIDTH}px` }}>\n        <Routes>\n          {/* <Route path=\"/\" element={<Welcome />} /> */}\n          <Route path=\"/\" element={<MultipleMonths />} />\n          <Route path=\"design\" element={<MultipleMonths />} />\n          <Route path=\"design/:month\" element={<SingleMonth />} />\n          <Route path=\"birthdays\" element={<Birthdays />} />\n          <Route path=\"yearEvents\" element={<YearEvents />} />\n        </Routes>\n      </div>\n      <ImageCropper />\n      <DayEditor />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport pictureSystemReducer from \"./features/pictureSystem\";\nimport draggingReducer from \"./features/dragging\";\nimport birthdaysReducer from \"./features/birthdays\";\nimport dayEditingReducer from \"./features/dayEditing\";\n\nexport default configureStore({\n  reducer: {\n    pictureSystem: pictureSystemReducer,\n    dragging: draggingReducer,\n    birthdays: birthdaysReducer,\n    dayEditing: dayEditingReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./store\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\n\nconst theme = createTheme({\n  palette: {\n    mode: \"light\",\n  },\n});\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <App />\n        </ThemeProvider>\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}