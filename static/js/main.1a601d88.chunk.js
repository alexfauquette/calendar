(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{239:function(e,t){},398:function(e,t,n){},413:function(e,t){},415:function(e,t){},445:function(e,t){},446:function(e,t){},557:function(e,t){},727:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(67),c=n.n(i),s=(n(398),n(12)),o=n(20),l=n(80),u=n(31),d=n(366),h="0.2cm",b="0.05cm",j=8.8,f=n(79),p=["monthIndex","pictureIndex"],m=Object(f.b)({name:"pictureSystem",initialState:{pictures:[],months:[[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}]],cropper:null},reducers:{fetchPictures:function(e,t){var n={};e.pictures.forEach((function(e){var t=e.url,r=e.name;n[t]=r,URL.revokeObjectURL(t)}));var r={};t.payload.pictures.forEach((function(e){var t=e.name,n=e.url;r[t]=n})),e.pictures=t.payload.pictures,e.months.forEach((function(t,a){t.forEach((function(t,i){if(t.src){var c=n[t.src],s=r[c];if(void 0!==s)return void(e.months[a][i]=Object(o.a)(Object(o.a)({},e.months[a][i]),{},{src:s}))}e.months[a][i]={}}))}))},updatePicture:function(e,t){var n=t.payload,r=n.monthIndex,a=n.pictureIndex,i=Object(l.a)(n,p);void 0!==i.src?e.months[r][a]=Object(o.a)({},i):e.months[r][a]=Object(o.a)(Object(o.a)({},e.months[r][a]),i)},setCropper:function(e,t){t.payload?e.cropper=t.payload:e.cropper=null}}}),x=m.actions,O=x.fetchPictures,v=x.updatePicture,g=x.setCropper,y=m.reducer,w=n(344),C=n.n(w),S=n(792),A=n(97),k=n(814),I=n(815),D=n(816),P=n(96),R=n(2),B=["children","onClose"],F=function(e){var t=e.children,n=e.onClose,r=Object(l.a)(e,B);return Object(R.jsxs)(S.a,Object(o.a)(Object(o.a)({sx:{m:0,p:2}},r),{},{children:[t,n?Object(R.jsx)(A.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(R.jsx)(C.a,{})}):null]}))};function M(){var e=Object(u.c)((function(e){return e.pictureSystem.cropper})),t=Object(u.c)((function(e){return e.pictureSystem.cropper?e.pictureSystem.months[e.pictureSystem.cropper.monthIndex][e.pictureSystem.cropper.pictureIndex].croppedAreaPixels:null})),n=r.useState({x:0,y:0}),a=Object(s.a)(n,2),i=a[0],c=a[1],l=r.useState(1),h=Object(s.a)(l,2),b=h[0],f=h[1],p=r.useState(),m=Object(s.a)(p,2),x=m[0],O=m[1],y=r.useState(null),w=Object(s.a)(y,2),C=w[0],S=w[1],A=r.useState(null),B=Object(s.a)(A,2),M=B[0],J=B[1],G=r.useCallback((function(e,t){S(e),J(t)}),[]),L=Object(u.b)(),E=function(){L(g(null))},N=!!e;return Object(R.jsxs)(k.a,{onClose:E,"aria-labelledby":"customized-dialog-title",open:N,fullWidth:!0,maxWidth:"lg",children:[Object(R.jsx)(F,{id:"customized-dialog-title",onClose:E,children:"Crop Image"}),Object(R.jsx)(I.a,{dividers:!0,children:e&&Object(R.jsx)("div",{style:{position:"relative",height:"60vh"},children:Object(R.jsx)(d.a,{image:e.src||null,crop:i,zoom:b,aspect:8/j,onCropChange:c,onCropComplete:G,onZoomChange:f,onMediaLoaded:function(e){O(e)},initialCroppedAreaPixels:t,maxZoom:50})})}),Object(R.jsx)(D.a,{children:Object(R.jsx)(P.a,{onClick:function(){C&&x&&L(v(Object(o.a)(Object(o.a)({monthIndex:e.monthIndex,pictureIndex:e.pictureIndex},C),{},{croppedAreaPixels:M}))),E()},children:"Save changes"})})]})}var J=n(27),G=(n(239),n(812)),L=n(817),E=n(818),N=n(822),T=n(823),H=Object(f.b)({name:"dragging",initialState:{src:null},reducers:{startDragging:function(e,t){e.src=t.payload.src}}}),z=H.actions.startDragging,W=H.reducer,V=n(25),U=n(346),q=n.n(U);function Z(e){var t=e.lastName,n=void 0===t?"":t,r=e.firstName,a=void 0===r?"":r;return"".concat(n," ").concat(a)}var X=function(){return{id:q()(),nickname:Z({}),firstName:"",lastName:"",birthday:String(new Date),printed:!0,agePrinted:!0}},Y=Object(f.b)({name:"birthdays",initialState:{values:[X()]},reducers:{setBirthdays:function(e,t){e.values=t.payload},upsertBirthday:function(e,t){var n,r=e.values.findIndex((function(e){var n,r;return(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)&&(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t||null===(r=t.payload)||void 0===r?void 0:r.id)}));(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.birthday)&&(t.payload.birthday=String(t.payload.birthday)),-1===r?e.values.push(Object(o.a)(Object(o.a)({},X()),t.payload)):e.values[r]=Object(o.a)(Object(o.a)(Object(o.a)({},X()),e.values[r]),t.payload)},removeBirthday:function(e,t){var n=e.values.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.values=[].concat(Object(V.a)(e.values.slice(0,n)),Object(V.a)(e.values.slice(n+1))))}}}),_=Y.actions,K=_.upsertBirthday,Q=(_.removeBirthday,_.setBirthdays),$=Y.reducer,ee=n(30),te=n.n(ee),ne=n(146),re=n(226);function ae(e){var t,n,r,a=2;for("undefined"!==typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ie(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ie(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return ie=function(e){this.s=e,this.n=e.next},ie.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ie(e)}var ce=function(e){var t=e.toUpperCase();return[".JPG",".JPEG",".PNG"].some((function(e){return t.endsWith(e)}))};function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(ne.a)(te.a.mark((function e(t,n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=t){e.next=2;break}return e.abrupt("return",!1);case 2:return r={},n&&(r.mode="readwrite"),e.next=6,t.queryPermission(r);case 6:if(e.t0=e.sent,"granted"!==e.t0){e.next=9;break}return e.abrupt("return",!0);case 9:return e.next=11,t.requestPermission(r);case 11:if(e.t1=e.sent,"granted"!==e.t1){e.next=14;break}return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(ne.a)(te.a.mark((function e(t){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,Object(re.a)("last_folder");case 3:return n=e.sent,e.next=6,se(n,!0);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",n);case 9:return e.next=11,window.showDirectoryPicker({startIn:"pictures"});case 11:return r=e.sent,Object(re.b)("last_folder",r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return he.apply(this,arguments)}function he(){return(he=Object(ne.a)(te.a.mark((function e(t){var n,r,a,i,c,s,o,l,u,d,h,b,j,f,p,m,x,O,v;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setters,r=n.setPictures,a=n.setDesign,i=n.setCalendar,c=t.tryPreviousFolder,e.next=3,le(c);case 3:if(s=e.sent){e.next=6;break}return e.abrupt("return");case 6:o=[],l=!1,u=!1,e.prev=9,h=ae(s.values());case 11:return e.next=13,h.next();case 13:if(!(l=!(b=e.sent).done)){e.next=44;break}if(j=b.value,!r||!ce(j.name)){e.next=23;break}return e.next=18,j.getFile();case 18:f=e.sent,p=URL.createObjectURL(f),o.push({url:p,name:j.name}),e.next=41;break;case 23:if(!i||"calendar.json"!==j.name){e.next=33;break}return e.next=26,j.getFile();case 26:return m=e.sent,e.next=29,m.text();case 29:x=e.sent,i(JSON.parse(x)),e.next=41;break;case 33:if(!a||"design.json"!==j.name){e.next=41;break}return e.next=36,j.getFile();case 36:return O=e.sent,e.next=39,O.text();case 39:v=e.sent,a(JSON.parse(v));case 41:l=!1,e.next=11;break;case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(9),u=!0,d=e.t0;case 50:if(e.prev=50,e.prev=51,!l||null==h.return){e.next=55;break}return e.next=55,h.return();case 55:if(e.prev=55,!u){e.next=58;break}throw d;case 58:return e.finish(55);case 59:return e.finish(50);case 60:r&&r(o);case 61:case"end":return e.stop()}}),e,null,[[9,46,50,60],[51,,55,59]])})))).apply(this,arguments)}function be(){return(be=Object(ne.a)(te.a.mark((function e(t){var n,r,a,i,c,s,o,l,u,d;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.values,r=n.design,a=n.calendar,i=t.tryPreviousFolder,c=void 0===i||i,e.next=3,le(c);case 3:if(s=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=17;break}return e.next=9,s.getFileHandle("design.json",{create:!0});case 9:return o=e.sent,e.next=12,o.createWritable();case 12:return l=e.sent,e.next=15,l.write(JSON.stringify(r));case 15:return e.next=17,l.close();case 17:if(!a){e.next=28;break}return e.next=20,s.getFileHandle("calendar.json",{create:!0});case 20:return u=e.sent,e.next=23,u.createWritable();case 23:return d=e.sent,e.next=26,d.write(JSON.stringify(a));case 26:return e.next=28,d.close();case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){var e=Object(u.c)((function(e){return e.pictureSystem.pictures})),t=Object(u.b)(),n=function(e){t(O({pictures:e}))},r=function(e){t(Q(e))},a=e.length>0;return Object(R.jsxs)(G.a,{sx:{width:400,flexShrink:0,"& .MuiDrawer-paper":{width:400,boxSizing:"border-box"}},variant:"permanent",anchor:"top",children:[Object(R.jsx)(L.a,{}),Object(R.jsxs)(E.a,{sx:{overflow:"auto"},children:[Object(R.jsxs)(E.a,{children:[Object(R.jsx)(P.a,{onClick:function(){de({setters:{setPictures:n,setCalendar:r},tryPreviousFolder:!a})},children:a?"Changer":"Ouvrir"}),a&&Object(R.jsx)(P.a,{onClick:function(){return de({setters:{setPictures:n},tryPreviousFolder:!0})},children:"Rafra\xeechir"})]}),a&&Object(R.jsx)(N.a,{variant:"masonry",cols:2,gap:5,children:e.map((function(e){var n=e.url;return Object(R.jsx)(T.a,{children:Object(R.jsx)("img",{src:n,width:200,alt:"",onDragStart:function(){t(z({src:n}))}})},n)}))})]})]})}var fe=n(29),pe=n(802),me=n(800),xe=n(803),Oe=n(801),ve=n(805),ge=n(799),ye=n(808),we=[["Marie, m\xe8re de Dieu","Basile et Gr\xe9goire","Genevi\xe8ve","Odilon","Edouard","M\xe9laine","Raymond","Lucien","Alix","Guillaume","Paulin","Tatiana","Yvette","Nina","R\xe9mi","Marcel","Roseline","Prisca","Marius","S\xe9bastien","Agn\xe8s","Vincent","Barnard","Fran\xe7ois de Sales","Ananie","Paule","Ang\xe8le","Thomas d'Aquin","Gildas","Martine","Marcelle"],["Ella","Th\xe9ophane","Blaise","V\xe9ronique","Agathe","Gaston","Eug\xe9nie","Jacqueline","Apolline","Arnaud","H\xe9lo\xefse","F\xe9lix","B\xe9atrice","Valentin","Claude","Julienne","Alexis","Bernadette","Gabin","Aim\xe9e","Pierre-Damien","Isabelle","Lazare","Modeste","Rom\xe9o","Nestor","Honorine","Romain","(Auguste)"],["Aubin","Charles le Bon","Gu\xe9nol\xe9","Casimir","Olive","Colette","F\xe9licit\xe9","Jean de Dieu","Fran\xe7oise","Vivien","Rosine","Justine","Rodrigue","Mathilde","Louise","B\xe9n\xe9dicte","Patrice","Cyrille","Joseph","Herbert","Cl\xe9mence","L\xe9a","Victorien","Catherine de Su\xe8de","Humbert","Larissa","Habib","Gontran","Gwladys","Am\xe9d\xe9e","Benjamin","Avril","Hugues","Sandrine","Richard","Isidore","Ir\xe8ne","Marcellin","Jean-Baptiste de la Salle","Julie","Gauthier","Fulbert","Stanislas","Jules","Ida","Maxime","Paterne","Beno\xeet-Joseph","Anicet","Parfait","Emma","Odette","Anselme","Alexandre","Georges","Fid\xe8le","Marc","Alida","Zita","Val\xe9rie","Catherine de Sienne","Robert"],["Hugues","Sandrine","Richard","Isidore","Ir\xe8ne","Marcellin","Jean-Baptiste de la Salle","Julie","Gauthier","Fulbert","Stanislas","Jules","Ida","Maxime","Paterne","Beno\xeet-Joseph","Anicet","Parfait","Emma","Odette","Anselme","Alexandre","Georges","Fid\xe8le","Marc","Alida","Zita","Val\xe9rie","Catherine de Sienne","Robert"],["J\xe9r\xe9mie","Boris","Philippe, Jacques le Mineur","Sylvain","Judith","Prudence","Gis\xe8le","D\xe9sir\xe9","Pac\xf4me","Solange","Estelle","Achille","Rolande","Matthias","Denise","Honor\xe9","Pascal","Eric","Yves","Bernardin","Constantin","Emile","Didier","Donatien","Sophie","B\xe9renger","Augustin","Germain","Aymard","Ferdinand","Perrine"],["Justin","Blandine","K\xe9vin","Clotilde","Igor","Norbert","Gilbert","M\xe9dard","Diane","Landry","Barnab\xe9","Guy","Antoine de Padoue","Elis\xe9e","Germaine","Jean-Fran\xe7ois R\xe9gis","Herv\xe9","L\xe9once","Romuald","Silv\xe8re","Rodolphe","Alban","Audrey","Jean-Baptiste","Prosper","Anthelme","Fernand","Ir\xe9n\xe9e","Pierre/Paul","Martial"],["Thierry","Martinien","Thomas","Florent","Antoine","Mariette","Raoul","Thibaut","Amandine","Ulrich","Beno\xeet","Olivier","Henri/Jo\xebl","Camille","Donald","Carmen","Charlotte","Fr\xe9d\xe9ric","Ars\xe8ne","Marina","Victor","Marie-Madeleine","Brigitte","Christine","Jacques","Anne/Joachim","Nathalie","Samson","Marthe","Juliette","Ignace de Loyola"],["Alphonse","Julien","Lydie","Jean-Marie","Abel","Octavien","Ga\xe9tan","Dominique","Amour","Laurent","Claire","Clarisse","Hippolyte","Evrard","Marie","Armel","Hyacinthe","H\xe9l\xe8ne","Jean-Eudes","Bernard","Christophe","Fabrice","Rose","Barth\xe9l\xe9my","Louis","Natacha","Monique","Augustin","Sabine","Fiacre","Aristide"],["Gilles","Ingrid","Gr\xe9goire","Rosalie","Raissa","Bertrand","Reine","Adrien","Alain","In\xe8s","Adelphe","Apollinaire","Aim\xe9","Cyprien","Roland","Edith","Renaud","Nad\xe8ge","\xc9milie","Davy","Matthieu","Maurice","Constant","Th\xe8cle","Hermann","C\xf4me/Damien","Vincent de Paul","Venceslas","Michel","J\xe9r\xf4me"],["Th\xe9r\xe8se","L\xe9ger","G\xe9rard","Fran\xe7ois","Fleur","Bruno","Serge","P\xe9lagie","Denis","Ghislain","Firmin","Wilfried","G\xe9raud","Juste","Aur\xe9lie","Edwige","Baudouin","Luc","Ren\xe9","Adeline","C\xe9line","Elodie","Jean de Capistran","Florentin","Cr\xe9pin","Dimitri","Emeline","Simon/Jude","Narcisse","Bienvenue","Quentin"],["Harold","Oc\xe9ane","Hubert","Charles","Sylvie","Bertille","Carine","Geoffroy","Th\xe9odore","L\xe9on","Martin","Christian","Brice","Sidoine","Albert","Marguerite","Elisabeth","Aude","Tanguy","Edmond","Rufus","C\xe9cile","Cl\xe9ment","Flora","Catherine","Delphine","S\xe9verin","Jacques de la Marche","Saturnin","Andr\xe9"],["Florence","Viviane","Xavier","Barbara","G\xe9rald","Nicolas","Ambroise","Elfried","Pierre Fourier","Romaric","Daniel","Corentin","Lucie","Odile","Ninon","Alice","Gael","Gatien","Urbain","Th\xe9ophile","Pierre Canisius","Fran\xe7oise-Xavi\xe8re","Armand","Ad\xe8le","Emmanuel","\xc9tienne","Jean","Gaspard","David","Roger","Sylvestre"]],Ce=fe.StyleSheet.create({day:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"transparent",height:"0.85cm",paddingLeft:h,borderColor:"black",borderLeftWidth:b,borderRightWidth:0,borderTopWidth:b,borderStyle:"solid",margin:0,boxSizing:"border-box",fontSize:"12pt"},dayNumber:{marginRight:h,fontSize:"12pt"},dayInitial:{},saint:{marginLeft:"0.2cm",fontSize:"12pt"},birthdays:{marginRight:"1cm",fontSize:"12pt"}}),Se=function(e){var t,n=e.day,r=e.isLastDay,a=e.birthdays,i=Object(ve.a)(n,"dd",{locale:ye.a}),c=Object(ve.a)(n,"ccccc",{locale:ye.a});return Object(R.jsxs)("div",{style:Object(o.a)(Object(o.a)({},Ce.day),{},{borderBottomWidth:r?b:0,backgroundColor:0===Object(ge.a)(n)?"lightblue":"transparent"}),children:[Object(R.jsx)("span",{style:Ce.dayNumber,children:i}),Object(R.jsx)("span",{style:Ce.dayInitial,children:c}),Object(R.jsxs)("span",{style:Ce.saint,children:["St ",null===we||void 0===we||null===(t=we[Object(me.a)(n)])||void 0===t?void 0:t[Object(Oe.a)(n)-1]]}),Object(R.jsx)("span",{style:{flexGrow:1}}),Object(R.jsx)("span",{style:Ce.birthdays,children:a.filter((function(e){return e.printed&&e.nickname.trim()})).map((function(e){return"".concat(e.nickname.trim()," ").concat(e.agePrinted?"(".concat(e.age,") "):"")})).join("/ ")})]})},Ae=function(e){var t,n=e.day,r=e.isLastDay,a=e.birthdays,i=Object(ve.a)(n,"dd",{locale:ye.a}),c=Object(ve.a)(n,"ccccc",{locale:ye.a});Number(i);return Object(R.jsxs)(fe.View,{style:Object(o.a)(Object(o.a)({},Ce.day),{},{borderBottomWidth:r?b:0,backgroundColor:0===Object(ge.a)(n)?"lightblue":"transparent"}),children:[Object(R.jsx)(fe.Text,{style:Ce.dayNumber,children:i}),Object(R.jsx)(fe.Text,{style:Ce.dayInitial,children:c}),Object(R.jsxs)(fe.Text,{style:Ce.saint,children:["St ",null===we||void 0===we||null===(t=we[Object(me.a)(n)])||void 0===t?void 0:t[Object(Oe.a)(n)-1]]}),Object(R.jsx)(fe.Text,{style:{flexGrow:1}}),Object(R.jsx)(fe.Text,{style:Ce.birthdays,children:a.filter((function(e){return e.printed&&e.nickname.trim()})).map((function(e){return"".concat(e.nickname.trim()," ").concat(e.agePrinted?"(".concat(e.age,") "):"")})).join("/ ")})]})},ke=n(354),Ie=n.n(ke),De=["width","height","monthIndex","pictureIndex"];function Pe(e){var t=e.width,n=void 0===t?4e3:t,a=e.height,i=void 0===a?4400:a,c=e.monthIndex,s=e.pictureIndex,d=Object(l.a)(e,De),h=Object(u.c)((function(e){return e.pictureSystem.months[c][s]})),b=Object(u.c)((function(e){return e.dragging.src})),j=r.useRef(null),f=Object(u.b)(),p=function(e){e.preventDefault(),f(v({monthIndex:c,pictureIndex:s,src:b}))},m=function(e){e.stopPropagation(),f(g({src:null===h||void 0===h?void 0:h.src,monthIndex:c,pictureIndex:s}))};return r.useEffect((function(){if(h&&h.src){var e=j.current.getContext("2d"),t=new Image,r=Object(o.a)({},h);t.addEventListener("load",(function(){if(void 0===r.x||void 0===r.y||void 0===r.width||void 0===r.height||void 0===r.imageWidth||void 0===r.imageHeight){var a=t.width/n<t.height/i;r.x=0,r.y=0,r.width=a?100:100*t.height*n/(i*t.width),r.height=a?100*t.width*i/(n*t.height):100,f(v(Object(o.a)(Object(o.a)({monthIndex:c,pictureIndex:s},r),{},{imageWidth:n,imageHeight:i})))}e.drawImage(t,r.x*t.width/100,r.y*t.height/100,r.width*t.width/100,r.height*t.height/100,0,0,n,i)}),!1),t.src=h.src}}),[h,h.src,n,i,f,c,s]),h.src?Object(R.jsx)("canvas",Object(o.a)({onClick:m,onDrop:p,onDragOver:function(e){return e.preventDefault()},ref:j,width:n,height:i,id:"canvasImage-".concat(c,"-").concat(s)},d)):Object(R.jsx)(E.a,Object(o.a)(Object(o.a)({onClick:m,onDrop:p,onDragOver:function(e){return e.preventDefault()},sx:{borderRadius:"2cm",backgroundColor:"#f3f3f3",display:"flex",justifyContent:"center",alignItems:"center"}},d),{},{children:Object(R.jsx)(Ie.a,{sx:{fontSize:50}})}))}var Re=n(374),Be=n(810),Fe=["src","croppedURL"];fe.Font.register({family:"Roboto",fonts:[{src:"".concat("/calendar","/Roboto-Regular.ttf")},{src:"".concat("/calendar","/Roboto-Bold.ttf"),fontWeight:"bold"},{src:"".concat("/calendar","/Roboto-Italic.ttf"),fontWeight:"normal",fontStyle:"italic"},{src:"".concat("/calendar","/Roboto-BoldItalic.ttf"),fontWeight:"bold",fontStyle:"italic"}]});var Me=fe.StyleSheet.create({page:{flexDirection:"column",backgroundColor:"transparent",padding:0},header:{textAlign:"center",fontSize:"26pt",paddingTop:"1.3cm",height:"3cm",fontFamily:"Roboto",textTransform:"capitalize"},mainContent:{display:"flex",flexDirection:"row",flexGrow:1},pictures:{display:"flex",flexDirection:"column",height:"".concat(3*j,"cm"),width:"".concat(8,"cm")},picture:{height:"".concat(j,"cm"),width:"".concat(8,"cm")},calendar:{flexGrow:1}}),Je=a.a.forwardRef((function(e,t){var n=e.year,r=e.month,a=Object(pe.a)({start:new Date(n,r,1),end:new Date(n,r+1,0)}),i=Object(u.c)((function(e){return e.birthdays.values.filter((function(e){return e.birthday&&Object(me.a)(new Date(n,r,1))===Object(me.a)(new Date(e.birthday))}))}));return Object(R.jsxs)(Re.a,{elevation:3,style:Object(o.a)(Object(o.a)({},Me.page),{},{heigh:"29.7cm",width:"21cm"}),ref:t,children:[Object(R.jsx)("div",{style:Me.header,children:Object(R.jsx)("span",{children:Object(xe.a)(a[0],{month:"long"},{locale:"fr"})+" ".concat(n)})}),Object(R.jsxs)("div",{style:Me.mainContent,children:[Object(R.jsxs)("div",{style:Me.pictures,children:[Object(R.jsx)(Pe,{style:Me.picture,monthIndex:r,pictureIndex:0}),Object(R.jsx)(Pe,{style:Me.picture,monthIndex:r,pictureIndex:1}),Object(R.jsx)(Pe,{style:Me.picture,monthIndex:r,pictureIndex:2})]}),Object(R.jsx)("div",{style:Me.calendar,children:a.map((function(e,t){var n=i.filter((function(t){return Object(Oe.a)(e)===Object(Oe.a)(new Date(t.birthday))})).map((function(t){return Object(o.a)(Object(o.a)({},t),{},{age:Object(Be.a)(e,new Date(t.birthday))})}));return Object(R.jsx)(Se,{day:e,isLastDay:t===a.length-1,birthdays:n},t)}))})]})]})})),Ge=function(e){var t=e.year,n=e.month,r=e.state,a=r.pictureSystem.months[n],i=Object(pe.a)({start:new Date(t,n,1),end:new Date(t,n+1,0)}),c=r.birthdays.values.filter((function(e){return e.birthday&&Object(me.a)(new Date(t,n,1))===Object(me.a)(new Date(e.birthday))}));return Object(R.jsxs)(fe.Page,{size:"A4",style:Me.page,debug:!1,children:[Object(R.jsx)(fe.View,{style:Me.header,debug:!1,children:Object(R.jsx)(fe.Text,{children:Object(xe.a)(i[0],{month:"long"},{locale:"fr"})+" ".concat(t)})}),Object(R.jsxs)(fe.View,{style:Me.mainContent,debug:!1,children:[Object(R.jsx)(fe.View,{style:Me.pictures,debug:!1,children:a.map((function(e,t){var n=e.src,r=e.croppedURL,a=void 0===r?"":r,i=Object(l.a)(e,Fe),c=800/i.width,s=880.0000000000001/i.height,u=i.y*s/100,d=i.x*c/100;return n?Object(R.jsx)(fe.View,{style:Object(o.a)(Object(o.a)({},Me.picture),{},{overflow:"hidden",position:"relative",width:"".concat(8,"cm"),height:"".concat(j,"cm")}),children:Object(R.jsx)(fe.Image,{style:{position:"absolute",width:"".concat(c,"cm"),height:"".concat(s,"cm"),marginLeft:"".concat(-d,"cm"),marginTop:"".concat(-u,"cm")},src:n,width:"auto",height:"auto"})},"".concat(t,"-").concat(a)):Object(R.jsx)(fe.Canvas,{style:Me.picture,width:8,height:j},"".concat(t,"-").concat(a))}))}),Object(R.jsx)(fe.View,{style:Me.calendar,debug:!1,children:i.map((function(e,t){var n=c.filter((function(t){return Object(Oe.a)(e)===Object(Oe.a)(new Date(t.birthday))})).map((function(t){return Object(o.a)(Object(o.a)({},t),{},{age:Object(Be.a)(e,new Date(t.birthday))})}));return Object(R.jsx)(Ae,{day:e,isLastDay:t===i.length-1,birthdays:n},t)}))})]})]})},Le=function(e){for(var t=e.year,n=void 0===t?2022:t,r=e.state,a=e.pictureUrls,i=[],c=0;c<12;c+=1)i.push(Object(R.jsx)(Ge,{year:n,month:c,state:r,pictureUrls:a},c));return Object(R.jsx)(fe.Document,{children:i})},Ee=n(739),Ne=n(820),Te=n(356),He=n.n(Te),ze=n(355),We=n.n(ze);function Ve(){var e=Object(J.f)(),t=r.useState(0),n=Object(s.a)(t,2),a=(n[0],n[1],r.useRef(null)),i=r.useState(1),c=Object(s.a)(i,2),o=c[0],l=c[1],u=r.useState(1),d=Object(s.a)(u,2),h=d[0],b=d[1];return r.useEffect((function(){if(a.current){var e=210/a.current.clientWidth,t=297/a.current.clientHeight,n=Math.min(e,t);l(n)}}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)(je,{}),Object(R.jsx)("div",{style:{maxHeight:"100vh",paddingLeft:400,paddingTop:"64px"},children:Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(t){return Object(R.jsx)("div",{style:{width:210*h,height:297*h,position:"relative",margin:"2rem"},children:Object(R.jsx)("div",{style:{transform:"scale(".concat(h*o,", ").concat(h*o,")"),transformOrigin:"top left",margin:"1rem"},onClick:function(){e("/design/".concat(t))},children:Object(R.jsx)(Je,{year:2022,month:t,ref:0===t?a:null})},t)},t)}))}),Object(R.jsxs)(E.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:[Object(R.jsx)(Ne.a,{color:"primary",size:"small","aria-label":"add",onClick:function(){return b((function(e){return Math.max(.5,e-.5)}))},children:Object(R.jsx)(We.a,{})}),Object(R.jsx)(Ee.a,{variant:"p",component:"span",sx:{margin:"0 1rem"},children:h}),Object(R.jsx)(Ne.a,{color:"primary",size:"small","aria-label":"add",onClick:function(){return b((function(e){return Math.min(3,e+.5)}))},children:Object(R.jsx)(He.a,{})})]})]})})]})}var Ue=n(357),qe=n.n(Ue),Ze=n(807),Xe=n(821);function Ye(){var e=Object(J.f)(),t=Object(J.g)().month,n=r.useState({width:100,height:100}),a=Object(s.a)(n,2),i=a[0],c=a[1],l=r.useRef(null),u=r.useRef(null),d=r.useState(1),h=Object(s.a)(d,2),b=h[0],j=h[1],f=function(){if(l.current&&u.current){var e=(u.current.offsetWidth-100-400)/l.current.clientWidth,t=(u.current.offsetHeight-100-114)/l.current.clientHeight,n=Math.min(e,t);j(n),c({width:n*l.current.clientWidth,height:n*l.current.clientHeight})}};return r.useEffect((function(){f();u.current;return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)(je,{}),Object(R.jsx)("div",{style:{height:"100vh",paddingLeft:400,paddingTop:"64px"},ref:u,children:Object(R.jsxs)("div",{children:[Object(R.jsx)(Ze.a,{sx:{flex:"1 1 100px"},value:Number(t)||0,onChange:function(t,n){return e("/design/".concat(n))},"aria-label":"month tabs",variant:"scrollable",children:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return Object(R.jsx)(Xe.a,{label:Object(xe.a)(new Date(2e3,e,1),{month:"short"},{locale:"fr"}),value:e})}))}),Object(R.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(R.jsx)(E.a,{sx:Object(o.a)({position:"relative",margin:"16px"},i),children:Object(R.jsx)("div",{style:{transform:"scale(".concat(b,", ").concat(b,")"),transformOrigin:"top left",margin:"1rem"},children:Object(R.jsx)(Je,{year:2022,month:Number(t)||0,ref:l})})})}),Object(R.jsx)(E.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:Object(R.jsx)(Ne.a,{color:"primary",size:"large","aria-label":"grid-view",onClick:function(){return e("/design")},children:Object(R.jsx)(qe.a,{})})})]})})]})}var _e=n(4),Ke=n(358),Qe=[{headerName:"Nom",field:"firstName",editable:!0,flex:2},{headerName:"Pr\xe9nom",field:"lastName",editable:!0,flex:2},{headerName:"Pr\xe9sentation",field:"nickname",editable:!0,flex:2},{headerName:"Date de naissance",field:"birthday",type:"date",valueGetter:function(e){var t=e.value;return new Date(t)},editable:!0,flex:1},{headerName:"Afficher",field:"printed",type:"boolean",editable:!0,flex:1},{headerName:"Afficher l'age",field:"agePrinted",type:"boolean",editable:!0,flex:1}];function $e(){var e=Object(u.c)((function(e){return e.birthdays.values})),t=Object(u.b)();return Object(R.jsxs)("div",{style:{height:"100vh",paddingTop:"64px",textAlign:"center"},children:[Object(R.jsx)("div",{style:{height:"60vh",width:"100%"},children:Object(R.jsx)(Ke.a,{columns:Qe,rows:e,onCellEditCommit:function(n){var r=n.id,a=n.field,i=n.value,c=Object(_e.a)({id:r},a,i);if("nickname"!==a){if(["firstName","lastName"].includes(a)){var s=e.find((function(e){return e.id===r}));if(s.nickname===Z(s))return void t(K(Object(o.a)(Object(o.a)({},c),{},{nickname:Z(Object(o.a)(Object(o.a)({},s),c))})))}t(K(c))}else t(K(c))}})}),Object(R.jsx)(P.a,{onClick:function(){t(K())},children:"Ajouter une ligne"})]})}function et(){return null}var tt=n(819),nt=n(360),rt=n.n(nt),at=n(361),it=n.n(at),ct=n(364),st=n(66),ot=function(){var e=Object(u.c)((function(e){return e}));e.pictureSystem.months;return Object(R.jsx)(fe.PDFViewer,{width:"100%",height:"1000px",children:Object(R.jsx)(Le,{state:e,pictureUrls:{}})})};function lt(){var e=Object(J.f)(),t=Object(u.c)((function(e){return e.birthdays.values})),n=Object(u.c)((function(e){return e.pictureSystem.pictures})),a=r.useState(null),i=Object(s.a)(a,2),c=i[0],o=i[1],l=Boolean(c),d=function(){o(null)},h=r.useState(!1),b=Object(s.a)(h,2),j=b[0],f=b[1];return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(tt.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(R.jsxs)(L.a,{children:[Object(R.jsx)(Ee.a,{variant:"h6",component:"div",onClick:function(e){o(e.currentTarget)},children:"Calendar"}),Object(R.jsx)("div",{children:Object(R.jsxs)(ct.a,{id:"basic-menu",anchorEl:c,open:l,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(R.jsx)(st.a,{onClick:function(){e("/"),d()},children:"Accueil"}),Object(R.jsx)(st.a,{onClick:function(){e("/design"),d()},children:"Design"}),Object(R.jsx)(st.a,{onClick:function(){e("/birthdays"),d()},children:"Anniversaires"})]})}),Object(R.jsx)(E.a,{sx:{flexGrow:1}}),Object(R.jsx)(A.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){f(!0)},children:Object(R.jsx)(rt.a,{})}),Object(R.jsx)(A.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){!function(e){be.apply(this,arguments)}({values:{calendar:t,design:{pictures:n}}})},children:Object(R.jsx)(it.a,{})})]})}),Object(R.jsx)(k.a,{onClose:function(){f(!1)},open:j,fullWidth:!0,children:j&&Object(R.jsx)(ot,{})})]})}var ut=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(lt,{}),Object(R.jsxs)(J.c,{children:[Object(R.jsx)(J.a,{path:"/",element:Object(R.jsx)(Ve,{})}),Object(R.jsx)(J.a,{path:"design",element:Object(R.jsx)(Ve,{})}),Object(R.jsx)(J.a,{path:"design/:month",element:Object(R.jsx)(Ye,{})}),Object(R.jsx)(J.a,{path:"birthdays",element:Object(R.jsx)($e,{})}),Object(R.jsx)(J.a,{path:"yearEvents",element:Object(R.jsx)(et,{})})]}),Object(R.jsx)(M,{})]})},dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,826)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},ht=n(93),bt=Object(f.a)({reducer:{pictureSystem:y,dragging:W,birthdays:$}}),jt=n(804);c.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(ht.a,{children:Object(R.jsxs)(u.a,{store:bt,children:[Object(R.jsx)(jt.a,{}),Object(R.jsx)(ut,{})]})})}),document.getElementById("root")),dt()}},[[727,1,2]]]);
//# sourceMappingURL=main.1a601d88.chunk.js.map