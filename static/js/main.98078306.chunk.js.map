{"version":3,"sources":["const.js","features/pictureSystem.js","components/ImageCropper.js","features/dragging.js","features/birthdays.js","components/fileManagement/utils.js","components/ImageDrawer.js","components/calendarGenerator/saints.js","components/calendarGenerator/joursFeries.js","components/calendarGenerator/day.js","components/CanvasImage.js","components/calendarGenerator/month.js","components/calendarGenerator/index.js","pages/MultipleMonths.js","pages/SingleMonth.js","pages/Birthdays.js","pages/YearEvents.js","components/calendarGenerator/renderPDF.js","components/AppBar.js","App.js","reportWebVitals.js","store.js","index.js"],"names":["TEXT_SPACE","BORDER_WIDTH","PICTURE_HEIGHT","LEFT_MENU_WIDTH","IMAGE_MENU_WIDTH","pictureSystemSlice","createSlice","name","initialState","pictures","months","cropper","reducers","fetchPictures","state","action","urlMapping","forEach","url","URL","revokeObjectURL","nameMapping","payload","month","monthIndex","picture","pictureIndex","src","newUrl","undefined","setMonths","find","p","updatePicture","override","setCropper","actions","BootstrapDialogTitle","props","children","onClose","other","DialogTitle","sx","m","IconButton","onClick","position","right","top","color","theme","palette","grey","ImageCropper","cropperState","useSelector","pictureSystem","initialCroppedAreaPixels","croppedAreaPixels","React","x","y","crop","setCrop","zoom","setZoom","mediaSize","setMediaSize","currentCroppedArea","setCurrentCroppedArea","currentCroppedAreaPixels","setCurrentCroppedAreaPixels","onCropComplete","croppedArea","dispatch","useDispatch","handleClose","open","Dialog","fullWidth","maxWidth","id","DialogContent","dividers","style","height","image","aspect","onCropChange","onZoomChange","onMediaLoaded","maxZoom","DialogActions","Button","draggingSlice","startDragging","getNickName","lastName","firstName","getDefaultRow","cuid","nickname","birthday","String","Date","printed","agePrinted","birthdaysSlice","values","setBirthdays","upsertBirthday","index","findIndex","push","removeBirthday","slice","isImage","upperCaseName","toUpperCase","some","extension","endsWith","verifyPermission","fileHandle","readWrite","a","options","mode","queryPermission","requestPermission","getFolderHandler","tryPreviousFolder","get","fileHandleOrUndefined","window","showDirectoryPicker","startIn","dirHandle","set","openFolder","setters","setPictures","setDesign","setCalendar","designObject","calendarObject","entry","getFile","f","createObjectURL","text","JSON","parse","console","log","design","calendar","getFileHandle","create","createWritable","writable","write","stringify","close","ImageDrawer","picturesLoaded","length","Drawer","width","flexShrink","marginLeft","boxSizing","borderRight","variant","anchor","Toolbar","Box","overflow","zIndex","backgroundColor","padding","display","justifyContent","flexDirection","Tooltip","title","placement","ImageList","cols","gap","map","ImageListItem","alt","onDragStart","loading","SAINTS","joursFeries","getFerieDay","day","formatedDay","format","styles","StyleSheet","alignItems","paddingLeft","borderColor","borderLeftWidth","borderRightWidth","borderTopWidth","borderStyle","margin","fontSize","dayNumber","marginRight","dayInitial","saint","birthdays","HTMLDay","isLastDay","numberDay","locale","fr","weekDay","nationalCelebration","borderBottomWidth","getDay","getMonth","getDate","flexGrow","filter","row","trim","age","join","Day","Number","CanvasImage","PICTURE_WIDTH","others","draggingSrc","dragging","draggingName","canvasRef","onDrop","e","preventDefault","event","stopPropagation","context","current","getContext","img","Image","modifiedImages","addEventListener","imageWidth","imageHeight","drawImage","onDragOver","ref","borderRadius","Font","register","family","fonts","process","fontWeight","fontStyle","page","header","textAlign","paddingTop","fontFamily","textTransform","mainContent","HTMLMonth","forwardRef","year","days","eachDayOfInterval","start","end","monthBirthdays","Paper","elevation","heigh","intlFormat","differenceInYears","Month","images","size","debug","croppedURL","widthCM","heightCM","topCM","leftCM","marginTop","Calendar","pictureUrls","MultipleMonths","navigate","useNavigate","calendarRef","scale","setScale","xScale","clientWidth","yScale","clientHeight","minScale","Math","min","maxHeight","flexWrap","transform","transformOrigin","bottom","Fab","max","Typography","component","SingleMonth","useParams","paperSize","setPaperSize","displayDivRef","updateCalendarSize","offsetWidth","offsetHeight","removeEventListener","Tabs","flex","value","onChange","newValue","Tab","label","birthdayColumns","headerName","field","editable","type","valueGetter","Birthdays","columns","rows","onCellEditCommit","includes","YearEvents","RenderPDF","AppBar","anchorEl","setAnchorEl","Boolean","openPDF","setOpenPDF","drawer","currentTarget","Menu","MenuListProps","MenuItem","edge","mr","saveFolder","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","pictureSystemReducer","draggingReducer","birthdaysReducer","createTheme","ReactDOM","render","StrictMode","store","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"kVACaA,EAAa,QACbC,EAAe,SAOfC,EAAiB,IAEjBC,EAAkB,GAClBC,EAAmB,I,wCCVnBC,EAAqBC,YAAY,CAC5CC,KAAM,gBACNC,aAAc,CACZC,SAAU,GAEVC,OAAQ,CACN,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,KAEXC,QAAS,MAEXC,SAAU,CACRC,cAAe,SAACC,EAAOC,GACrB,IAAMC,EAAa,GACnBF,EAAML,SAASQ,SAAQ,YAAoB,IAAjBC,EAAgB,EAAhBA,IAAKX,EAAW,EAAXA,KAC7BS,EAAWE,GAAOX,EAClBY,IAAIC,gBAAgBF,MAGtB,IAAMG,EAAc,GACpBN,EAAOO,QAAQb,SAASQ,SAAQ,YAAoB,IAAjBV,EAAgB,EAAhBA,KAAMW,EAAU,EAAVA,IACvCG,EAAYd,GAAQW,KAEtBJ,EAAML,SAAWM,EAAOO,QAAQb,SAEhCK,EAAMJ,OAAOO,SAAQ,SAACM,EAAOC,GAC3BD,EAAMN,SAAQ,SAACQ,EAASC,GACtB,GAAID,EAAQE,IAAK,CACf,IAAMpB,EAAOS,EAAWS,EAAQE,KAC1BC,EAASP,EAAYd,GAC3B,QAAesB,IAAXD,EAKF,YAJAd,EAAMJ,OAAOc,GAAYE,GAAzB,2BACKZ,EAAMJ,OAAOc,GAAYE,IAD9B,IAEEC,IAAKC,KAKXd,EAAMJ,OAAOc,GAAYE,GAAgB,UAI/CI,UAAW,SAAChB,EAAOC,GACjBD,EAAMJ,OAASK,EAAOO,QAEtBR,EAAMJ,OAAOO,SAAQ,SAACM,GACpBA,EAAMN,SAAQ,SAACQ,GACiB,IAAD,EAAzBA,GAAWA,EAAQlB,OACrBkB,EAAQE,IAAR,UAAcb,EAAML,SAASsB,MAC3B,SAACC,GAAD,OAAOA,EAAEzB,OAASkB,EAAQlB,eAD5B,aAAc,EAEXW,YAKXe,cAAe,SAACnB,EAAOC,GACrB,MAAkDA,EAAOO,QAAjDE,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,aAAiBQ,EAArC,sBAEqBL,IAAjBK,EAASP,IACXb,EAAMJ,OAAOc,GAAYE,GAAzB,eACKQ,GAGLpB,EAAMJ,OAAOc,GAAYE,GAAzB,2BACKZ,EAAMJ,OAAOc,GAAYE,IACzBQ,IAITC,WAAY,SAACrB,EAAOC,GACbA,EAAOO,QAGVR,EAAMH,QAAUI,EAAOO,QAFvBR,EAAMH,QAAU,SASjB,EACLN,EAAmB+B,QADNvB,EAAR,EAAQA,cAAeoB,EAAvB,EAAuBA,cAAeE,EAAtC,EAAsCA,WAAYL,EAAlD,EAAkDA,UAG1CzB,IAAf,Q,sGC9EMgC,EAAuB,SAACC,GAC5B,IAAQC,EAAgCD,EAAhCC,SAAUC,EAAsBF,EAAtBE,QAAYC,EAA9B,YAAwCH,EAAxC,GAEA,OACE,eAACI,EAAA,EAAD,yBAAaC,GAAI,CAAEC,EAAG,EAAGZ,EAAG,IAASS,GAArC,cACGF,EACAC,EACC,cAACK,EAAA,EAAD,CACE,aAAW,QACXC,QAASN,EACTG,GAAI,CACFI,SAAU,WACVC,MAAO,EACPC,IAAK,EACLC,MAAO,SAACC,GAAD,OAAWA,EAAMC,QAAQC,KAAK,OAPzC,SAUE,cAAC,IAAD,MAEA,UAKK,SAASC,IACtB,IAAMC,EAAeC,aAAY,SAAC1C,GAAD,OAAWA,EAAM2C,cAAc9C,WAC1D+C,EAA2BF,aAAY,SAAC1C,GAC5C,OAAIA,EAAM2C,cAAc9C,QACfG,EAAM2C,cAAc/C,OAAOI,EAAM2C,cAAc9C,QAAQa,YAC5DV,EAAM2C,cAAc9C,QAAQe,cAC5BiC,kBAEG,QAGT,EAAwBC,WAAe,CACrCC,EAAG,EACHC,EAAG,IAFL,mBAAOC,EAAP,KAAaC,EAAb,KAIA,EAAwBJ,WAAe,GAAvC,mBAAOK,EAAP,KAAaC,EAAb,KACA,EAAkCN,aAAlC,mBAAOO,EAAP,KAAkBC,EAAlB,KAEA,EAAoDR,WAAe,MAAnE,mBAAOS,EAAP,KAA2BC,EAA3B,KACA,EACEV,WAAe,MADjB,mBAAOW,EAAP,KAAiCC,EAAjC,KAGMC,EAAiBb,eAAkB,SAACc,EAAaf,GACrDW,EAAsBI,GACtBF,EAA4Bb,KAC3B,IAEGgB,EAAWC,cAEXC,EAAc,WAClBF,EAASxC,EAAW,QAoBhB2C,IAASvB,EAEf,OACE,eAACwB,EAAA,EAAD,CACEvC,QAASqC,EACT,kBAAgB,0BAChBC,KAAMA,EACNE,WAAS,EACTC,SAAS,KALX,UAOE,cAAC,EAAD,CAAsBC,GAAG,0BAA0B1C,QAASqC,EAA5D,wBAIA,cAACM,EAAA,EAAD,CAAeC,UAAQ,EAAvB,SACG7B,GACC,qBAAK8B,MAAO,CAAEtC,SAAU,WAAYuC,OAAQ,QAA5C,SACE,cAAC,IAAD,CACEC,MAAOhC,EAAa5B,KAAO,KAC3BoC,KAAMA,EACNE,KAAMA,EACNuB,OFxGe,EEwGStF,EACxBuF,aAAczB,EACdS,eAAgBA,EAChBiB,aAAcxB,EACdyB,cA5BU,SAACxB,GACrBC,EAAaD,IA4BHT,yBAA0BA,EAC1BkC,QAAS,SAKjB,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAQhD,QAlDG,WACXuB,GAAsBF,GACxBQ,EACE1C,EAAc,yBACZT,WAAY+B,EAAa/B,WACzBE,aAAc6B,EAAa7B,cACxB2C,GAHQ,IAIXV,kBAAmBY,MAIzBM,KAuCI,+B,+GC1HKkB,EAAgBzF,YAAY,CACvCC,KAAM,WACNC,aAAc,CACZmB,IAAK,MAEPf,SAAU,CACRoF,cAAe,SAAClF,EAAOC,GACrBD,EAAMa,IAAMZ,EAAOO,QAAQK,IAC3Bb,EAAMP,KAAOQ,EAAOO,QAAQf,SAMnByF,EAAkBD,EAAc3D,QAAhC4D,cAEAD,IAAf,Q,2BCfO,SAASE,GAAT,GAAyD,IAAD,IAAjCC,gBAAiC,MAAtB,GAAsB,MAAlBC,iBAAkB,MAAN,GAAM,EAC7D,MAAM,GAAN,OAAUD,EAAV,YAAsBC,GAExB,IAAMC,GAAgB,WACpB,MAAO,CACLlB,GAAImB,OACJC,SAAUL,GAAY,IACtBE,UAAW,GACXD,SAAU,GACVK,SAAUC,OAAO,IAAIC,MACrBC,SAAS,EACTC,YAAY,IAGHC,GAAiBtG,YAAY,CACxCC,KAAM,YACNC,aAAc,CACZqG,OAAQ,CAACT,OAEXxF,SAAU,CACRkG,aAAc,SAAChG,EAAOC,GACpBD,EAAM+F,OAAS9F,EAAOO,SAExByF,eAAgB,SAACjG,EAAOC,GAAY,IAAD,EAC3BiG,EAAQlG,EAAM+F,OAAOI,WACzB,SAACpD,GAAD,eAAa,OAAN9C,QAAM,IAANA,GAAA,UAAAA,EAAQO,eAAR,eAAiB4D,MAAO,OAADrB,QAAC,IAADA,OAAA,EAAAA,EAAGqB,OAAH,OAAUnE,QAAV,IAAUA,GAAV,UAAUA,EAAQO,eAAlB,aAAU,EAAiB4D,QAG3D,OAAInE,QAAJ,IAAIA,GAAJ,UAAIA,EAAQO,eAAZ,aAAI,EAAiBiF,YACnBxF,EAAOO,QAAQiF,SAAWC,OAAOzF,EAAOO,QAAQiF,YAGnC,IAAXS,EACFlG,EAAM+F,OAAOK,KAAb,2BAAuBd,MAAoBrF,EAAOO,UAElDR,EAAM+F,OAAOG,GAAb,uCACKZ,MACAtF,EAAM+F,OAAOG,IACbjG,EAAOO,UAIhB6F,eAAgB,SAACrG,EAAOC,GACtB,IAAMiG,EAAQlG,EAAM+F,OAAOI,WAAU,SAACpD,GAAD,OAAOA,EAAEqB,KAAOnE,EAAOO,QAAQ4D,OACrD,IAAX8B,IACFlG,EAAM+F,OAAN,sBACK/F,EAAM+F,OAAOO,MAAM,EAAGJ,IAD3B,YAEKlG,EAAM+F,OAAOO,MAAMJ,EAAQ,UAQjC,GACLJ,GAAexE,QADF2E,GAAR,GAAQA,eAAgCD,IAAxC,GAAwBK,eAAxB,GAAwCL,cAGhCF,MAAf,Q,u3BC3DO,IAAMS,GAAU,SAAC9G,GACtB,IAAM+G,EAAgB/G,EAAKgH,cAC3B,MAAO,CAAC,OAAQ,QAAS,QAAQC,MAAK,SAACC,GAAD,OACpCH,EAAcI,SAASD,OAIpB,SAAeE,GAAtB,qC,gDAAO,WAAgCC,EAAYC,GAA5C,gBAAAC,EAAA,8DACajG,GAAd+F,EADC,0CAEI,GAFJ,cAICG,EAAU,GACZF,IACFE,EAAQC,KAAO,aANZ,SASMJ,EAAWK,gBAAgBF,GATjC,sBAS+C,YAT/C,+CAUI,GAVJ,wBAaMH,EAAWM,kBAAkBH,GAbnC,uBAaiD,YAbjD,gDAcI,GAdJ,kCAiBE,GAjBF,6C,sBAoBA,SAAeI,GAAtB,mC,gDAAO,WAAgCC,GAAhC,kBAAAN,EAAA,0DACDM,EADC,gCAEiCC,aAAI,eAFrC,cAEGC,EAFH,gBAIqBX,GAAiBW,GAAuB,GAJ7D,2DAMMA,GANN,wBASmBC,OAAOC,oBAAoB,CACjDC,QAAS,aAVN,eASCC,EATD,OAYLC,aAAI,cAAeD,GAZd,kBAcEA,GAdF,6C,sBAiBA,SAAeE,GAAtB,mC,gDAAO,sEAAAd,EAAA,iEACLe,QAAWC,EADN,EACMA,YAAaC,EADnB,EACmBA,UAAWC,EAD9B,EAC8BA,YACnCZ,EAFK,EAELA,kBAFK,SAImBD,GAAiBC,GAJpC,UAICM,EAJD,wDASCjI,EAAW,GAEbwI,EAAe,KACfC,EAAiB,KAZhB,yBAcqBR,EAAU7B,UAd/B,uFAcYsC,EAdZ,SAeCL,IAAezB,GAAQ8B,EAAM5I,MAf9B,kCAgBe4I,EAAMC,UAhBrB,QAgBKC,EAhBL,OAiBKnI,EAAMC,IAAImI,gBAAgBD,GAChC5I,EAASyG,KAAK,CACZhG,MACAX,KAAM4I,EAAM5I,OApBb,4BAsBQyI,GAA8B,kBAAfG,EAAM5I,KAtB7B,kCAuBe4I,EAAMC,UAvBrB,eAuBKC,EAvBL,iBAwBkBA,EAAEE,OAxBpB,QAwBKA,EAxBL,OAyBDL,EAAiBM,KAAKC,MAAMF,GAzB3B,4BA0BQR,GAA4B,gBAAfI,EAAM5I,KA1B3B,kCA2Be4I,EAAMC,UA3BrB,eA2BKC,EA3BL,iBA4BkBA,EAAEE,OA5BpB,QA4BKA,EA5BL,OA6BDN,EAAeO,KAAKC,MAAMF,GA7BzB,oTAiCDT,GACFA,EAAYrI,GAEVsI,GAAaE,IACfA,EAAaxI,SAASQ,SAAQ,SAACM,GAC7BA,EAAMN,SAAQ,SAACQ,GACTA,GAAWA,EAAQE,MAAKF,EAAQE,SAAME,SAG9C6H,QAAQC,IAAIV,GACZF,EAAUE,IAERD,GAAeE,GACjBF,EAAYE,GA9CT,8E,sEAkDA,gDAAApB,EAAA,iEACLjB,OAAU+C,EADL,EACKA,OAAQC,EADb,EACaA,SADb,IAELzB,yBAFK,kBAImBD,GAAiBC,GAJpC,UAICM,EAJD,4DAUDkB,EAVC,iCAWsBlB,EAAUoB,cAAc,cAAe,CAC9DC,QAAQ,IAZP,cAWGnC,EAXH,iBAcoBA,EAAWoC,iBAd/B,eAcGC,EAdH,iBAgBGA,EAASC,MAAMV,KAAKW,UAAUP,IAhBjC,yBAkBGK,EAASG,QAlBZ,YAqBDP,EArBC,kCAsBsBnB,EAAUoB,cAAc,gBAAiB,CAChEC,QAAQ,IAvBP,eAsBGnC,EAtBH,iBAyBoBA,EAAWoC,iBAzB/B,eAyBGC,EAzBH,iBA2BGA,EAASC,MAAMV,KAAKW,UAAUN,IA3BjC,yBA6BGI,EAASG,QA7BZ,6C,sBC/EQ,SAASC,KACtB,IAAM5J,EAAW+C,aAAY,SAAC1C,GAAD,OAAWA,EAAM2C,cAAchD,YACtDkE,EAAWC,cAEXkE,EAAc,SAACjF,GACnBc,EAAS9D,EAAc,CAAEJ,SAAUoD,MAG/BmF,EAAc,SAACnF,GACnBc,EAASmC,GAAajD,KAGlBkF,EAAY,SAAC,GAAkB,IAAhBtI,EAAe,EAAfA,SACnBkE,EAAS7C,EAAUrB,KAGf6J,EAAiB7J,EAAS8J,OAAS,EAEzC,OACE,eAACC,EAAA,EAAD,CACE7H,GAAI,CACF8H,MAAM,GAAD,OAAKrK,EAAL,MACLsK,WAAY,EACZC,WAAW,GAAD,OAAKxK,EAAL,MAEV,qBAAsB,CACpBsK,MAAM,GAAD,OAAKrK,EAAL,MACLuK,WAAW,GAAD,OAAKxK,EAAL,MACVyK,UAAW,aACXC,YAAa,wBAGjBC,QAAQ,YACRC,OAAO,MAdT,UAgBE,cAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAKtI,GAAI,CAAEuI,SAAU,OAAQ5F,OAAQ,SAArC,UACE,cAAC2F,EAAA,EAAD,CACEtI,GAAI,CACFI,SAAU,SACVE,IAAK,EACLkI,OAAQ,EACRC,gBAAiB,QACjBC,QAASf,EAAiB,MAAQ,oBAClCgB,QAAS,OACTC,eAAgB,eAChBC,cAAelB,EAAiB,MAAQ,UAT5C,SAYGA,EACC,qCACE,cAACmB,EAAA,EAAD,CACEC,MAAM,6DACNC,UAAU,SAFZ,SAIE,cAAC7F,EAAA,EAAD,CACEhD,QAAS,WACP8F,GAAW,CACTC,QAAS,CAAEC,cAAaE,cAAaD,aACrCX,mBAAmB,KAGvB0C,QAAQ,WAPV,kCAYF,cAACW,EAAA,EAAD,CAASC,MAAM,kFAAf,SACE,cAAC5F,EAAA,EAAD,CACEhD,QAAS,kBACP8F,GAAW,CACTC,QAAS,CAAEC,eACXV,mBAAmB,KAGvB0C,QAAQ,YAPV,2CAcJ,qCACE,cAAChF,EAAA,EAAD,CACEgF,QAAQ,YACRhI,QAAS,WACP8F,GAAW,CACTC,QAAS,CAAEC,cAAaE,cAAaD,aACrCX,mBAAmB,KALzB,+BAWA,mBAAG/C,MAAO,CAAEgG,QAAS,QAArB,yGAOLf,GACC,cAACsB,EAAA,EAAD,CAAWd,QAAQ,UAAUe,KAAM,EAAGC,IAAK,EAA3C,SACGrL,EAASsL,KAAI,gBAAG7K,EAAH,EAAGA,IAAKX,EAAR,EAAQA,KAAR,OACZ,cAACyL,EAAA,EAAD,UACE,qBACErK,IAAKT,EACLuJ,MAAO,IACPwB,IAAI,GACJC,YAAa,WACXvH,EAASqB,EAAc,CAAErE,IAAKT,EAAKX,WAErC4L,QAAQ,UARQjL,c,mFCzHrBkL,GAAS,CACpB,CACE,yBACA,wBACA,eACA,SACA,UACA,aACA,UACA,SACA,OACA,YACA,SACA,UACA,SACA,OACA,UACA,SACA,WACA,SACA,SACA,eACA,WACA,UACA,UACA,uBACA,SACA,QACA,YACA,iBACA,SACA,UACA,YAEF,CACE,OACA,eACA,SACA,eACA,SACA,SACA,aACA,aACA,WACA,SACA,gBACA,WACA,cACA,WACA,SACA,WACA,SACA,aACA,QACA,WACA,gBACA,WACA,SACA,UACA,WACA,SACA,WACA,SACA,aAEF,CACE,QACA,iBACA,gBACA,UACA,QACA,UACA,iBACA,eACA,eACA,SACA,SACA,UACA,WACA,WACA,SACA,kBACA,UACA,UACA,SACA,UACA,cACA,SACA,YACA,wBACA,UACA,UACA,QACA,UACA,UACA,eACA,WACA,QACA,SACA,WACA,UACA,UACA,WACA,YACA,4BACA,QACA,WACA,UACA,YACA,QACA,MACA,SACA,UACA,mBACA,SACA,UACA,OACA,SACA,UACA,YACA,UACA,YACA,OACA,QACA,OACA,aACA,sBACA,UAEF,CACE,SACA,WACA,UACA,UACA,WACA,YACA,4BACA,QACA,WACA,UACA,YACA,QACA,MACA,SACA,UACA,mBACA,SACA,UACA,OACA,SACA,UACA,YACA,UACA,YACA,OACA,QACA,OACA,aACA,sBACA,UAEF,CACE,gBACA,QACA,8BACA,UACA,SACA,WACA,YACA,eACA,YACA,UACA,UACA,UACA,UACA,WACA,SACA,YACA,SACA,OACA,OACA,YACA,aACA,QACA,SACA,WACA,SACA,cACA,WACA,UACA,SACA,YACA,WAEF,CACE,SACA,WACA,WACA,WACA,OACA,UACA,UACA,YACA,QACA,SACA,aACA,MACA,oBACA,YACA,WACA,4BACA,WACA,YACA,UACA,aACA,WACA,QACA,SACA,gBACA,UACA,WACA,UACA,eACA,cACA,WAEF,CACE,UACA,YACA,SACA,UACA,UACA,WACA,QACA,UACA,WACA,SACA,YACA,UACA,gBACA,UACA,SACA,SACA,YACA,iBACA,YACA,SACA,SACA,kBACA,WACA,YACA,UACA,eACA,WACA,SACA,SACA,WACA,oBAEF,CACE,WACA,SACA,QACA,aACA,OACA,WACA,YACA,YACA,QACA,UACA,SACA,WACA,YACA,SACA,QACA,QACA,YACA,eACA,aACA,UACA,aACA,UACA,OACA,mBACA,QACA,UACA,UACA,WACA,SACA,SACA,YAEF,CACE,SACA,SACA,cACA,UACA,SACA,WACA,QACA,SACA,QACA,UACA,UACA,cACA,UACA,UACA,SACA,QACA,SACA,YACA,YACA,OACA,WACA,UACA,WACA,YACA,UACA,iBACA,kBACA,YACA,SACA,gBAEF,CACE,gBACA,WACA,YACA,cACA,QACA,QACA,QACA,aACA,QACA,WACA,SACA,WACA,YACA,QACA,aACA,SACA,WACA,MACA,UACA,UACA,YACA,SACA,oBACA,YACA,YACA,UACA,UACA,aACA,WACA,YACA,WAEF,CACE,SACA,YACA,SACA,UACA,SACA,WACA,SACA,WACA,cACA,UACA,SACA,YACA,QACA,UACA,SACA,aACA,YACA,OACA,SACA,SACA,QACA,YACA,aACA,QACA,YACA,WACA,aACA,uBACA,WACA,YAEF,CACE,WACA,UACA,SACA,UACA,YACA,UACA,WACA,UACA,iBACA,UACA,SACA,WACA,QACA,QACA,QACA,QACA,OACA,SACA,SACA,eACA,kBACA,0BACA,SACA,WACA,WACA,aACA,OACA,UACA,QACA,QACA,cCpaSC,GAAc,CACzB,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,kBACd,aAAc,cACd,aAAc,qBACd,aAAc,UACd,aAAc,QACd,aAAc,YACd,aAAc,wBACd,aAAc,aACd,aAAc,aACd,aAAc,YACd,aAAc,cACd,aAAc,mBC9CVC,GAAc,SAACC,GACnB,IAAMC,EAAcC,aAAOF,EAAK,cAChC,OAAOF,GAAYG,IAEfE,GAASC,cAAW5C,OAAO,CAC/BwC,IAAK,CACHjB,QAAS,OACTE,cAAe,MACfoB,WAAY,SACZxB,gBAAiB,cACjB9F,OTnBsB,SSoBtBuH,YAAa7M,EACb8M,YAAa,QACbC,gBAAiB9M,EACjB+M,iBAAkB,EAClBC,eAAgBhN,EAChBiN,YAAa,QACbC,OAAQ,EACRvC,UAAW,aACXwC,SAAU,QAGZC,UAAW,CACTC,YAAatN,EACboN,SAAU,QAEZG,WAAY,GACZC,MAAO,CAAE7C,WAAY,Q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","file":"static/js/main.98078306.chunk.js","sourcesContent":["export const DAY_HEIGHT = \"0.85cm\";\nexport const TEXT_SPACE = \"0.2cm\";\nexport const BORDER_WIDTH = \"0.05cm\";\n\nexport const HEADER_FON_SIZE = \"26pt\";\nexport const HEADER_HEIGHT = \"3cm\";\nexport const HEADER_TOP_PADDING = \"1.3cm\";\n\nexport const PICTURE_WIDTH = 8;\nexport const PICTURE_HEIGHT = 8.8;\n\nexport const LEFT_MENU_WIDTH = 55;\nexport const IMAGE_MENU_WIDTH = 450;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const pictureSystemSlice = createSlice({\n  name: \"pictureSystem\",\n  initialState: {\n    pictures: [],\n    // dirHandle: null,\n    months: [\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n    ],\n    cropper: null,\n  },\n  reducers: {\n    fetchPictures: (state, action) => {\n      const urlMapping = {};\n      state.pictures.forEach(({ url, name }) => {\n        urlMapping[url] = name;\n        URL.revokeObjectURL(url);\n      });\n\n      const nameMapping = {};\n      action.payload.pictures.forEach(({ name, url }) => {\n        nameMapping[name] = url;\n      });\n      state.pictures = action.payload.pictures;\n\n      state.months.forEach((month, monthIndex) => {\n        month.forEach((picture, pictureIndex) => {\n          if (picture.src) {\n            const name = urlMapping[picture.src];\n            const newUrl = nameMapping[name];\n            if (newUrl !== undefined) {\n              state.months[monthIndex][pictureIndex] = {\n                ...state.months[monthIndex][pictureIndex],\n                src: newUrl,\n              };\n              return;\n            }\n          }\n          state.months[monthIndex][pictureIndex] = {};\n        });\n      });\n    },\n    setMonths: (state, action) => {\n      state.months = action.payload;\n\n      state.months.forEach((month) => {\n        month.forEach((picture) => {\n          if (picture && picture.name) {\n            picture.src = state.pictures.find(\n              (p) => p.name === picture.name\n            )?.url;\n          }\n        });\n      });\n    },\n    updatePicture: (state, action) => {\n      const { monthIndex, pictureIndex, ...override } = action.payload;\n\n      if (override.src !== undefined) {\n        state.months[monthIndex][pictureIndex] = {\n          ...override,\n        };\n      } else {\n        state.months[monthIndex][pictureIndex] = {\n          ...state.months[monthIndex][pictureIndex],\n          ...override,\n        };\n      }\n    },\n    setCropper: (state, action) => {\n      if (!action.payload) {\n        state.cropper = null;\n      } else {\n        state.cropper = action.payload;\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { fetchPictures, updatePicture, setCropper, setMonths } =\n  pictureSystemSlice.actions;\n\nexport default pictureSystemSlice.reducer;\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Cropper from \"react-easy-crop\";\nimport { PICTURE_HEIGHT, PICTURE_WIDTH } from \"../const\";\nimport { setCropper, updatePicture } from \"../features/pictureSystem\";\n\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport IconButton from \"@mui/material/IconButton\";\n\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport { width } from \"@mui/system\";\n\nconst BootstrapDialogTitle = (props) => {\n  const { children, onClose, ...other } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\n      {children}\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: \"absolute\",\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nexport default function ImageCropper() {\n  const cropperState = useSelector((state) => state.pictureSystem.cropper);\n  const initialCroppedAreaPixels = useSelector((state) => {\n    if (state.pictureSystem.cropper) {\n      return state.pictureSystem.months[state.pictureSystem.cropper.monthIndex][\n        state.pictureSystem.cropper.pictureIndex\n      ].croppedAreaPixels;\n    }\n    return null;\n  });\n\n  const [crop, setCrop] = React.useState({\n    x: 0,\n    y: 0,\n  });\n  const [zoom, setZoom] = React.useState(1);\n  const [mediaSize, setMediaSize] = React.useState();\n\n  const [currentCroppedArea, setCurrentCroppedArea] = React.useState(null);\n  const [currentCroppedAreaPixels, setCurrentCroppedAreaPixels] =\n    React.useState(null);\n\n  const onCropComplete = React.useCallback((croppedArea, croppedAreaPixels) => {\n    setCurrentCroppedArea(croppedArea);\n    setCurrentCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n\n  const dispatch = useDispatch();\n\n  const handleClose = () => {\n    dispatch(setCropper(null));\n  };\n\n  const validate = () => {\n    if (currentCroppedArea && mediaSize) {\n      dispatch(\n        updatePicture({\n          monthIndex: cropperState.monthIndex,\n          pictureIndex: cropperState.pictureIndex,\n          ...currentCroppedArea,\n          croppedAreaPixels: currentCroppedAreaPixels,\n        })\n      );\n    }\n    handleClose();\n  };\n\n  const onMediaLoaded = (mediaSize) => {\n    setMediaSize(mediaSize);\n  };\n  const open = !!cropperState;\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"customized-dialog-title\"\n      open={open}\n      fullWidth\n      maxWidth=\"lg\"\n    >\n      <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n        Crop Image\n      </BootstrapDialogTitle>\n\n      <DialogContent dividers>\n        {cropperState && (\n          <div style={{ position: \"relative\", height: \"60vh\" }}>\n            <Cropper\n              image={cropperState.src || null}\n              crop={crop}\n              zoom={zoom}\n              aspect={PICTURE_WIDTH / PICTURE_HEIGHT}\n              onCropChange={setCrop}\n              onCropComplete={onCropComplete}\n              onZoomChange={setZoom}\n              onMediaLoaded={onMediaLoaded}\n              initialCroppedAreaPixels={initialCroppedAreaPixels}\n              maxZoom={50}\n            />\n          </div>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={validate}>Save changes</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const draggingSlice = createSlice({\n  name: \"dragging\",\n  initialState: {\n    src: null,\n  },\n  reducers: {\n    startDragging: (state, action) => {\n      state.src = action.payload.src;\n      state.name = action.payload.name;\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { startDragging } = draggingSlice.actions;\n\nexport default draggingSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport cuid from \"cuid\";\n\nexport function getNickName({ lastName = \"\", firstName = \"\" }) {\n  return `${lastName} ${firstName}`;\n}\nconst getDefaultRow = () => {\n  return {\n    id: cuid(),\n    nickname: getNickName({}),\n    firstName: \"\",\n    lastName: \"\",\n    birthday: String(new Date()),\n    printed: true,\n    agePrinted: true,\n  };\n};\nexport const birthdaysSlice = createSlice({\n  name: \"birthdays\",\n  initialState: {\n    values: [getDefaultRow()],\n  },\n  reducers: {\n    setBirthdays: (state, action) => {\n      state.values = action.payload;\n    },\n    upsertBirthday: (state, action) => {\n      const index = state.values.findIndex(\n        (x) => action?.payload?.id && x?.id === action?.payload?.id\n      );\n\n      if (action?.payload?.birthday) {\n        action.payload.birthday = String(action.payload.birthday);\n      }\n\n      if (index === -1) {\n        state.values.push({ ...getDefaultRow(), ...action.payload });\n      } else {\n        state.values[index] = {\n          ...getDefaultRow(),\n          ...state.values[index],\n          ...action.payload,\n        };\n      }\n    },\n    removeBirthday: (state, action) => {\n      const index = state.values.findIndex((x) => x.id === action.payload.id);\n      if (index !== -1) {\n        state.values = [\n          ...state.values.slice(0, index),\n          ...state.values.slice(index + 1),\n        ];\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { upsertBirthday, removeBirthday, setBirthdays } =\n  birthdaysSlice.actions;\n\nexport default birthdaysSlice.reducer;\n","import { get, set } from \"idb-keyval\";\n\nexport const isImage = (name) => {\n  const upperCaseName = name.toUpperCase();\n  return [\".JPG\", \".JPEG\", \".PNG\"].some((extension) =>\n    upperCaseName.endsWith(extension)\n  );\n};\n\nexport async function verifyPermission(fileHandle, readWrite) {\n  if (fileHandle == undefined) {\n    return false;\n  }\n  const options = {};\n  if (readWrite) {\n    options.mode = \"readwrite\";\n  }\n  // Check if permission was already granted. If so, return true.\n  if ((await fileHandle.queryPermission(options)) === \"granted\") {\n    return true;\n  }\n  // Request permission. If the user grants permission, return true.\n  if ((await fileHandle.requestPermission(options)) === \"granted\") {\n    return true;\n  }\n  // The user didn't grant permission, so return false.\n  return false;\n}\n\nexport async function getFolderHandler(tryPreviousFolder) {\n  if (tryPreviousFolder) {\n    const fileHandleOrUndefined = await get(\"last_folder\");\n\n    const hasAccess = await verifyPermission(fileHandleOrUndefined, true);\n    if (hasAccess) {\n      return fileHandleOrUndefined;\n    }\n  }\n  const dirHandle = await window.showDirectoryPicker({\n    startIn: \"pictures\",\n  });\n  set(\"last_folder\", dirHandle);\n\n  return dirHandle;\n}\n\nexport async function openFolder({\n  setters: { setPictures, setDesign, setCalendar },\n  tryPreviousFolder,\n}) {\n  const dirHandle = await getFolderHandler(tryPreviousFolder);\n  if (!dirHandle) {\n    return;\n  }\n\n  const pictures = [];\n\n  let designObject = null;\n  let calendarObject = null;\n\n  for await (const entry of dirHandle.values()) {\n    if (setPictures && isImage(entry.name)) {\n      const f = await entry.getFile();\n      const url = URL.createObjectURL(f);\n      pictures.push({\n        url,\n        name: entry.name,\n      });\n    } else if (setCalendar && entry.name === \"calendar.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      calendarObject = JSON.parse(text);\n    } else if (setDesign && entry.name === \"design.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      designObject = JSON.parse(text);\n    }\n  }\n\n  if (setPictures) {\n    setPictures(pictures);\n  }\n  if (setDesign && designObject) {\n    designObject.pictures.forEach((month) => {\n      month.forEach((picture) => {\n        if (picture && picture.src) picture.src = undefined;\n      });\n    });\n    console.log(designObject);\n    setDesign(designObject);\n  }\n  if (setCalendar && calendarObject) {\n    setCalendar(calendarObject);\n  }\n}\n\nexport async function saveFolder({\n  values: { design, calendar },\n  tryPreviousFolder = true,\n}) {\n  const dirHandle = await getFolderHandler(tryPreviousFolder);\n\n  if (!dirHandle) {\n    return;\n  }\n\n  if (design) {\n    const fileHandle = await dirHandle.getFileHandle(\"design.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(design));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n\n  if (calendar) {\n    const fileHandle = await dirHandle.getFileHandle(\"calendar.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(calendar));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n}\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Button from \"@mui/material/Button\";\n\nimport { Tooltip } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport { startDragging } from \"../features/dragging\";\nimport { fetchPictures, setMonths } from \"../features/pictureSystem\";\nimport { setBirthdays } from \"../features/birthdays\";\n\nimport { LEFT_MENU_WIDTH, IMAGE_MENU_WIDTH } from \"../const\";\n\nimport { openFolder } from \"../components/fileManagement/utils\";\nexport default function ImageDrawer() {\n  const pictures = useSelector((state) => state.pictureSystem.pictures);\n  const dispatch = useDispatch();\n\n  const setPictures = (x) => {\n    dispatch(fetchPictures({ pictures: x }));\n  };\n\n  const setCalendar = (x) => {\n    dispatch(setBirthdays(x));\n  };\n\n  const setDesign = ({ pictures }) => {\n    dispatch(setMonths(pictures));\n  };\n\n  const picturesLoaded = pictures.length > 0;\n\n  return (\n    <Drawer\n      sx={{\n        width: `${IMAGE_MENU_WIDTH}px`,\n        flexShrink: 0,\n        marginLeft: `${LEFT_MENU_WIDTH}px`,\n\n        \"& .MuiDrawer-paper\": {\n          width: `${IMAGE_MENU_WIDTH}px`,\n          marginLeft: `${LEFT_MENU_WIDTH}px`,\n          boxSizing: \"border-box\",\n          borderRight: \"1px solid lightgray\",\n        },\n      }}\n      variant=\"permanent\"\n      anchor=\"top\"\n    >\n      <Toolbar />\n      <Box sx={{ overflow: \"auto\", height: \"100vh\" }}>\n        <Box\n          sx={{\n            position: \"sticky\",\n            top: 0,\n            zIndex: 5,\n            backgroundColor: \"white\",\n            padding: picturesLoaded ? \"4px\" : \"100px 4px 4px 4px\",\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            flexDirection: picturesLoaded ? \"row\" : \"column\",\n          }}\n        >\n          {picturesLoaded ? (\n            <>\n              <Tooltip\n                title=\"Attention, les données non enregistrées seront perdu\"\n                placement=\"bottom\"\n              >\n                <Button\n                  onClick={() => {\n                    openFolder({\n                      setters: { setPictures, setCalendar, setDesign },\n                      tryPreviousFolder: false,\n                    });\n                  }}\n                  variant=\"outlined\"\n                >\n                  Changer de dossier\n                </Button>\n              </Tooltip>\n              <Tooltip title=\"Récupère les dernières image que vous avez ajoutées dans le dossier\">\n                <Button\n                  onClick={() =>\n                    openFolder({\n                      setters: { setPictures },\n                      tryPreviousFolder: true,\n                    })\n                  }\n                  variant=\"contained\"\n                >\n                  Rafraîchir le dossier\n                </Button>\n              </Tooltip>\n            </>\n          ) : (\n            <>\n              <Button\n                variant=\"contained\"\n                onClick={() => {\n                  openFolder({\n                    setters: { setPictures, setCalendar, setDesign },\n                    tryPreviousFolder: true,\n                  });\n                }}\n              >\n                Ouvrir un dossier\n              </Button>\n              <p style={{ padding: \"1rem\" }}>\n                Ouvrez le dossier dans lequel se trouve les images pour\n                personnaliser votre calendrier\n              </p>\n            </>\n          )}\n        </Box>\n        {picturesLoaded && (\n          <ImageList variant=\"masonry\" cols={2} gap={5}>\n            {pictures.map(({ url, name }) => (\n              <ImageListItem key={url}>\n                <img\n                  src={url}\n                  width={200}\n                  alt=\"\"\n                  onDragStart={() => {\n                    dispatch(startDragging({ src: url, name }));\n                  }}\n                  loading=\"lazy\"\n                />\n              </ImageListItem>\n            ))}\n          </ImageList>\n        )}\n      </Box>\n    </Drawer>\n  );\n}\n","export const SAINTS = [\n  [\n    \"Marie, mère de Dieu\",\n    \"Basile et Grégoire\",\n    \"Geneviève\",\n    \"Odilon\",\n    \"Edouard\",\n    \"Mélaine\",\n    \"Raymond\",\n    \"Lucien\",\n    \"Alix\",\n    \"Guillaume\",\n    \"Paulin\",\n    \"Tatiana\",\n    \"Yvette\",\n    \"Nina\",\n    \"Rémi\",\n    \"Marcel\",\n    \"Roseline\",\n    \"Prisca\",\n    \"Marius\",\n    \"Sébastien\",\n    \"Agnès\",\n    \"Vincent\",\n    \"Barnard\",\n    \"François de Sales\",\n    \"Ananie\",\n    \"Paule\",\n    \"Angèle\",\n    \"Thomas d'Aquin\",\n    \"Gildas\",\n    \"Martine\",\n    \"Marcelle\",\n  ],\n  [\n    \"Ella\",\n    \"Théophane\",\n    \"Blaise\",\n    \"Véronique\",\n    \"Agathe\",\n    \"Gaston\",\n    \"Eugénie\",\n    \"Jacqueline\",\n    \"Apolline\",\n    \"Arnaud\",\n    \"Héloïse\",\n    \"Félix\",\n    \"Béatrice\",\n    \"Valentin\",\n    \"Claude\",\n    \"Julienne\",\n    \"Alexis\",\n    \"Bernadette\",\n    \"Gabin\",\n    \"Aimée\",\n    \"Pierre-Damien\",\n    \"Isabelle\",\n    \"Lazare\",\n    \"Modeste\",\n    \"Roméo\",\n    \"Nestor\",\n    \"Honorine\",\n    \"Romain\",\n    \"(Auguste)\",\n  ],\n  [\n    \"Aubin\",\n    \"Charles le Bon\",\n    \"Guénolé\",\n    \"Casimir\",\n    \"Olive\",\n    \"Colette\",\n    \"Félicité\",\n    \"Jean de Dieu\",\n    \"Françoise\",\n    \"Vivien\",\n    \"Rosine\",\n    \"Justine\",\n    \"Rodrigue\",\n    \"Mathilde\",\n    \"Louise\",\n    \"Bénédicte\",\n    \"Patrice\",\n    \"Cyrille\",\n    \"Joseph\",\n    \"Herbert\",\n    \"Clémence\",\n    \"Léa\",\n    \"Victorien\",\n    \"Catherine de Suède\",\n    \"Humbert\",\n    \"Larissa\",\n    \"Habib\",\n    \"Gontran\",\n    \"Gwladys\",\n    \"Amédée\",\n    \"Benjamin\",\n    \"Avril\",\n    \"Hugues\",\n    \"Sandrine\",\n    \"Richard\",\n    \"Isidore\",\n    \"Irène\",\n    \"Marcellin\",\n    \"Jean-Baptiste de la Salle\",\n    \"Julie\",\n    \"Gauthier\",\n    \"Fulbert\",\n    \"Stanislas\",\n    \"Jules\",\n    \"Ida\",\n    \"Maxime\",\n    \"Paterne\",\n    \"Benoît-Joseph\",\n    \"Anicet\",\n    \"Parfait\",\n    \"Emma\",\n    \"Odette\",\n    \"Anselme\",\n    \"Alexandre\",\n    \"Georges\",\n    \"Fidèle\",\n    \"Marc\",\n    \"Alida\",\n    \"Zita\",\n    \"Valérie\",\n    \"Catherine de Sienne\",\n    \"Robert\",\n  ],\n  [\n    \"Hugues\",\n    \"Sandrine\",\n    \"Richard\",\n    \"Isidore\",\n    \"Irène\",\n    \"Marcellin\",\n    \"Jean-Baptiste de la Salle\",\n    \"Julie\",\n    \"Gauthier\",\n    \"Fulbert\",\n    \"Stanislas\",\n    \"Jules\",\n    \"Ida\",\n    \"Maxime\",\n    \"Paterne\",\n    \"Benoît-Joseph\",\n    \"Anicet\",\n    \"Parfait\",\n    \"Emma\",\n    \"Odette\",\n    \"Anselme\",\n    \"Alexandre\",\n    \"Georges\",\n    \"Fidèle\",\n    \"Marc\",\n    \"Alida\",\n    \"Zita\",\n    \"Valérie\",\n    \"Catherine de Sienne\",\n    \"Robert\",\n  ],\n  [\n    \"Jérémie\",\n    \"Boris\",\n    \"Philippe, Jacques le Mineur\",\n    \"Sylvain\",\n    \"Judith\",\n    \"Prudence\",\n    \"Gisèle\",\n    \"Désiré\",\n    \"Pacôme\",\n    \"Solange\",\n    \"Estelle\",\n    \"Achille\",\n    \"Rolande\",\n    \"Matthias\",\n    \"Denise\",\n    \"Honoré\",\n    \"Pascal\",\n    \"Eric\",\n    \"Yves\",\n    \"Bernardin\",\n    \"Constantin\",\n    \"Emile\",\n    \"Didier\",\n    \"Donatien\",\n    \"Sophie\",\n    \"Bérenger\",\n    \"Augustin\",\n    \"Germain\",\n    \"Aymard\",\n    \"Ferdinand\",\n    \"Perrine\",\n  ],\n  [\n    \"Justin\",\n    \"Blandine\",\n    \"Kévin\",\n    \"Clotilde\",\n    \"Igor\",\n    \"Norbert\",\n    \"Gilbert\",\n    \"Médard\",\n    \"Diane\",\n    \"Landry\",\n    \"Barnabé\",\n    \"Guy\",\n    \"Antoine de Padoue\",\n    \"Elisée\",\n    \"Germaine\",\n    \"Jean-François Régis\",\n    \"Hervé\",\n    \"Léonce\",\n    \"Romuald\",\n    \"Silvère\",\n    \"Rodolphe\",\n    \"Alban\",\n    \"Audrey\",\n    \"Jean-Baptiste\",\n    \"Prosper\",\n    \"Anthelme\",\n    \"Fernand\",\n    \"Irénée\",\n    \"Pierre/Paul\",\n    \"Martial\",\n  ],\n  [\n    \"Thierry\",\n    \"Martinien\",\n    \"Thomas\",\n    \"Florent\",\n    \"Antoine\",\n    \"Mariette\",\n    \"Raoul\",\n    \"Thibaut\",\n    \"Amandine\",\n    \"Ulrich\",\n    \"Benoît\",\n    \"Olivier\",\n    \"Henri/Joël\",\n    \"Camille\",\n    \"Donald\",\n    \"Carmen\",\n    \"Charlotte\",\n    \"Frédéric\",\n    \"Arsène\",\n    \"Marina\",\n    \"Victor\",\n    \"Marie-Madeleine\",\n    \"Brigitte\",\n    \"Christine\",\n    \"Jacques\",\n    \"Anne/Joachim\",\n    \"Nathalie\",\n    \"Samson\",\n    \"Marthe\",\n    \"Juliette\",\n    \"Ignace de Loyola\",\n  ],\n  [\n    \"Alphonse\",\n    \"Julien\",\n    \"Lydie\",\n    \"Jean-Marie\",\n    \"Abel\",\n    \"Octavien\",\n    \"Gaétan\",\n    \"Dominique\",\n    \"Amour\",\n    \"Laurent\",\n    \"Claire\",\n    \"Clarisse\",\n    \"Hippolyte\",\n    \"Evrard\",\n    \"Marie\",\n    \"Armel\",\n    \"Hyacinthe\",\n    \"Hélène\",\n    \"Jean-Eudes\",\n    \"Bernard\",\n    \"Christophe\",\n    \"Fabrice\",\n    \"Rose\",\n    \"Barthélémy\",\n    \"Louis\",\n    \"Natacha\",\n    \"Monique\",\n    \"Augustin\",\n    \"Sabine\",\n    \"Fiacre\",\n    \"Aristide\",\n  ],\n  [\n    \"Gilles\",\n    \"Ingrid\",\n    \"Grégoire\",\n    \"Rosalie\",\n    \"Raissa\",\n    \"Bertrand\",\n    \"Reine\",\n    \"Adrien\",\n    \"Alain\",\n    \"Inès\",\n    \"Adelphe\",\n    \"Apollinaire\",\n    \"Aimé\",\n    \"Cyprien\",\n    \"Roland\",\n    \"Edith\",\n    \"Renaud\",\n    \"Nadège\",\n    \"Émilie\",\n    \"Davy\",\n    \"Matthieu\",\n    \"Maurice\",\n    \"Constant\",\n    \"Thècle\",\n    \"Hermann\",\n    \"Côme/Damien\",\n    \"Vincent de Paul\",\n    \"Venceslas\",\n    \"Michel\",\n    \"Jérôme\",\n  ],\n  [\n    \"Thérèse\",\n    \"Léger\",\n    \"Gérard\",\n    \"François\",\n    \"Fleur\",\n    \"Bruno\",\n    \"Serge\",\n    \"Pélagie\",\n    \"Denis\",\n    \"Ghislain\",\n    \"Firmin\",\n    \"Wilfried\",\n    \"Géraud\",\n    \"Juste\",\n    \"Aurélie\",\n    \"Edwige\",\n    \"Baudouin\",\n    \"Luc\",\n    \"René\",\n    \"Adeline\",\n    \"Céline\",\n    \"Elodie\",\n    \"Jean de Capistran\",\n    \"Florentin\",\n    \"Crépin\",\n    \"Dimitri\",\n    \"Emeline\",\n    \"Simon/Jude\",\n    \"Narcisse\",\n    \"Bienvenue\",\n    \"Quentin\",\n  ],\n  [\n    \"Harold\",\n    \"Océane\",\n    \"Hubert\",\n    \"Charles\",\n    \"Sylvie\",\n    \"Bertille\",\n    \"Carine\",\n    \"Geoffroy\",\n    \"Théodore\",\n    \"Léon\",\n    \"Martin\",\n    \"Christian\",\n    \"Brice\",\n    \"Sidoine\",\n    \"Albert\",\n    \"Marguerite\",\n    \"Elisabeth\",\n    \"Aude\",\n    \"Tanguy\",\n    \"Edmond\",\n    \"Rufus\",\n    \"Cécile\",\n    \"Clément\",\n    \"Flora\",\n    \"Catherine\",\n    \"Delphine\",\n    \"Séverin\",\n    \"Jacques de la Marche\",\n    \"Saturnin\",\n    \"André\",\n  ],\n  [\n    \"Florence\",\n    \"Viviane\",\n    \"Xavier\",\n    \"Barbara\",\n    \"Gérald\",\n    \"Nicolas\",\n    \"Ambroise\",\n    \"Elfried\",\n    \"Pierre Fourier\",\n    \"Romaric\",\n    \"Daniel\",\n    \"Corentin\",\n    \"Lucie\",\n    \"Odile\",\n    \"Ninon\",\n    \"Alice\",\n    \"Gael\",\n    \"Gatien\",\n    \"Urbain\",\n    \"Théophile\",\n    \"Pierre Canisius\",\n    \"Françoise-Xavière\",\n    \"Armand\",\n    \"Adèle\",\n    \"Emmanuel\",\n    \"Étienne\",\n    \"Jean\",\n    \"Gaspard\",\n    \"David\",\n    \"Roger\",\n    \"Sylvestre\",\n  ],\n];\n","export const joursFeries = {\n  \"2025-01-01\": \"1er janvier\",\n  \"2025-04-21\": \"Lundi de Pâques\",\n  \"2025-05-01\": \"1er mai\",\n  \"2025-05-08\": \"8 mai\",\n  \"2025-05-29\": \"Ascension\",\n  \"2025-06-09\": \"Lundi de Pentecôte\",\n  \"2025-07-14\": \"14 juillet\",\n  \"2025-08-15\": \"Assomption\",\n  \"2025-11-01\": \"Toussaint\",\n  \"2025-11-11\": \"11 novembre\",\n  \"2025-12-25\": \"Jour de Noël\",\n  \"2024-01-01\": \"1er janvier\",\n  \"2024-04-01\": \"Lundi de Pâques\",\n  \"2024-05-01\": \"1er mai\",\n  \"2024-05-08\": \"8 mai\",\n  \"2024-05-09\": \"Ascension\",\n  \"2024-05-20\": \"Lundi de Pentecôte\",\n  \"2024-07-14\": \"14 juillet\",\n  \"2024-08-15\": \"Assomption\",\n  \"2024-11-01\": \"Toussaint\",\n  \"2024-11-11\": \"11 novembre\",\n  \"2024-12-25\": \"Jour de Noël\",\n  \"2023-01-01\": \"1er janvier\",\n  \"2023-04-10\": \"Lundi de Pâques\",\n  \"2023-05-01\": \"1er mai\",\n  \"2023-05-08\": \"8 mai\",\n  \"2023-05-18\": \"Ascension\",\n  \"2023-05-29\": \"Lundi de Pentecôte\",\n  \"2023-07-14\": \"14 juillet\",\n  \"2023-08-15\": \"Assomption\",\n  \"2023-11-01\": \"Toussaint\",\n  \"2023-11-11\": \"11 novembre\",\n  \"2023-12-25\": \"Jour de Noël\",\n  \"2022-01-01\": \"1er janvier\",\n  \"2022-04-18\": \"Lundi de Pâques\",\n  \"2022-05-01\": \"1er mai\",\n  \"2022-05-08\": \"8 mai\",\n  \"2022-05-26\": \"Ascension\",\n  \"2022-06-06\": \"Lundi de Pentecôte\",\n  \"2022-07-14\": \"14 juillet\",\n  \"2022-08-15\": \"Assomption\",\n  \"2022-11-01\": \"Toussaint\",\n  \"2022-11-11\": \"11 novembre\",\n  \"2022-12-25\": \"Jour de Noël\",\n  \"2021-01-01\": \"1er janvier\",\n  \"2021-04-05\": \"Lundi de Pâques\",\n  \"2021-05-01\": \"1er mai\",\n  \"2021-05-08\": \"8 mai\",\n  \"2021-05-13\": \"Ascension\",\n  \"2021-05-24\": \"Lundi de Pentecôte\",\n  \"2021-07-14\": \"14 juillet\",\n  \"2021-08-15\": \"Assomption\",\n  \"2021-11-01\": \"Toussaint\",\n  \"2021-11-11\": \"11 novembre\",\n  \"2021-12-25\": \"Jour de Noël\",\n};\n","import React from \"react\";\nimport { Text, View, StyleSheet } from \"@react-pdf/renderer\";\nimport { format, getDate, getDay, getMonth } from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { DAY_HEIGHT, TEXT_SPACE, BORDER_WIDTH } from \"../../const\";\nimport { getNickName } from \"../../features/birthdays\";\nimport { SAINTS } from \"./saints\";\nimport { joursFeries } from \"./joursFeries\";\n\nconst getFerieDay = (day) => {\n  const formatedDay = format(day, \"yyyy-MM-dd\");\n  return joursFeries[formatedDay];\n};\nconst styles = StyleSheet.create({\n  day: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"transparent\",\n    height: DAY_HEIGHT,\n    paddingLeft: TEXT_SPACE,\n    borderColor: \"black\",\n    borderLeftWidth: BORDER_WIDTH,\n    borderRightWidth: 0,\n    borderTopWidth: BORDER_WIDTH,\n    borderStyle: \"solid\",\n    margin: 0,\n    boxSizing: \"border-box\",\n    fontSize: \"12pt\",\n  },\n\n  dayNumber: {\n    marginRight: TEXT_SPACE,\n    fontSize: \"12pt\",\n  },\n  dayInitial: {},\n  saint: { marginLeft: \"0.2cm\", fontSize: \"12pt\" },\n  birthdays: { marginRight: \"1cm\", fontSize: \"12pt\" },\n});\n\nconst Day = ({ day, isLastDay, birthdays }) => {\n  const numberDay = format(day, \"dd\", { locale: fr });\n\n  const weekDay = format(day, \"ccccc\", { locale: fr });\n\n  const isEvenDay = Number(numberDay) % 2 === 1;\n\n  const nationalCelebration = getFerieDay(day);\n  return (\n    <View\n      style={{\n        ...styles.day,\n        borderBottomWidth: isLastDay ? BORDER_WIDTH : 0,\n        backgroundColor:\n          getDay(day) === 0 || nationalCelebration\n            ? \"lightblue\"\n            : \"transparent\",\n      }}\n    >\n      <Text style={styles.dayNumber}>{numberDay}</Text>\n      <Text style={styles.dayInitial}>{weekDay}</Text>\n      <Text style={styles.saint}>\n        {nationalCelebration ||\n          `St ${SAINTS?.[getMonth(day)]?.[getDate(day) - 1]}`}\n      </Text>\n      <Text style={{ flexGrow: 1 }}></Text>\n      <Text style={styles.birthdays}>\n        {birthdays\n          .filter((row) => row.printed && row.nickname.trim())\n          .map(\n            (row) =>\n              `${row.nickname.trim()} ${row.agePrinted ? `(${row.age}) ` : \"\"}`\n          )\n          .join(\"/ \")}\n      </Text>\n    </View>\n  );\n};\n\nexport const HTMLDay = ({ day, isLastDay, birthdays }) => {\n  const numberDay = format(day, \"dd\", { locale: fr });\n  const weekDay = format(day, \"ccccc\", { locale: fr });\n\n  const nationalCelebration = getFerieDay(day);\n  return (\n    <div\n      style={{\n        ...styles.day,\n        borderBottomWidth: isLastDay ? BORDER_WIDTH : 0,\n        backgroundColor:\n          getDay(day) === 0 || nationalCelebration\n            ? \"lightblue\"\n            : \"transparent\",\n      }}\n    >\n      <span style={styles.dayNumber}>{numberDay}</span>\n      <span style={styles.dayInitial}>{weekDay}</span>\n      <span style={styles.saint}>\n        {nationalCelebration ||\n          `St ${SAINTS?.[getMonth(day)]?.[getDate(day) - 1]}`}\n      </span>\n      <span style={{ flexGrow: 1 }}></span>\n      <span style={styles.birthdays}>\n        {birthdays\n          .filter((row) => row.printed && row.nickname.trim())\n          .map(\n            (row) =>\n              `${row.nickname.trim()} ${row.agePrinted ? `(${row.age}) ` : \"\"}`\n          )\n          .join(\"/ \")}\n      </span>\n    </div>\n  );\n};\n\nexport default Day;\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { PICTURE_HEIGHT, PICTURE_WIDTH } from \"../const\";\nimport { setCropper, updatePicture } from \"../features/pictureSystem\";\nimport PhotoCameraRoundedIcon from \"@mui/icons-material/PhotoCameraRounded\";\nimport Box from \"@mui/material/Box\";\n\nexport default function CanvasImage({\n  width = PICTURE_WIDTH * 500,\n  height = PICTURE_HEIGHT * 500,\n  monthIndex,\n  pictureIndex,\n  ...others\n}) {\n  const image = useSelector(\n    (state) => state.pictureSystem.months[monthIndex][pictureIndex]\n  );\n  const draggingSrc = useSelector((state) => state.dragging.src);\n  const draggingName = useSelector((state) => state.dragging.name);\n  const canvasRef = React.useRef(null);\n  const dispatch = useDispatch();\n\n  const onDrop = (e) => {\n    console.log({ draggingName, draggingSrc });\n    e.preventDefault();\n    dispatch(\n      updatePicture({\n        monthIndex,\n        pictureIndex,\n        src: draggingSrc,\n        name: draggingName,\n      })\n    );\n  };\n\n  const onClick = (event) => {\n    event.stopPropagation();\n    dispatch(setCropper({ src: image?.src, monthIndex, pictureIndex }));\n  };\n\n  React.useEffect(() => {\n    if (image && image.src) {\n      const canvas = canvasRef.current;\n      const context = canvas.getContext(\"2d\");\n      let img = new Image();\n\n      const modifiedImages = { ...image };\n\n      img.addEventListener(\n        \"load\",\n        function () {\n          if (\n            modifiedImages.x === undefined ||\n            modifiedImages.y === undefined ||\n            modifiedImages.width === undefined ||\n            modifiedImages.height === undefined ||\n            modifiedImages.imageWidth === undefined ||\n            modifiedImages.imageHeight === undefined\n          ) {\n            // if cropped unknown take largest scale\n            const fullWidth = img.width / width < img.height / height;\n\n            modifiedImages.x = 0;\n            modifiedImages.y = 0;\n            modifiedImages.width = fullWidth\n              ? 100\n              : (100 * img.height * width) / (height * img.width);\n            modifiedImages.height = fullWidth\n              ? (100 * img.width * height) / (width * img.height)\n              : 100;\n\n            dispatch(\n              updatePicture({\n                monthIndex,\n                pictureIndex,\n                ...modifiedImages,\n                imageWidth: width,\n                imageHeight: height,\n              })\n            );\n          }\n          context.drawImage(\n            img,\n            (modifiedImages.x * img.width) / 100,\n            (modifiedImages.y * img.height) / 100,\n            (modifiedImages.width * img.width) / 100,\n            (modifiedImages.height * img.height) / 100,\n            0,\n            0,\n            width,\n            height\n          );\n        },\n        false\n      );\n      img.src = image.src;\n    }\n  }, [image, image.src, width, height, dispatch, monthIndex, pictureIndex]);\n\n  return image.src ? (\n    <canvas\n      onClick={onClick}\n      onDrop={onDrop}\n      onDragOver={(e) => e.preventDefault()}\n      ref={canvasRef}\n      width={width}\n      height={height}\n      id={`canvasImage-${monthIndex}-${pictureIndex}`}\n      {...others}\n    />\n  ) : (\n    <Box\n      onClick={onClick}\n      onDrop={onDrop}\n      onDragOver={(e) => e.preventDefault()}\n      sx={{\n        borderRadius: \"2cm\",\n        backgroundColor: \"#f3f3f3\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n      {...others}\n    >\n      <PhotoCameraRoundedIcon\n        sx={{\n          fontSize: 50,\n        }}\n      />\n    </Box>\n  );\n}\n","import React from \"react\";\nimport {\n  Page,\n  Text,\n  View,\n  Image,\n  Canvas,\n  StyleSheet,\n} from \"@react-pdf/renderer\";\nimport { eachDayOfInterval, intlFormat, getDate, getMonth } from \"date-fns\";\nimport Day, { HTMLDay } from \"./day\";\nimport { Font } from \"@react-pdf/renderer\";\nimport {\n  PICTURE_WIDTH,\n  PICTURE_HEIGHT,\n  HEADER_FON_SIZE,\n  HEADER_TOP_PADDING,\n  HEADER_HEIGHT,\n} from \"../../const\";\nimport CanvasImage from \"../CanvasImage\";\nimport Paper from \"@mui/material/Paper\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { differenceInYears, isSameMonth } from \"date-fns\";\n\nFont.register({\n  family: \"Roboto\",\n  fonts: [\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-Regular.ttf`,\n    },\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-Bold.ttf`,\n      fontWeight: \"bold\",\n    },\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-Italic.ttf`,\n      fontWeight: \"normal\",\n      fontStyle: \"italic\",\n    },\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-BoldItalic.ttf`,\n      fontWeight: \"bold\",\n      fontStyle: \"italic\",\n    },\n  ],\n});\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: \"column\",\n    backgroundColor: \"transparent\",\n    padding: 0,\n  },\n  header: {\n    textAlign: \"center\",\n    fontSize: HEADER_FON_SIZE,\n\n    paddingTop: HEADER_TOP_PADDING,\n    height: HEADER_HEIGHT,\n\n    fontFamily: \"Roboto\",\n    textTransform: \"capitalize\",\n  },\n  mainContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n  },\n  pictures: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: `${3 * PICTURE_HEIGHT}cm`,\n    width: `${PICTURE_WIDTH}cm`,\n  },\n\n  picture: {\n    height: `${PICTURE_HEIGHT}cm`,\n    width: `${PICTURE_WIDTH}cm`,\n  },\n  calendar: {\n    flexGrow: 1,\n  },\n});\n\nconst Month = ({ year, month, state }) => {\n  const images = state.pictureSystem.months[month];\n\n  const days = eachDayOfInterval({\n    start: new Date(year, month, 1),\n    end: new Date(year, month + 1, 0),\n  });\n\n  const monthBirthdays = state.birthdays.values.filter((row) => {\n    return (\n      row.birthday &&\n      getMonth(new Date(year, month, 1)) === getMonth(new Date(row.birthday))\n    );\n  });\n\n  return (\n    <Page size=\"A4\" style={styles.page} debug={false}>\n      <View style={styles.header} debug={false}>\n        <Text>\n          {intlFormat(\n            days[0],\n            {\n              month: \"long\",\n            },\n            {\n              locale: \"fr\",\n            }\n          ) + ` ${year}`}\n        </Text>\n      </View>\n      <View style={styles.mainContent} debug={false}>\n        <View style={styles.pictures} debug={false}>\n          {images.map(({ src, croppedURL = \"\", ...image }, pictureIndex) => {\n            const widthCM = (100 * PICTURE_WIDTH) / image.width;\n            const heightCM = (100 * PICTURE_HEIGHT) / image.height;\n\n            const topCM = (image.y * heightCM) / 100;\n            const leftCM = (image.x * widthCM) / 100;\n\n            return src ? (\n              <View\n                key={`${pictureIndex}-${croppedURL}`}\n                style={{\n                  ...styles.picture,\n                  overflow: \"hidden\",\n                  position: \"relative\",\n                  width: `${PICTURE_WIDTH}cm`,\n                  height: `${PICTURE_HEIGHT}cm`,\n                }}\n              >\n                <Image\n                  style={{\n                    position: \"absolute\",\n                    width: `${widthCM}cm`,\n                    height: `${heightCM}cm`,\n                    marginLeft: `${-leftCM}cm`,\n                    marginTop: `${-topCM}cm`,\n                  }}\n                  src={src}\n                  width=\"auto\"\n                  height=\"auto\"\n                />\n              </View>\n            ) : (\n              <Canvas\n                style={styles.picture}\n                key={`${pictureIndex}-${croppedURL}`}\n                width={PICTURE_WIDTH}\n                height={PICTURE_HEIGHT}\n              />\n            );\n          })}\n        </View>\n        <View style={styles.calendar} debug={false}>\n          {days.map((day, index) => {\n            const birthdays = monthBirthdays\n              .filter((row) => getDate(day) === getDate(new Date(row.birthday)))\n              .map((row) => ({\n                ...row,\n                age: differenceInYears(day, new Date(row.birthday)),\n              }));\n            return (\n              <Day\n                key={index}\n                day={day}\n                isLastDay={index === days.length - 1}\n                birthdays={birthdays}\n              />\n            );\n          })}\n        </View>\n      </View>\n    </Page>\n  );\n};\n\nexport const HTMLMonth = React.forwardRef(({ year, month }, ref) => {\n  const days = eachDayOfInterval({\n    start: new Date(year, month, 1),\n    end: new Date(year, month + 1, 0),\n  });\n\n  const monthBirthdays = useSelector((state) =>\n    state.birthdays.values.filter((row) => {\n      return (\n        row.birthday &&\n        getMonth(new Date(year, month, 1)) === getMonth(new Date(row.birthday))\n      );\n    })\n  );\n\n  return (\n    <Paper\n      elevation={3}\n      style={{ ...styles.page, heigh: \"29.7cm\", width: \"21cm\" }}\n      ref={ref}\n    >\n      <div style={styles.header}>\n        <span>\n          {intlFormat(\n            days[0],\n            {\n              month: \"long\",\n            },\n            {\n              locale: \"fr\",\n            }\n          ) + ` ${year}`}\n        </span>\n      </div>\n      <div style={styles.mainContent}>\n        <div style={styles.pictures}>\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={0}\n          />\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={1}\n          />\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={2}\n          />\n        </div>\n        <div style={styles.calendar}>\n          {days.map((day, index) => {\n            const birthdays = monthBirthdays\n              .filter((row) => getDate(day) === getDate(new Date(row.birthday)))\n              .map((row) => ({\n                ...row,\n                age: differenceInYears(day, new Date(row.birthday)),\n              }));\n            return (\n              <HTMLDay\n                key={index}\n                day={day}\n                isLastDay={index === days.length - 1}\n                birthdays={birthdays}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </Paper>\n  );\n});\n\nexport default Month;\n","import React from \"react\";\nimport { Document } from \"@react-pdf/renderer\";\nimport Month from \"./month\";\nexport * from \"./month\";\n// Create Document Component\nconst Calendar = ({ year = 2022, state, pictureUrls }) => {\n  const months = [];\n  for (let month = 0; month < 12; month += 1) {\n    months.push(\n      <Month\n        year={year}\n        month={month}\n        key={month}\n        state={state}\n        pictureUrls={pictureUrls}\n      />\n    );\n  }\n  return <Document>{months}</Document>;\n};\n\nexport default Calendar;\n","import * as React from \"react\";\n\nimport ImageDrawer from \"../components/ImageDrawer\";\n\nimport { HTMLMonth } from \"../components/calendarGenerator\";\nimport { useNavigate } from \"react-router-dom\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\n\nimport Fab from \"@mui/material/Fab\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport RemoveIcon from \"@mui/icons-material/Remove\";\n\nimport { IMAGE_MENU_WIDTH } from \"../const\";\n\nconst MINI_MONTH_WIDTH = 210;\nconst MINI_MONTH_HEIGHT = 297;\nconst MIN_ZOOM = 0.5;\nconst MAX_ZOOM = 3;\n\nexport default function MultipleMonths() {\n  const navigate = useNavigate();\n\n  const calendarRef = React.useRef(null);\n  const [scale, setScale] = React.useState(1);\n  const [zoom, setZoom] = React.useState(1);\n\n  React.useEffect(() => {\n    if (calendarRef.current) {\n      const xScale = MINI_MONTH_WIDTH / calendarRef.current.clientWidth;\n      const yScale = MINI_MONTH_HEIGHT / calendarRef.current.clientHeight;\n\n      const minScale = Math.min(xScale, yScale);\n      setScale(minScale);\n    }\n  }, []);\n\n  return (\n    <div>\n      <ImageDrawer />\n      <div\n        style={{\n          maxHeight: \"100vh\",\n          paddingLeft: IMAGE_MENU_WIDTH,\n          paddingTop: \"64px\",\n        }}\n      >\n        <div>\n          <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((monthIndex) => (\n              <div\n                key={monthIndex}\n                style={{\n                  width: zoom * MINI_MONTH_WIDTH,\n                  height: zoom * MINI_MONTH_HEIGHT,\n                  position: \"relative\",\n                  margin: \"2rem\",\n                }}\n              >\n                <div\n                  key={monthIndex}\n                  style={{\n                    transform: `scale(${zoom * scale}, ${zoom * scale})`,\n                    transformOrigin: \"top left\",\n                    margin: \"1rem\",\n                  }}\n                  onClick={() => {\n                    navigate(`/design/${monthIndex}`);\n                  }}\n                >\n                  <HTMLMonth\n                    year={2022}\n                    month={monthIndex}\n                    ref={monthIndex === 0 ? calendarRef : null}\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n          <Box sx={{ position: \"fixed\", bottom: \"1rem\", right: \"1rem\" }}>\n            <Fab\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"add\"\n              onClick={() => setZoom((x) => Math.max(MIN_ZOOM, x - 0.5))}\n            >\n              <RemoveIcon />\n            </Fab>\n            <Box\n              sx={{\n                margin: \"0 1rem\",\n                width: \"2rem\",\n                backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                display: \"inline-block\",\n                textAlign: \"center\",\n              }}\n            >\n              <Typography variant=\"p\" component=\"span\">\n                {zoom}\n              </Typography>\n            </Box>\n            <Fab\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"add\"\n              onClick={() => setZoom((x) => Math.min(MAX_ZOOM, x + 0.5))}\n            >\n              <AddIcon />\n            </Fab>\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport ImageDrawer from \"../components/ImageDrawer\";\n\nimport GridViewIcon from \"@mui/icons-material/GridView\";\n\nimport { HTMLMonth } from \"../components/calendarGenerator\";\n\nimport { intlFormat } from \"date-fns\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Box from \"@mui/material/Box\";\n\nimport Fab from \"@mui/material/Fab\";\n\nimport { LEFT_MENU_WIDTH, IMAGE_MENU_WIDTH } from \"../const\";\n\nexport default function SingleMonth() {\n  const navigate = useNavigate();\n\n  const { month } = useParams();\n\n  const [paperSize, setPaperSize] = React.useState({ width: 100, height: 100 });\n  const calendarRef = React.useRef(null);\n  const displayDivRef = React.useRef(null);\n\n  const [scale, setScale] = React.useState(1);\n\n  const updateCalendarSize = () => {\n    if (calendarRef.current && displayDivRef.current) {\n      const xScale =\n        (displayDivRef.current.offsetWidth -\n          100 -\n          LEFT_MENU_WIDTH -\n          IMAGE_MENU_WIDTH) /\n        calendarRef.current.clientWidth;\n      const yScale =\n        (displayDivRef.current.offsetHeight - 100 - 114) /\n        calendarRef.current.clientHeight;\n\n      const minScale = Math.min(xScale, yScale);\n\n      setScale(minScale);\n      setPaperSize({\n        width: minScale * calendarRef.current.clientWidth,\n        height: minScale * calendarRef.current.clientHeight,\n      });\n    }\n  };\n  React.useEffect(() => {\n    updateCalendarSize();\n    const ref = displayDivRef.current;\n    window.addEventListener(\"resize\", updateCalendarSize);\n    return () => {\n      window.removeEventListener(\"resize\", updateCalendarSize);\n    };\n  }, []);\n\n  return (\n    <div>\n      <ImageDrawer />\n      <div\n        style={{\n          height: \"100vh\",\n          paddingLeft: IMAGE_MENU_WIDTH,\n          paddingTop: \"64px\",\n        }}\n        ref={displayDivRef}\n      >\n        <div>\n          <Tabs\n            sx={{ flex: \"1 1 100px\" }}\n            value={Number(month) || 0}\n            onChange={(event, newValue) => navigate(`/design/${newValue}`)}\n            aria-label=\"month tabs\"\n            variant=\"scrollable\"\n          >\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((monthIndex) => (\n              <Tab\n                label={intlFormat(\n                  new Date(2000, monthIndex, 1),\n                  {\n                    month: \"short\",\n                  },\n                  {\n                    locale: \"fr\",\n                  }\n                )}\n                value={monthIndex}\n              />\n            ))}\n          </Tabs>\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Box sx={{ position: \"relative\", margin: \"16px\", ...paperSize }}>\n              <div\n                style={{\n                  transform: `scale(${scale}, ${scale})`,\n                  transformOrigin: \"top left\",\n                  margin: \"1rem\",\n                }}\n              >\n                <HTMLMonth\n                  year={2022}\n                  month={Number(month) || 0}\n                  ref={calendarRef}\n                />\n              </div>\n            </Box>\n          </div>\n          <Box sx={{ position: \"fixed\", bottom: \"1rem\", right: \"1rem\" }}>\n            <Fab\n              color=\"primary\"\n              size=\"large\"\n              aria-label=\"grid-view\"\n              onClick={() => navigate(\"/design\")}\n            >\n              <GridViewIcon />\n            </Fab>\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  upsertBirthday,\n  removeBirthday,\n  getNickName,\n} from \"../features/birthdays\";\n\nimport { DataGrid } from \"@mui/x-data-grid\";\n\nconst birthdayColumns = [\n  {\n    headerName: \"Nom\",\n    field: \"firstName\",\n    editable: true,\n    flex: 2,\n  },\n  {\n    headerName: \"Prénom\",\n    field: \"lastName\",\n    editable: true,\n    flex: 2,\n  },\n  {\n    headerName: \"Présentation\",\n    field: \"nickname\",\n    editable: true,\n    flex: 2,\n  },\n  {\n    headerName: \"Date de naissance\",\n    field: \"birthday\",\n    type: \"date\",\n    valueGetter: ({ value }) => {\n      return new Date(value);\n    },\n    editable: true,\n    flex: 1,\n  },\n  {\n    headerName: \"Afficher\",\n    field: \"printed\",\n    type: \"boolean\",\n    editable: true,\n    flex: 1,\n  },\n  {\n    headerName: \"Afficher l'age\",\n    field: \"agePrinted\",\n    type: \"boolean\",\n    editable: true,\n    flex: 1,\n  },\n];\n\nexport default function Birthdays() {\n  const values = useSelector((state) => state.birthdays.values);\n  const dispatch = useDispatch();\n\n  return (\n    <div\n      style={{\n        height: \"100vh\",\n        paddingTop: \"64px\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          height: \"60vh\",\n          width: \"100%\",\n        }}\n      >\n        <DataGrid\n          columns={birthdayColumns}\n          rows={values}\n          onCellEditCommit={({ id, field, value }) => {\n            const newValue = { id, [field]: value };\n\n            if (field === \"nickname\") {\n              dispatch(upsertBirthday(newValue));\n              return;\n            }\n            if ([\"firstName\", \"lastName\"].includes(field)) {\n              const row = values.find((row) => row.id === id);\n\n              if (row.nickname === getNickName(row)) {\n                dispatch(\n                  upsertBirthday({\n                    ...newValue,\n                    nickname: getNickName({ ...row, ...newValue }),\n                  })\n                );\n                return;\n              }\n            }\n            dispatch(upsertBirthday(newValue));\n          }}\n          // autoHeight\n        />\n      </div>\n      <Button\n        onClick={() => {\n          dispatch(upsertBirthday());\n        }}\n      >\n        Ajouter une ligne\n      </Button>\n\n      {/* {loadedPictures.length === 0 && (\n        <Card\n          sx={{ minWidth: 275, maxWidth: 500, margin: \"1rem auto\" }}\n          variant=\"outlined\"\n        >\n          <CardContent\n            sx={{\n              textAlign: \"left\",\n            }}\n          >\n            <Typography>Bienvenu,</Typography>\n            <Typography variant=\"body1\">\n              Pour utiliser cette application, mettez toutes les photos qu vous\n              souhaitez utiliser dans un dossier, et ouvrez ce dossier avec le\n              bouton ci dessous.\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button onClick={onClick}>Ouvrir le dossier</Button>\n          </CardActions>\n        </Card>\n      )} */}\n    </div>\n  );\n}\n","export default function YearEvents() {\n  return null;\n}\n","import React from \"react\";\nimport {\n  Page,\n  Text,\n  View,\n  Image,\n  Canvas,\n  StyleSheet,\n} from \"@react-pdf/renderer\";\nimport { eachDayOfInterval, intlFormat, getDate, getMonth } from \"date-fns\";\nimport Day, { HTMLDay } from \"./day\";\nimport { Font } from \"@react-pdf/renderer\";\nimport {\n  PICTURE_WIDTH,\n  PICTURE_HEIGHT,\n  HEADER_FON_SIZE,\n  HEADER_TOP_PADDING,\n  HEADER_HEIGHT,\n} from \"../../const\";\nimport CanvasImage from \"../CanvasImage\";\nimport Calendar from \"./index\";\nimport Paper from \"@mui/material/Paper\";\n\nimport { PDFViewer } from \"@react-pdf/renderer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { differenceInYears, isSameMonth } from \"date-fns\";\n\nimport ImageCropper from \"../ImageCropper\";\nimport { width } from \"@mui/system\";\n\nconst RenderPDF = () => {\n  const state = useSelector((state) => state);\n\n  const months = state.pictureSystem.months;\n\n  const pictureUrls = {};\n\n  return (\n    <PDFViewer width=\"100%\" height=\"1000px\">\n      <Calendar state={state} pictureUrls={pictureUrls} />\n    </PDFViewer>\n  );\n};\n\nexport default RenderPDF;\n","import * as React from \"react\";\nimport MUI_AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalPrintshopRoundedIcon from \"@mui/icons-material/LocalPrintshopRounded\";\nimport SaveRoundedIcon from \"@mui/icons-material/SaveRounded\";\n\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Dialog from \"@mui/material/Dialog\";\n\nimport RenderPDF from \"./calendarGenerator/renderPDF\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { saveFolder } from \"./fileManagement/utils\";\nimport { useSelector } from \"react-redux\";\n\nexport default function AppBar() {\n  const navigate = useNavigate();\n\n  const birthdays = useSelector((state) => state.birthdays.values);\n  const months = useSelector((state) => state.pictureSystem.months);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [openPDF, setOpenPDF] = React.useState(false);\n  const handleOpenPDF = () => {\n    setOpenPDF(true);\n  };\n  const handleClosePDF = () => {\n    setOpenPDF(false);\n  };\n\n  return (\n    <>\n      <MUI_AppBar\n        position=\"fixed\"\n        sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\n      >\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"div\" onClick={handleClick}>\n            Calendar\n          </Typography>\n          <div>\n            <Menu\n              id=\"basic-menu\"\n              anchorEl={anchorEl}\n              open={open}\n              onClose={handleClose}\n              MenuListProps={{\n                \"aria-labelledby\": \"basic-button\",\n              }}\n            >\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/\");\n                  handleClose();\n                }}\n              >\n                Accueil\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/design\");\n                  handleClose();\n                }}\n              >\n                Design\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/birthdays\");\n                  handleClose();\n                }}\n              >\n                Anniversaires\n              </MenuItem>\n            </Menu>\n          </div>\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => handleOpenPDF()}\n          >\n            <LocalPrintshopRoundedIcon />\n          </IconButton>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => {\n              console.log(months);\n              saveFolder({\n                values: { calendar: birthdays, design: { pictures: months } },\n              });\n            }}\n          >\n            <SaveRoundedIcon />\n          </IconButton>\n        </Toolbar>\n      </MUI_AppBar>\n\n      <Dialog onClose={handleClosePDF} open={openPDF} fullWidth>\n        {openPDF && <RenderPDF />}\n      </Dialog>\n    </>\n  );\n}\n","import * as React from \"react\";\n\nimport ImageCropper from \"./components/ImageCropper\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Box from \"@mui/material/Box\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\nimport EventRoundedIcon from \"@mui/icons-material/EventRounded\";\nimport PhotoCameraRoundedIcon from \"@mui/icons-material/PhotoCameraRounded\";\n\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport {\n  // Welcome,\n  MultipleMonths,\n  SingleMonth,\n  Birthdays,\n  YearEvents,\n} from \"./pages\";\n\nimport { LEFT_MENU_WIDTH } from \"./const\";\n\nimport AppBar from \"./components/AppBar\";\nimport { Typography } from \"@mui/material\";\n\nfunction App() {\n  const navigate = useNavigate();\n  return (\n    <>\n      <AppBar />\n\n      <Drawer\n        sx={{\n          width: `${LEFT_MENU_WIDTH}px`,\n          flexShrink: 0,\n\n          \"& .MuiDrawer-paper\": {\n            width: `${LEFT_MENU_WIDTH}px`,\n            boxSizing: \"border-box\",\n            borderRight: \"1px solid lightgray\",\n          },\n        }}\n        variant=\"permanent\"\n        anchor=\"top\"\n      >\n        <Toolbar />\n        <Box\n          sx={{\n            overflow: \"auto\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"stretch\",\n            paddingTop: \"1rem\",\n            height: \"100vh\",\n          }}\n        >\n          <Tooltip title=\"Photos\" placement=\"right\">\n            <IconButton\n              aria-label=\"images\"\n              size=\"large\"\n              sx={{ width: \"50px\", height: \"50px\", margin: \"0 auto\" }}\n              onClick={() => navigate(\"design\")}\n            >\n              <PhotoCameraRoundedIcon fontSize=\"inherit\" />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Anniversaires\" placement=\"right\">\n            <IconButton\n              sx={{ width: \"50px\", height: \"50px\", margin: \"0 auto\" }}\n              aria-label=\"anniversaires\"\n              size=\"large\"\n              onClick={() => navigate(\"birthdays\")}\n            >\n              <EventRoundedIcon fontSize=\"inherit\" />\n            </IconButton>\n          </Tooltip>\n        </Box>\n      </Drawer>\n      <div style={{ paddingLeft: `${LEFT_MENU_WIDTH}px` }}>\n        <Routes>\n          {/* <Route path=\"/\" element={<Welcome />} /> */}\n          <Route path=\"/\" element={<MultipleMonths />} />\n          <Route path=\"design\" element={<MultipleMonths />} />\n          <Route path=\"design/:month\" element={<SingleMonth />} />\n          <Route path=\"birthdays\" element={<Birthdays />} />\n          <Route path=\"yearEvents\" element={<YearEvents />} />\n        </Routes>\n      </div>\n      <ImageCropper />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport pictureSystemReducer from \"./features/pictureSystem\";\nimport draggingReducer from \"./features/dragging\";\nimport birthdaysReducer from \"./features/birthdays\";\n\nexport default configureStore({\n  reducer: {\n    pictureSystem: pictureSystemReducer,\n    dragging: draggingReducer,\n    birthdays: birthdaysReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./store\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\n\nconst theme = createTheme({\n  palette: {\n    mode: \"light\",\n  },\n});\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <App />\n        </ThemeProvider>\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}