(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{239:function(e,t){},398:function(e,t,n){},413:function(e,t){},415:function(e,t){},445:function(e,t){},446:function(e,t){},557:function(e,t){},727:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(67),c=n.n(a),o=(n(398),n(12)),s=n(20),l=n(80),u=n(30),d=n(366),h="0.2cm",b="0.05cm",j=8.8,f=n(79),m=["monthIndex","pictureIndex"],p=Object(f.b)({name:"pictureSystem",initialState:{pictures:[],months:[[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}]],cropper:null},reducers:{fetchPictures:function(e,t){var n={};e.pictures.forEach((function(e){var t=e.url,r=e.name;n[t]=r,URL.revokeObjectURL(t)}));var r={};t.payload.pictures.forEach((function(e){var t=e.name,n=e.url;r[t]=n})),e.pictures=t.payload.pictures,e.months.forEach((function(t,i){t.forEach((function(t,a){if(t.src){var c=n[t.src],o=r[c];if(void 0!==o)return void(e.months[i][a]=Object(s.a)(Object(s.a)({},e.months[i][a]),{},{src:o}))}e.months[i][a]={}}))}))},setMonths:function(e,t){e.months=t.payload,e.months.forEach((function(t){t.forEach((function(t){var n;t&&t.name&&(t.src=null===(n=e.pictures.find((function(e){return e.name===t.name})))||void 0===n?void 0:n.url)}))}))},updatePicture:function(e,t){var n=t.payload,r=n.monthIndex,i=n.pictureIndex,a=Object(l.a)(n,m);void 0!==a.src?e.months[r][i]=Object(s.a)({},a):e.months[r][i]=Object(s.a)(Object(s.a)({},e.months[r][i]),a)},setCropper:function(e,t){t.payload?e.cropper=t.payload:e.cropper=null}}}),x=p.actions,O=x.fetchPictures,v=x.updatePicture,g=x.setCropper,y=x.setMonths,w=p.reducer,C=n(344),S=n.n(C),A=n(792),P=n(97),k=n(814),D=n(815),I=n(816),R=n(96),L=n(2),J=["children","onClose"],M=function(e){var t=e.children,n=e.onClose,r=Object(l.a)(e,J);return Object(L.jsxs)(A.a,Object(s.a)(Object(s.a)({sx:{m:0,p:2}},r),{},{children:[t,n?Object(L.jsx)(P.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(L.jsx)(S.a,{})}):null]}))};function B(){var e=Object(u.c)((function(e){return e.pictureSystem.cropper})),t=Object(u.c)((function(e){return e.pictureSystem.cropper?e.pictureSystem.months[e.pictureSystem.cropper.monthIndex][e.pictureSystem.cropper.pictureIndex].croppedAreaPixels:null})),n=r.useState({x:0,y:0}),i=Object(o.a)(n,2),a=i[0],c=i[1],l=r.useState(1),h=Object(o.a)(l,2),b=h[0],f=h[1],m=r.useState(),p=Object(o.a)(m,2),x=p[0],O=p[1],y=r.useState(null),w=Object(o.a)(y,2),C=w[0],S=w[1],A=r.useState(null),P=Object(o.a)(A,2),J=P[0],B=P[1],F=r.useCallback((function(e,t){S(e),B(t)}),[]),N=Object(u.b)(),E=function(){N(g(null))},G=!!e;return Object(L.jsxs)(k.a,{onClose:E,"aria-labelledby":"customized-dialog-title",open:G,fullWidth:!0,maxWidth:"lg",children:[Object(L.jsx)(M,{id:"customized-dialog-title",onClose:E,children:"Crop Image"}),Object(L.jsx)(D.a,{dividers:!0,children:e&&Object(L.jsx)("div",{style:{position:"relative",height:"60vh"},children:Object(L.jsx)(d.a,{image:e.src||null,crop:a,zoom:b,aspect:8/j,onCropChange:c,onCropComplete:F,onZoomChange:f,onMediaLoaded:function(e){O(e)},initialCroppedAreaPixels:t,maxZoom:50})})}),Object(L.jsx)(I.a,{children:Object(L.jsx)(R.a,{onClick:function(){C&&x&&N(v(Object(s.a)(Object(s.a)({monthIndex:e.monthIndex,pictureIndex:e.pictureIndex},C),{},{croppedAreaPixels:J}))),E()},children:"Save changes"})})]})}var F=n(27),N=(n(239),n(812)),E=n(817),G=n(818),T=n(822),H=n(823),z=Object(f.b)({name:"dragging",initialState:{src:null},reducers:{startDragging:function(e,t){e.src=t.payload.src,e.name=t.payload.name}}}),W=z.actions.startDragging,V=z.reducer,q=n(25),U=n(346),Z=n.n(U);function X(e){var t=e.lastName,n=void 0===t?"":t,r=e.firstName,i=void 0===r?"":r;return"".concat(n," ").concat(i)}var Y=function(){return{id:Z()(),nickname:X({}),firstName:"",lastName:"",birthday:String(new Date),printed:!0,agePrinted:!0}},_=Object(f.b)({name:"birthdays",initialState:{values:[Y()]},reducers:{setBirthdays:function(e,t){e.values=t.payload},upsertBirthday:function(e,t){var n,r=e.values.findIndex((function(e){var n,r;return(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)&&(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t||null===(r=t.payload)||void 0===r?void 0:r.id)}));(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.birthday)&&(t.payload.birthday=String(t.payload.birthday)),-1===r?e.values.push(Object(s.a)(Object(s.a)({},Y()),t.payload)):e.values[r]=Object(s.a)(Object(s.a)(Object(s.a)({},Y()),e.values[r]),t.payload)},removeBirthday:function(e,t){var n=e.values.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.values=[].concat(Object(q.a)(e.values.slice(0,n)),Object(q.a)(e.values.slice(n+1))))}}}),K=_.actions,Q=K.upsertBirthday,$=(K.removeBirthday,K.setBirthdays),ee=_.reducer,te=n(31),ne=n.n(te),re=n(146),ie=n(226);function ae(e){var t,n,r,i=2;for("undefined"!==typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ce(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ce(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return ce=function(e){this.s=e,this.n=e.next},ce.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ce(e)}var oe=function(e){var t=e.toUpperCase();return[".JPG",".JPEG",".PNG"].some((function(e){return t.endsWith(e)}))};function se(e,t){return le.apply(this,arguments)}function le(){return(le=Object(re.a)(ne.a.mark((function e(t,n){var r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=t){e.next=2;break}return e.abrupt("return",!1);case 2:return r={},n&&(r.mode="readwrite"),e.next=6,t.queryPermission(r);case 6:if(e.t0=e.sent,"granted"!==e.t0){e.next=9;break}return e.abrupt("return",!0);case 9:return e.next=11,t.requestPermission(r);case 11:if(e.t1=e.sent,"granted"!==e.t1){e.next=14;break}return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(re.a)(ne.a.mark((function e(t){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,Object(ie.a)("last_folder");case 3:return n=e.sent,e.next=6,se(n,!0);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",n);case 9:return e.next=11,window.showDirectoryPicker({startIn:"pictures"});case 11:return r=e.sent,Object(ie.b)("last_folder",r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return be.apply(this,arguments)}function be(){return(be=Object(re.a)(ne.a.mark((function e(t){var n,r,i,a,c,o,s,l,u,d,h,b,j,f,m,p,x,O,v,g,y;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setters,r=n.setPictures,i=n.setDesign,a=n.setCalendar,c=t.tryPreviousFolder,e.next=3,ue(c);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return");case 6:s=[],l=null,u=null,d=!1,h=!1,e.prev=11,j=ae(o.values());case 13:return e.next=15,j.next();case 15:if(!(d=!(f=e.sent).done)){e.next=46;break}if(m=f.value,!r||!oe(m.name)){e.next=25;break}return e.next=20,m.getFile();case 20:p=e.sent,x=URL.createObjectURL(p),s.push({url:x,name:m.name}),e.next=43;break;case 25:if(!a||"calendar.json"!==m.name){e.next=35;break}return e.next=28,m.getFile();case 28:return O=e.sent,e.next=31,O.text();case 31:v=e.sent,u=JSON.parse(v),e.next=43;break;case 35:if(!i||"design.json"!==m.name){e.next=43;break}return e.next=38,m.getFile();case 38:return g=e.sent,e.next=41,g.text();case 41:y=e.sent,l=JSON.parse(y);case 43:d=!1,e.next=13;break;case 46:e.next=52;break;case 48:e.prev=48,e.t0=e.catch(11),h=!0,b=e.t0;case 52:if(e.prev=52,e.prev=53,!d||null==j.return){e.next=57;break}return e.next=57,j.return();case 57:if(e.prev=57,!h){e.next=60;break}throw b;case 60:return e.finish(57);case 61:return e.finish(52);case 62:r&&r(s),i&&l&&(l.pictures.forEach((function(e){e.forEach((function(e){e&&e.src&&(e.src=void 0)}))})),console.log(l),i(l)),a&&u&&a(u);case 65:case"end":return e.stop()}}),e,null,[[11,48,52,62],[53,,57,61]])})))).apply(this,arguments)}function je(){return(je=Object(re.a)(ne.a.mark((function e(t){var n,r,i,a,c,o,s,l,u,d;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.values,r=n.design,i=n.calendar,a=t.tryPreviousFolder,c=void 0===a||a,e.next=3,ue(c);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=17;break}return e.next=9,o.getFileHandle("design.json",{create:!0});case 9:return s=e.sent,e.next=12,s.createWritable();case 12:return l=e.sent,e.next=15,l.write(JSON.stringify(r));case 15:return e.next=17,l.close();case 17:if(!i){e.next=28;break}return e.next=20,o.getFileHandle("calendar.json",{create:!0});case 20:return u=e.sent,e.next=23,u.createWritable();case 23:return d=e.sent,e.next=26,d.write(JSON.stringify(i));case 26:return e.next=28,d.close();case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){var e=Object(u.c)((function(e){return e.pictureSystem.pictures})),t=Object(u.b)(),n=function(e){t(O({pictures:e}))},r=function(e){t($(e))},i=function(e){var n=e.pictures;t(y(n))},a=e.length>0;return Object(L.jsxs)(N.a,{sx:{width:400,flexShrink:0,"& .MuiDrawer-paper":{width:400,boxSizing:"border-box"}},variant:"permanent",anchor:"top",children:[Object(L.jsx)(E.a,{}),Object(L.jsxs)(G.a,{sx:{overflow:"auto"},children:[Object(L.jsxs)(G.a,{children:[Object(L.jsx)(R.a,{onClick:function(){he({setters:{setPictures:n,setCalendar:r,setDesign:i},tryPreviousFolder:!a})},children:a?"Changer":"Ouvrir"}),a&&Object(L.jsx)(R.a,{onClick:function(){return he({setters:{setPictures:n},tryPreviousFolder:!0})},children:"Rafra\xeechir"})]}),a&&Object(L.jsx)(T.a,{variant:"masonry",cols:2,gap:5,children:e.map((function(e){var n=e.url,r=e.name;return Object(L.jsx)(H.a,{children:Object(L.jsx)("img",{src:n,width:200,alt:"",onDragStart:function(){t(W({src:n,name:r}))},loading:"lazy"})},n)}))})]})]})}var me=n(29),pe=n(802),xe=n(800),Oe=n(803),ve=n(801),ge=n(805),ye=n(799),we=n(808),Ce=[["Marie, m\xe8re de Dieu","Basile et Gr\xe9goire","Genevi\xe8ve","Odilon","Edouard","M\xe9laine","Raymond","Lucien","Alix","Guillaume","Paulin","Tatiana","Yvette","Nina","R\xe9mi","Marcel","Roseline","Prisca","Marius","S\xe9bastien","Agn\xe8s","Vincent","Barnard","Fran\xe7ois de Sales","Ananie","Paule","Ang\xe8le","Thomas d'Aquin","Gildas","Martine","Marcelle"],["Ella","Th\xe9ophane","Blaise","V\xe9ronique","Agathe","Gaston","Eug\xe9nie","Jacqueline","Apolline","Arnaud","H\xe9lo\xefse","F\xe9lix","B\xe9atrice","Valentin","Claude","Julienne","Alexis","Bernadette","Gabin","Aim\xe9e","Pierre-Damien","Isabelle","Lazare","Modeste","Rom\xe9o","Nestor","Honorine","Romain","(Auguste)"],["Aubin","Charles le Bon","Gu\xe9nol\xe9","Casimir","Olive","Colette","F\xe9licit\xe9","Jean de Dieu","Fran\xe7oise","Vivien","Rosine","Justine","Rodrigue","Mathilde","Louise","B\xe9n\xe9dicte","Patrice","Cyrille","Joseph","Herbert","Cl\xe9mence","L\xe9a","Victorien","Catherine de Su\xe8de","Humbert","Larissa","Habib","Gontran","Gwladys","Am\xe9d\xe9e","Benjamin","Avril","Hugues","Sandrine","Richard","Isidore","Ir\xe8ne","Marcellin","Jean-Baptiste de la Salle","Julie","Gauthier","Fulbert","Stanislas","Jules","Ida","Maxime","Paterne","Beno\xeet-Joseph","Anicet","Parfait","Emma","Odette","Anselme","Alexandre","Georges","Fid\xe8le","Marc","Alida","Zita","Val\xe9rie","Catherine de Sienne","Robert"],["Hugues","Sandrine","Richard","Isidore","Ir\xe8ne","Marcellin","Jean-Baptiste de la Salle","Julie","Gauthier","Fulbert","Stanislas","Jules","Ida","Maxime","Paterne","Beno\xeet-Joseph","Anicet","Parfait","Emma","Odette","Anselme","Alexandre","Georges","Fid\xe8le","Marc","Alida","Zita","Val\xe9rie","Catherine de Sienne","Robert"],["J\xe9r\xe9mie","Boris","Philippe, Jacques le Mineur","Sylvain","Judith","Prudence","Gis\xe8le","D\xe9sir\xe9","Pac\xf4me","Solange","Estelle","Achille","Rolande","Matthias","Denise","Honor\xe9","Pascal","Eric","Yves","Bernardin","Constantin","Emile","Didier","Donatien","Sophie","B\xe9renger","Augustin","Germain","Aymard","Ferdinand","Perrine"],["Justin","Blandine","K\xe9vin","Clotilde","Igor","Norbert","Gilbert","M\xe9dard","Diane","Landry","Barnab\xe9","Guy","Antoine de Padoue","Elis\xe9e","Germaine","Jean-Fran\xe7ois R\xe9gis","Herv\xe9","L\xe9once","Romuald","Silv\xe8re","Rodolphe","Alban","Audrey","Jean-Baptiste","Prosper","Anthelme","Fernand","Ir\xe9n\xe9e","Pierre/Paul","Martial"],["Thierry","Martinien","Thomas","Florent","Antoine","Mariette","Raoul","Thibaut","Amandine","Ulrich","Beno\xeet","Olivier","Henri/Jo\xebl","Camille","Donald","Carmen","Charlotte","Fr\xe9d\xe9ric","Ars\xe8ne","Marina","Victor","Marie-Madeleine","Brigitte","Christine","Jacques","Anne/Joachim","Nathalie","Samson","Marthe","Juliette","Ignace de Loyola"],["Alphonse","Julien","Lydie","Jean-Marie","Abel","Octavien","Ga\xe9tan","Dominique","Amour","Laurent","Claire","Clarisse","Hippolyte","Evrard","Marie","Armel","Hyacinthe","H\xe9l\xe8ne","Jean-Eudes","Bernard","Christophe","Fabrice","Rose","Barth\xe9l\xe9my","Louis","Natacha","Monique","Augustin","Sabine","Fiacre","Aristide"],["Gilles","Ingrid","Gr\xe9goire","Rosalie","Raissa","Bertrand","Reine","Adrien","Alain","In\xe8s","Adelphe","Apollinaire","Aim\xe9","Cyprien","Roland","Edith","Renaud","Nad\xe8ge","\xc9milie","Davy","Matthieu","Maurice","Constant","Th\xe8cle","Hermann","C\xf4me/Damien","Vincent de Paul","Venceslas","Michel","J\xe9r\xf4me"],["Th\xe9r\xe8se","L\xe9ger","G\xe9rard","Fran\xe7ois","Fleur","Bruno","Serge","P\xe9lagie","Denis","Ghislain","Firmin","Wilfried","G\xe9raud","Juste","Aur\xe9lie","Edwige","Baudouin","Luc","Ren\xe9","Adeline","C\xe9line","Elodie","Jean de Capistran","Florentin","Cr\xe9pin","Dimitri","Emeline","Simon/Jude","Narcisse","Bienvenue","Quentin"],["Harold","Oc\xe9ane","Hubert","Charles","Sylvie","Bertille","Carine","Geoffroy","Th\xe9odore","L\xe9on","Martin","Christian","Brice","Sidoine","Albert","Marguerite","Elisabeth","Aude","Tanguy","Edmond","Rufus","C\xe9cile","Cl\xe9ment","Flora","Catherine","Delphine","S\xe9verin","Jacques de la Marche","Saturnin","Andr\xe9"],["Florence","Viviane","Xavier","Barbara","G\xe9rald","Nicolas","Ambroise","Elfried","Pierre Fourier","Romaric","Daniel","Corentin","Lucie","Odile","Ninon","Alice","Gael","Gatien","Urbain","Th\xe9ophile","Pierre Canisius","Fran\xe7oise-Xavi\xe8re","Armand","Ad\xe8le","Emmanuel","\xc9tienne","Jean","Gaspard","David","Roger","Sylvestre"]],Se={"2025-01-01":"1er janvier","2025-04-21":"Lundi de P\xe2ques","2025-05-01":"1er mai","2025-05-08":"8 mai","2025-05-29":"Ascension","2025-06-09":"Lundi de Pentec\xf4te","2025-07-14":"14 juillet","2025-08-15":"Assomption","2025-11-01":"Toussaint","2025-11-11":"11 novembre","2025-12-25":"Jour de No\xebl","2024-01-01":"1er janvier","2024-04-01":"Lundi de P\xe2ques","2024-05-01":"1er mai","2024-05-08":"8 mai","2024-05-09":"Ascension","2024-05-20":"Lundi de Pentec\xf4te","2024-07-14":"14 juillet","2024-08-15":"Assomption","2024-11-01":"Toussaint","2024-11-11":"11 novembre","2024-12-25":"Jour de No\xebl","2023-01-01":"1er janvier","2023-04-10":"Lundi de P\xe2ques","2023-05-01":"1er mai","2023-05-08":"8 mai","2023-05-18":"Ascension","2023-05-29":"Lundi de Pentec\xf4te","2023-07-14":"14 juillet","2023-08-15":"Assomption","2023-11-01":"Toussaint","2023-11-11":"11 novembre","2023-12-25":"Jour de No\xebl","2022-01-01":"1er janvier","2022-04-18":"Lundi de P\xe2ques","2022-05-01":"1er mai","2022-05-08":"8 mai","2022-05-26":"Ascension","2022-06-06":"Lundi de Pentec\xf4te","2022-07-14":"14 juillet","2022-08-15":"Assomption","2022-11-01":"Toussaint","2022-11-11":"11 novembre","2022-12-25":"Jour de No\xebl","2021-01-01":"1er janvier","2021-04-05":"Lundi de P\xe2ques","2021-05-01":"1er mai","2021-05-08":"8 mai","2021-05-13":"Ascension","2021-05-24":"Lundi de Pentec\xf4te","2021-07-14":"14 juillet","2021-08-15":"Assomption","2021-11-01":"Toussaint","2021-11-11":"11 novembre","2021-12-25":"Jour de No\xebl"},Ae=function(e){var t=Object(ge.a)(e,"yyyy-MM-dd");return Se[t]},Pe=me.StyleSheet.create({day:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"transparent",height:"0.85cm",paddingLeft:h,borderColor:"black",borderLeftWidth:b,borderRightWidth:0,borderTopWidth:b,borderStyle:"solid",margin:0,boxSizing:"border-box",fontSize:"12pt"},dayNumber:{marginRight:h,fontSize:"12pt"},dayInitial:{},saint:{marginLeft:"0.2cm",fontSize:"12pt"},birthdays:{marginRight:"1cm",fontSize:"12pt"}}),ke=function(e){var t,n=e.day,r=e.isLastDay,i=e.birthdays,a=Object(ge.a)(n,"dd",{locale:we.a}),c=Object(ge.a)(n,"ccccc",{locale:we.a}),o=Ae(n);return Object(L.jsxs)("div",{style:Object(s.a)(Object(s.a)({},Pe.day),{},{borderBottomWidth:r?b:0,backgroundColor:0===Object(ye.a)(n)||o?"lightblue":"transparent"}),children:[Object(L.jsx)("span",{style:Pe.dayNumber,children:a}),Object(L.jsx)("span",{style:Pe.dayInitial,children:c}),Object(L.jsx)("span",{style:Pe.saint,children:o||"St ".concat(null===Ce||void 0===Ce||null===(t=Ce[Object(xe.a)(n)])||void 0===t?void 0:t[Object(ve.a)(n)-1])}),Object(L.jsx)("span",{style:{flexGrow:1}}),Object(L.jsx)("span",{style:Pe.birthdays,children:i.filter((function(e){return e.printed&&e.nickname.trim()})).map((function(e){return"".concat(e.nickname.trim()," ").concat(e.agePrinted?"(".concat(e.age,") "):"")})).join("/ ")})]})},De=function(e){var t,n=e.day,r=e.isLastDay,i=e.birthdays,a=Object(ge.a)(n,"dd",{locale:we.a}),c=Object(ge.a)(n,"ccccc",{locale:we.a}),o=(Number(a),Ae(n));return Object(L.jsxs)(me.View,{style:Object(s.a)(Object(s.a)({},Pe.day),{},{borderBottomWidth:r?b:0,backgroundColor:0===Object(ye.a)(n)||o?"lightblue":"transparent"}),children:[Object(L.jsx)(me.Text,{style:Pe.dayNumber,children:a}),Object(L.jsx)(me.Text,{style:Pe.dayInitial,children:c}),Object(L.jsx)(me.Text,{style:Pe.saint,children:o||"St ".concat(null===Ce||void 0===Ce||null===(t=Ce[Object(xe.a)(n)])||void 0===t?void 0:t[Object(ve.a)(n)-1])}),Object(L.jsx)(me.Text,{style:{flexGrow:1}}),Object(L.jsx)(me.Text,{style:Pe.birthdays,children:i.filter((function(e){return e.printed&&e.nickname.trim()})).map((function(e){return"".concat(e.nickname.trim()," ").concat(e.agePrinted?"(".concat(e.age,") "):"")})).join("/ ")})]})},Ie=n(354),Re=n.n(Ie),Le=["width","height","monthIndex","pictureIndex"];function Je(e){var t=e.width,n=void 0===t?4e3:t,i=e.height,a=void 0===i?4400:i,c=e.monthIndex,o=e.pictureIndex,d=Object(l.a)(e,Le),h=Object(u.c)((function(e){return e.pictureSystem.months[c][o]})),b=Object(u.c)((function(e){return e.dragging.src})),j=Object(u.c)((function(e){return e.dragging.name})),f=r.useRef(null),m=Object(u.b)(),p=function(e){console.log({draggingName:j,draggingSrc:b}),e.preventDefault(),m(v({monthIndex:c,pictureIndex:o,src:b,name:j}))},x=function(e){e.stopPropagation(),m(g({src:null===h||void 0===h?void 0:h.src,monthIndex:c,pictureIndex:o}))};return r.useEffect((function(){if(h&&h.src){var e=f.current.getContext("2d"),t=new Image,r=Object(s.a)({},h);t.addEventListener("load",(function(){if(void 0===r.x||void 0===r.y||void 0===r.width||void 0===r.height||void 0===r.imageWidth||void 0===r.imageHeight){var i=t.width/n<t.height/a;r.x=0,r.y=0,r.width=i?100:100*t.height*n/(a*t.width),r.height=i?100*t.width*a/(n*t.height):100,m(v(Object(s.a)(Object(s.a)({monthIndex:c,pictureIndex:o},r),{},{imageWidth:n,imageHeight:a})))}e.drawImage(t,r.x*t.width/100,r.y*t.height/100,r.width*t.width/100,r.height*t.height/100,0,0,n,a)}),!1),t.src=h.src}}),[h,h.src,n,a,m,c,o]),h.src?Object(L.jsx)("canvas",Object(s.a)({onClick:x,onDrop:p,onDragOver:function(e){return e.preventDefault()},ref:f,width:n,height:a,id:"canvasImage-".concat(c,"-").concat(o)},d)):Object(L.jsx)(G.a,Object(s.a)(Object(s.a)({onClick:x,onDrop:p,onDragOver:function(e){return e.preventDefault()},sx:{borderRadius:"2cm",backgroundColor:"#f3f3f3",display:"flex",justifyContent:"center",alignItems:"center"}},d),{},{children:Object(L.jsx)(Re.a,{sx:{fontSize:50}})}))}var Me=n(374),Be=n(810),Fe=["src","croppedURL"];me.Font.register({family:"Roboto",fonts:[{src:"".concat("/calendar","/Roboto-Regular.ttf")},{src:"".concat("/calendar","/Roboto-Bold.ttf"),fontWeight:"bold"},{src:"".concat("/calendar","/Roboto-Italic.ttf"),fontWeight:"normal",fontStyle:"italic"},{src:"".concat("/calendar","/Roboto-BoldItalic.ttf"),fontWeight:"bold",fontStyle:"italic"}]});var Ne=me.StyleSheet.create({page:{flexDirection:"column",backgroundColor:"transparent",padding:0},header:{textAlign:"center",fontSize:"26pt",paddingTop:"1.3cm",height:"3cm",fontFamily:"Roboto",textTransform:"capitalize"},mainContent:{display:"flex",flexDirection:"row",flexGrow:1},pictures:{display:"flex",flexDirection:"column",height:"".concat(3*j,"cm"),width:"".concat(8,"cm")},picture:{height:"".concat(j,"cm"),width:"".concat(8,"cm")},calendar:{flexGrow:1}}),Ee=i.a.forwardRef((function(e,t){var n=e.year,r=e.month,i=Object(pe.a)({start:new Date(n,r,1),end:new Date(n,r+1,0)}),a=Object(u.c)((function(e){return e.birthdays.values.filter((function(e){return e.birthday&&Object(xe.a)(new Date(n,r,1))===Object(xe.a)(new Date(e.birthday))}))}));return Object(L.jsxs)(Me.a,{elevation:3,style:Object(s.a)(Object(s.a)({},Ne.page),{},{heigh:"29.7cm",width:"21cm"}),ref:t,children:[Object(L.jsx)("div",{style:Ne.header,children:Object(L.jsx)("span",{children:Object(Oe.a)(i[0],{month:"long"},{locale:"fr"})+" ".concat(n)})}),Object(L.jsxs)("div",{style:Ne.mainContent,children:[Object(L.jsxs)("div",{style:Ne.pictures,children:[Object(L.jsx)(Je,{style:Ne.picture,monthIndex:r,pictureIndex:0}),Object(L.jsx)(Je,{style:Ne.picture,monthIndex:r,pictureIndex:1}),Object(L.jsx)(Je,{style:Ne.picture,monthIndex:r,pictureIndex:2})]}),Object(L.jsx)("div",{style:Ne.calendar,children:i.map((function(e,t){var n=a.filter((function(t){return Object(ve.a)(e)===Object(ve.a)(new Date(t.birthday))})).map((function(t){return Object(s.a)(Object(s.a)({},t),{},{age:Object(Be.a)(e,new Date(t.birthday))})}));return Object(L.jsx)(ke,{day:e,isLastDay:t===i.length-1,birthdays:n},t)}))})]})]})})),Ge=function(e){var t=e.year,n=e.month,r=e.state,i=r.pictureSystem.months[n],a=Object(pe.a)({start:new Date(t,n,1),end:new Date(t,n+1,0)}),c=r.birthdays.values.filter((function(e){return e.birthday&&Object(xe.a)(new Date(t,n,1))===Object(xe.a)(new Date(e.birthday))}));return Object(L.jsxs)(me.Page,{size:"A4",style:Ne.page,debug:!1,children:[Object(L.jsx)(me.View,{style:Ne.header,debug:!1,children:Object(L.jsx)(me.Text,{children:Object(Oe.a)(a[0],{month:"long"},{locale:"fr"})+" ".concat(t)})}),Object(L.jsxs)(me.View,{style:Ne.mainContent,debug:!1,children:[Object(L.jsx)(me.View,{style:Ne.pictures,debug:!1,children:i.map((function(e,t){var n=e.src,r=e.croppedURL,i=void 0===r?"":r,a=Object(l.a)(e,Fe),c=800/a.width,o=880.0000000000001/a.height,u=a.y*o/100,d=a.x*c/100;return n?Object(L.jsx)(me.View,{style:Object(s.a)(Object(s.a)({},Ne.picture),{},{overflow:"hidden",position:"relative",width:"".concat(8,"cm"),height:"".concat(j,"cm")}),children:Object(L.jsx)(me.Image,{style:{position:"absolute",width:"".concat(c,"cm"),height:"".concat(o,"cm"),marginLeft:"".concat(-d,"cm"),marginTop:"".concat(-u,"cm")},src:n,width:"auto",height:"auto"})},"".concat(t,"-").concat(i)):Object(L.jsx)(me.Canvas,{style:Ne.picture,width:8,height:j},"".concat(t,"-").concat(i))}))}),Object(L.jsx)(me.View,{style:Ne.calendar,debug:!1,children:a.map((function(e,t){var n=c.filter((function(t){return Object(ve.a)(e)===Object(ve.a)(new Date(t.birthday))})).map((function(t){return Object(s.a)(Object(s.a)({},t),{},{age:Object(Be.a)(e,new Date(t.birthday))})}));return Object(L.jsx)(De,{day:e,isLastDay:t===a.length-1,birthdays:n},t)}))})]})]})},Te=function(e){for(var t=e.year,n=void 0===t?2022:t,r=e.state,i=e.pictureUrls,a=[],c=0;c<12;c+=1)a.push(Object(L.jsx)(Ge,{year:n,month:c,state:r,pictureUrls:i},c));return Object(L.jsx)(me.Document,{children:a})},He=n(739),ze=n(820),We=n(356),Ve=n.n(We),qe=n(355),Ue=n.n(qe);function Ze(){var e=Object(F.f)(),t=r.useState(0),n=Object(o.a)(t,2),i=(n[0],n[1],r.useRef(null)),a=r.useState(1),c=Object(o.a)(a,2),s=c[0],l=c[1],u=r.useState(1),d=Object(o.a)(u,2),h=d[0],b=d[1];return r.useEffect((function(){if(i.current){var e=210/i.current.clientWidth,t=297/i.current.clientHeight,n=Math.min(e,t);l(n)}}),[]),Object(L.jsxs)("div",{children:[Object(L.jsx)(fe,{}),Object(L.jsx)("div",{style:{maxHeight:"100vh",paddingLeft:400,paddingTop:"64px"},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(t){return Object(L.jsx)("div",{style:{width:210*h,height:297*h,position:"relative",margin:"2rem"},children:Object(L.jsx)("div",{style:{transform:"scale(".concat(h*s,", ").concat(h*s,")"),transformOrigin:"top left",margin:"1rem"},onClick:function(){e("/design/".concat(t))},children:Object(L.jsx)(Ee,{year:2022,month:t,ref:0===t?i:null})},t)},t)}))}),Object(L.jsxs)(G.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:[Object(L.jsx)(ze.a,{color:"primary",size:"small","aria-label":"add",onClick:function(){return b((function(e){return Math.max(.5,e-.5)}))},children:Object(L.jsx)(Ue.a,{})}),Object(L.jsx)(He.a,{variant:"p",component:"span",sx:{margin:"0 1rem"},children:h}),Object(L.jsx)(ze.a,{color:"primary",size:"small","aria-label":"add",onClick:function(){return b((function(e){return Math.min(3,e+.5)}))},children:Object(L.jsx)(Ve.a,{})})]})]})})]})}var Xe=n(357),Ye=n.n(Xe),_e=n(807),Ke=n(821);function Qe(){var e=Object(F.f)(),t=Object(F.g)().month,n=r.useState({width:100,height:100}),i=Object(o.a)(n,2),a=i[0],c=i[1],l=r.useRef(null),u=r.useRef(null),d=r.useState(1),h=Object(o.a)(d,2),b=h[0],j=h[1],f=function(){if(l.current&&u.current){var e=(u.current.offsetWidth-100-400)/l.current.clientWidth,t=(u.current.offsetHeight-100-114)/l.current.clientHeight,n=Math.min(e,t);j(n),c({width:n*l.current.clientWidth,height:n*l.current.clientHeight})}};return r.useEffect((function(){f();u.current;return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[]),Object(L.jsxs)("div",{children:[Object(L.jsx)(fe,{}),Object(L.jsx)("div",{style:{height:"100vh",paddingLeft:400,paddingTop:"64px"},ref:u,children:Object(L.jsxs)("div",{children:[Object(L.jsx)(_e.a,{sx:{flex:"1 1 100px"},value:Number(t)||0,onChange:function(t,n){return e("/design/".concat(n))},"aria-label":"month tabs",variant:"scrollable",children:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return Object(L.jsx)(Ke.a,{label:Object(Oe.a)(new Date(2e3,e,1),{month:"short"},{locale:"fr"}),value:e})}))}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(G.a,{sx:Object(s.a)({position:"relative",margin:"16px"},a),children:Object(L.jsx)("div",{style:{transform:"scale(".concat(b,", ").concat(b,")"),transformOrigin:"top left",margin:"1rem"},children:Object(L.jsx)(Ee,{year:2022,month:Number(t)||0,ref:l})})})}),Object(L.jsx)(G.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:Object(L.jsx)(ze.a,{color:"primary",size:"large","aria-label":"grid-view",onClick:function(){return e("/design")},children:Object(L.jsx)(Ye.a,{})})})]})})]})}var $e=n(4),et=n(358),tt=[{headerName:"Nom",field:"firstName",editable:!0,flex:2},{headerName:"Pr\xe9nom",field:"lastName",editable:!0,flex:2},{headerName:"Pr\xe9sentation",field:"nickname",editable:!0,flex:2},{headerName:"Date de naissance",field:"birthday",type:"date",valueGetter:function(e){var t=e.value;return new Date(t)},editable:!0,flex:1},{headerName:"Afficher",field:"printed",type:"boolean",editable:!0,flex:1},{headerName:"Afficher l'age",field:"agePrinted",type:"boolean",editable:!0,flex:1}];function nt(){var e=Object(u.c)((function(e){return e.birthdays.values})),t=Object(u.b)();return Object(L.jsxs)("div",{style:{height:"100vh",paddingTop:"64px",textAlign:"center"},children:[Object(L.jsx)("div",{style:{height:"60vh",width:"100%"},children:Object(L.jsx)(et.a,{columns:tt,rows:e,onCellEditCommit:function(n){var r=n.id,i=n.field,a=n.value,c=Object($e.a)({id:r},i,a);if("nickname"!==i){if(["firstName","lastName"].includes(i)){var o=e.find((function(e){return e.id===r}));if(o.nickname===X(o))return void t(Q(Object(s.a)(Object(s.a)({},c),{},{nickname:X(Object(s.a)(Object(s.a)({},o),c))})))}t(Q(c))}else t(Q(c))}})}),Object(L.jsx)(R.a,{onClick:function(){t(Q())},children:"Ajouter une ligne"})]})}function rt(){return null}var it=n(819),at=n(360),ct=n.n(at),ot=n(361),st=n.n(ot),lt=n(364),ut=n(66),dt=function(){var e=Object(u.c)((function(e){return e}));e.pictureSystem.months;return Object(L.jsx)(me.PDFViewer,{width:"100%",height:"1000px",children:Object(L.jsx)(Te,{state:e,pictureUrls:{}})})};function ht(){var e=Object(F.f)(),t=Object(u.c)((function(e){return e.birthdays.values})),n=Object(u.c)((function(e){return e.pictureSystem.months})),i=r.useState(null),a=Object(o.a)(i,2),c=a[0],s=a[1],l=Boolean(c),d=function(){s(null)},h=r.useState(!1),b=Object(o.a)(h,2),j=b[0],f=b[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(it.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(L.jsxs)(E.a,{children:[Object(L.jsx)(He.a,{variant:"h6",component:"div",onClick:function(e){s(e.currentTarget)},children:"Calendar"}),Object(L.jsx)("div",{children:Object(L.jsxs)(lt.a,{id:"basic-menu",anchorEl:c,open:l,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(L.jsx)(ut.a,{onClick:function(){e("/"),d()},children:"Accueil"}),Object(L.jsx)(ut.a,{onClick:function(){e("/design"),d()},children:"Design"}),Object(L.jsx)(ut.a,{onClick:function(){e("/birthdays"),d()},children:"Anniversaires"})]})}),Object(L.jsx)(G.a,{sx:{flexGrow:1}}),Object(L.jsx)(P.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){f(!0)},children:Object(L.jsx)(ct.a,{})}),Object(L.jsx)(P.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){console.log(n),function(e){je.apply(this,arguments)}({values:{calendar:t,design:{pictures:n}}})},children:Object(L.jsx)(st.a,{})})]})}),Object(L.jsx)(k.a,{onClose:function(){f(!1)},open:j,fullWidth:!0,children:j&&Object(L.jsx)(dt,{})})]})}var bt=function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ht,{}),Object(L.jsxs)(F.c,{children:[Object(L.jsx)(F.a,{path:"/",element:Object(L.jsx)(Ze,{})}),Object(L.jsx)(F.a,{path:"design",element:Object(L.jsx)(Ze,{})}),Object(L.jsx)(F.a,{path:"design/:month",element:Object(L.jsx)(Qe,{})}),Object(L.jsx)(F.a,{path:"birthdays",element:Object(L.jsx)(nt,{})}),Object(L.jsx)(F.a,{path:"yearEvents",element:Object(L.jsx)(rt,{})})]}),Object(L.jsx)(B,{})]})},jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,826)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))},ft=n(93),mt=Object(f.a)({reducer:{pictureSystem:w,dragging:V,birthdays:ee}}),pt=n(804);c.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(ft.a,{children:Object(L.jsxs)(u.a,{store:mt,children:[Object(L.jsx)(pt.a,{}),Object(L.jsx)(bt,{})]})})}),document.getElementById("root")),jt()}},[[727,1,2]]]);
//# sourceMappingURL=main.f1fbfd6d.chunk.js.map