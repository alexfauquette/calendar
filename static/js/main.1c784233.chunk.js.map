{"version":3,"sources":["const.js","features/pictureSystem.js","components/ImageCropper.js","features/dragging.js","features/birthdays.js","components/fileManagement/utils.js","components/ImageDrawer.js","components/calendarGenerator/saints.js","components/calendarGenerator/day.js","components/CanvasImage.js","components/calendarGenerator/month.js","components/calendarGenerator/index.js","pages/MultipleMonths.js","pages/SingleMonth.js","pages/Birthdays.js","pages/YearEvents.js","components/calendarGenerator/renderPDF.js","components/AppBar.js","App.js","reportWebVitals.js","store.js","index.js"],"names":["TEXT_SPACE","BORDER_WIDTH","PICTURE_HEIGHT","pictureSystemSlice","createSlice","name","initialState","pictures","months","cropper","reducers","fetchPictures","state","action","urlMapping","forEach","url","URL","revokeObjectURL","nameMapping","payload","month","monthIndex","picture","pictureIndex","src","newUrl","undefined","updatePicture","override","setCropper","actions","BootstrapDialogTitle","props","children","onClose","other","DialogTitle","sx","m","p","IconButton","onClick","position","right","top","color","theme","palette","grey","ImageCropper","cropperState","useSelector","pictureSystem","initialCroppedAreaPixels","croppedAreaPixels","React","x","y","crop","setCrop","zoom","setZoom","mediaSize","setMediaSize","currentCroppedArea","setCurrentCroppedArea","currentCroppedAreaPixels","setCurrentCroppedAreaPixels","onCropComplete","croppedArea","dispatch","useDispatch","handleClose","open","Dialog","fullWidth","maxWidth","id","DialogContent","dividers","style","height","image","aspect","onCropChange","onZoomChange","onMediaLoaded","maxZoom","DialogActions","Button","draggingSlice","startDragging","getNickName","lastName","firstName","getDefaultRow","cuid","nickname","birthday","String","Date","printed","agePrinted","birthdaysSlice","values","setBirthdays","upsertBirthday","index","findIndex","push","removeBirthday","slice","isImage","upperCaseName","toUpperCase","some","extension","endsWith","verifyPermission","fileHandle","readWrite","a","options","mode","queryPermission","requestPermission","getFolderHandler","tryPreviousFolder","get","fileHandleOrUndefined","window","showDirectoryPicker","startIn","dirHandle","set","openFolder","setters","setPictures","setDesign","setCalendar","entry","getFile","f","createObjectURL","text","JSON","parse","design","calendar","getFileHandle","create","createWritable","writable","write","stringify","close","ImageDrawer","picturesLoaded","length","Drawer","width","flexShrink","boxSizing","variant","anchor","Toolbar","Box","overflow","ImageList","cols","gap","map","ImageListItem","alt","onDragStart","SAINTS","styles","StyleSheet","day","display","flexDirection","alignItems","backgroundColor","paddingLeft","borderColor","borderLeftWidth","borderRightWidth","borderTopWidth","borderStyle","margin","fontSize","dayNumber","marginRight","dayInitial","saint","marginLeft","birthdays","HTMLDay","isLastDay","numberDay","format","locale","fr","weekDay","borderBottomWidth","getDay","getMonth","getDate","flexGrow","filter","row","trim","age","join","Day","Number","CanvasImage","PICTURE_WIDTH","others","draggingSrc","dragging","canvasRef","onDrop","e","preventDefault","event","stopPropagation","context","current","getContext","img","Image","modifiedImages","addEventListener","imageWidth","imageHeight","drawImage","onDragOver","ref","borderRadius","justifyContent","Font","register","family","fonts","process","fontWeight","fontStyle","page","padding","header","textAlign","paddingTop","fontFamily","textTransform","mainContent","HTMLMonth","forwardRef","year","days","eachDayOfInterval","start","end","monthBirthdays","Paper","elevation","heigh","intlFormat","differenceInYears","Month","images","size","debug","croppedURL","widthCM","heightCM","topCM","leftCM","marginTop","Calendar","pictureUrls","MultipleMonths","navigate","useNavigate","calendarRef","scale","setScale","xScale","clientWidth","yScale","clientHeight","minScale","Math","min","maxHeight","flexWrap","transform","transformOrigin","bottom","Fab","max","Typography","component","SingleMonth","useParams","paperSize","setPaperSize","displayDivRef","updateCalendarSize","offsetWidth","offsetHeight","removeEventListener","Tabs","flex","value","onChange","newValue","Tab","label","birthdayColumns","headerName","field","editable","type","valueGetter","Birthdays","columns","rows","onCellEditCommit","includes","find","YearEvents","RenderPDF","AppBar","anchorEl","setAnchorEl","Boolean","openPDF","setOpenPDF","zIndex","drawer","currentTarget","Menu","MenuListProps","MenuItem","edge","mr","saveFolder","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","pictureSystemReducer","draggingReducer","birthdaysReducer","ReactDOM","render","StrictMode","store","CssBaseline","document","getElementById"],"mappings":"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OAAS,EAEzC,OACE,eAACC,EAAA,EAAD,CACE1H,GAAI,CACF2H,MAAO,IACPC,WAAY,EACZ,qBAAsB,CACpBD,MAAO,IACPE,UAAW,eAGfC,QAAQ,YACRC,OAAO,MAVT,UAYE,cAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAKjI,GAAI,CAAEkI,SAAU,QAArB,UACE,eAACD,EAAA,EAAD,WACE,cAAC7E,EAAA,EAAD,CACEhD,QAAS,WACP8F,GAAW,CACTC,QAAS,CAAEC,cAAaE,eACxBZ,mBAAoB8B,KAJ1B,SAQGA,EAAiB,UAAY,WAE/BA,GACC,cAACpE,EAAA,EAAD,CACEhD,QAAS,kBACP8F,GAAW,CACTC,QAAS,CAAEC,eACXV,mBAAmB,KAJzB,8BAYH8B,GACC,cAACW,EAAA,EAAD,CAAWL,QAAQ,UAAUM,KAAM,EAAGC,IAAK,EAA3C,SACGpK,EAASqK,KAAI,gBAAG5J,EAAH,EAAGA,IAAH,OACZ,cAAC6J,EAAA,EAAD,UACE,qBACEpJ,IAAKT,EACLiJ,MAAO,IACPa,IAAI,GACJC,YAAa,WACXxG,EAASqB,EAAc,CAAEnE,IAAKT,SANhBA,c,mFCtErBgK,GAAS,CACpB,CACE,yBACA,wBACA,eACA,SACA,UACA,aACA,UACA,SACA,OACA,YACA,SACA,UACA,SACA,OACA,UACA,SACA,WACA,SACA,SACA,eACA,WACA,UACA,UACA,uBACA,SACA,QACA,YACA,iBACA,SACA,UACA,YAEF,CACE,OACA,eACA,SACA,eACA,SACA,SACA,aACA,aACA,WACA,SACA,gBACA,WACA,cACA,WACA,SACA,WACA,SACA,aACA,QACA,WACA,gBACA,WACA,SACA,UACA,WACA,SACA,WACA,SACA,aAEF,CACE,QACA,iBACA,gBACA,UACA,QACA,UACA,iBACA,eACA,eACA,SACA,SACA,UACA,WACA,WACA,SACA,kBACA,UACA,UACA,SACA,UACA,cACA,SACA,YACA,wBACA,UACA,UACA,QACA,UACA,UACA,eACA,WACA,QACA,SACA,WACA,UACA,UACA,WACA,YACA,4BACA,QACA,WACA,UACA,YACA,QACA,MACA,SACA,UACA,mBACA,SACA,UACA,OACA,SACA,UACA,YACA,UACA,YACA,OACA,QACA,OACA,aACA,sBACA,UAEF,CACE,SACA,WACA,UACA,UACA,WACA,YACA,4BACA,QACA,WACA,UACA,YACA,QACA,MACA,SACA,UACA,mBACA,SACA,UACA,OACA,SACA,UACA,YACA,UACA,YACA,OACA,QACA,OACA,aACA,sBACA,UAEF,CACE,gBACA,QACA,8BACA,UACA,SACA,WACA,YACA,eACA,YACA,UACA,UACA,UACA,UACA,WACA,SACA,YACA,SACA,OACA,OACA,YACA,aACA,QACA,SACA,WACA,SACA,cACA,WACA,UACA,SACA,YACA,WAEF,CACE,SACA,WACA,WACA,WACA,OACA,UACA,UACA,YACA,QACA,SACA,aACA,MACA,oBACA,YACA,WACA,4BACA,WACA,YACA,UACA,aACA,WACA,QACA,SACA,gBACA,UACA,WACA,UACA,eACA,cACA,WAEF,CACE,UACA,YACA,SACA,UACA,UACA,WACA,QACA,UACA,WACA,SACA,YACA,UACA,gBACA,UACA,SACA,SACA,YACA,iBACA,YACA,SACA,SACA,kBACA,WACA,YACA,UACA,eACA,WACA,SACA,SACA,WACA,oBAEF,CACE,WACA,SACA,QACA,aACA,OACA,WACA,YACA,YACA,QACA,UACA,SACA,WACA,YACA,SACA,QACA,QACA,YACA,eACA,aACA,UACA,aACA,UACA,OACA,mBACA,QACA,UACA,UACA,WACA,SACA,SACA,YAEF,CACE,SACA,SACA,cACA,UACA,SACA,WACA,QACA,SACA,QACA,UACA,UACA,cACA,UACA,UACA,SACA,QACA,SACA,YACA,YACA,OACA,WACA,UACA,WACA,YACA,UACA,iBACA,kBACA,YACA,SACA,gBAEF,CACE,gBACA,WACA,YACA,cACA,QACA,QACA,QACA,aACA,QACA,WACA,SACA,WACA,YACA,QACA,aACA,SACA,WACA,MACA,UACA,UACA,YACA,SACA,oBACA,YACA,YACA,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","file":"static/js/main.1c784233.chunk.js","sourcesContent":["export const DAY_HEIGHT = \"0.85cm\";\nexport const TEXT_SPACE = \"0.2cm\";\nexport const BORDER_WIDTH = \"0.05cm\";\n\nexport const HEADER_FON_SIZE = \"26pt\";\nexport const HEADER_HEIGHT = \"3cm\";\nexport const HEADER_TOP_PADDING = \"1.3cm\";\n\nexport const PICTURE_WIDTH = 8;\nexport const PICTURE_HEIGHT = 8.8;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const pictureSystemSlice = createSlice({\n  name: \"pictureSystem\",\n  initialState: {\n    pictures: [],\n    // dirHandle: null,\n    months: [\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n      [{}, {}, {}],\n    ],\n    cropper: null,\n  },\n  reducers: {\n    fetchPictures: (state, action) => {\n      const urlMapping = {};\n      state.pictures.forEach(({ url, name }) => {\n        urlMapping[url] = name;\n        URL.revokeObjectURL(url);\n      });\n\n      const nameMapping = {};\n      action.payload.pictures.forEach(({ name, url }) => {\n        nameMapping[name] = url;\n      });\n      state.pictures = action.payload.pictures;\n\n      state.months.forEach((month, monthIndex) => {\n        month.forEach((picture, pictureIndex) => {\n          if (picture.src) {\n            const name = urlMapping[picture.src];\n            const newUrl = nameMapping[name];\n            if (newUrl !== undefined) {\n              state.months[monthIndex][pictureIndex] = {\n                ...state.months[monthIndex][pictureIndex],\n                src: newUrl,\n              };\n              return;\n            }\n          }\n          state.months[monthIndex][pictureIndex] = {};\n        });\n      });\n    },\n    updatePicture: (state, action) => {\n      const { monthIndex, pictureIndex, ...override } = action.payload;\n\n      if (override.src !== undefined) {\n        state.months[monthIndex][pictureIndex] = {\n          ...override,\n        };\n      } else {\n        state.months[monthIndex][pictureIndex] = {\n          ...state.months[monthIndex][pictureIndex],\n          ...override,\n        };\n      }\n    },\n    setCropper: (state, action) => {\n      if (!action.payload) {\n        state.cropper = null;\n      } else {\n        state.cropper = action.payload;\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { fetchPictures, updatePicture, setCropper } =\n  pictureSystemSlice.actions;\n\nexport default pictureSystemSlice.reducer;\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Cropper from \"react-easy-crop\";\nimport { PICTURE_HEIGHT, PICTURE_WIDTH } from \"../const\";\nimport { setCropper, updatePicture } from \"../features/pictureSystem\";\n\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport IconButton from \"@mui/material/IconButton\";\n\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport { width } from \"@mui/system\";\n\nconst BootstrapDialogTitle = (props) => {\n  const { children, onClose, ...other } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\n      {children}\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: \"absolute\",\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nexport default function ImageCropper() {\n  const cropperState = useSelector((state) => state.pictureSystem.cropper);\n  const initialCroppedAreaPixels = useSelector((state) => {\n    if (state.pictureSystem.cropper) {\n      return state.pictureSystem.months[state.pictureSystem.cropper.monthIndex][\n        state.pictureSystem.cropper.pictureIndex\n      ].croppedAreaPixels;\n    }\n    return null;\n  });\n\n  const [crop, setCrop] = React.useState({\n    x: 0,\n    y: 0,\n  });\n  const [zoom, setZoom] = React.useState(1);\n  const [mediaSize, setMediaSize] = React.useState();\n\n  const [currentCroppedArea, setCurrentCroppedArea] = React.useState(null);\n  const [currentCroppedAreaPixels, setCurrentCroppedAreaPixels] =\n    React.useState(null);\n\n  const onCropComplete = React.useCallback((croppedArea, croppedAreaPixels) => {\n    setCurrentCroppedArea(croppedArea);\n    setCurrentCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n\n  const dispatch = useDispatch();\n\n  const handleClose = () => {\n    dispatch(setCropper(null));\n  };\n\n  const validate = () => {\n    if (currentCroppedArea && mediaSize) {\n      dispatch(\n        updatePicture({\n          monthIndex: cropperState.monthIndex,\n          pictureIndex: cropperState.pictureIndex,\n          ...currentCroppedArea,\n          croppedAreaPixels: currentCroppedAreaPixels,\n        })\n      );\n    }\n    handleClose();\n  };\n\n  const onMediaLoaded = (mediaSize) => {\n    setMediaSize(mediaSize);\n  };\n  const open = !!cropperState;\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"customized-dialog-title\"\n      open={open}\n      fullWidth\n      maxWidth=\"lg\"\n    >\n      <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n        Crop Image\n      </BootstrapDialogTitle>\n\n      <DialogContent dividers>\n        {cropperState && (\n          <div style={{ position: \"relative\", height: \"60vh\" }}>\n            <Cropper\n              image={cropperState.src || null}\n              crop={crop}\n              zoom={zoom}\n              aspect={PICTURE_WIDTH / PICTURE_HEIGHT}\n              onCropChange={setCrop}\n              onCropComplete={onCropComplete}\n              onZoomChange={setZoom}\n              onMediaLoaded={onMediaLoaded}\n              initialCroppedAreaPixels={initialCroppedAreaPixels}\n              maxZoom={50}\n            />\n          </div>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={validate}>Save changes</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const draggingSlice = createSlice({\n  name: \"dragging\",\n  initialState: {\n    src: null,\n  },\n  reducers: {\n    startDragging: (state, action) => {\n      state.src = action.payload.src;\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { startDragging } = draggingSlice.actions;\n\nexport default draggingSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport cuid from \"cuid\";\n\nexport function getNickName({ lastName = \"\", firstName = \"\" }) {\n  return `${lastName} ${firstName}`;\n}\nconst getDefaultRow = () => {\n  return {\n    id: cuid(),\n    nickname: getNickName({}),\n    firstName: \"\",\n    lastName: \"\",\n    birthday: String(new Date()),\n    printed: true,\n    agePrinted: true,\n  };\n};\nexport const birthdaysSlice = createSlice({\n  name: \"birthdays\",\n  initialState: {\n    values: [getDefaultRow()],\n  },\n  reducers: {\n    setBirthdays: (state, action) => {\n      state.values = action.payload;\n    },\n    upsertBirthday: (state, action) => {\n      const index = state.values.findIndex(\n        (x) => action?.payload?.id && x?.id === action?.payload?.id\n      );\n\n      if (action?.payload?.birthday) {\n        action.payload.birthday = String(action.payload.birthday);\n      }\n\n      if (index === -1) {\n        state.values.push({ ...getDefaultRow(), ...action.payload });\n      } else {\n        state.values[index] = {\n          ...getDefaultRow(),\n          ...state.values[index],\n          ...action.payload,\n        };\n      }\n    },\n    removeBirthday: (state, action) => {\n      const index = state.values.findIndex((x) => x.id === action.payload.id);\n      if (index !== -1) {\n        state.values = [\n          ...state.values.slice(0, index),\n          ...state.values.slice(index + 1),\n        ];\n      }\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { upsertBirthday, removeBirthday, setBirthdays } =\n  birthdaysSlice.actions;\n\nexport default birthdaysSlice.reducer;\n","import { get, set } from \"idb-keyval\";\n\nexport const isImage = (name) => {\n  const upperCaseName = name.toUpperCase();\n  return [\".JPG\", \".JPEG\", \".PNG\"].some((extension) =>\n    upperCaseName.endsWith(extension)\n  );\n};\n\nexport async function verifyPermission(fileHandle, readWrite) {\n  if (fileHandle == undefined) {\n    return false;\n  }\n  const options = {};\n  if (readWrite) {\n    options.mode = \"readwrite\";\n  }\n  // Check if permission was already granted. If so, return true.\n  if ((await fileHandle.queryPermission(options)) === \"granted\") {\n    return true;\n  }\n  // Request permission. If the user grants permission, return true.\n  if ((await fileHandle.requestPermission(options)) === \"granted\") {\n    return true;\n  }\n  // The user didn't grant permission, so return false.\n  return false;\n}\n\nexport async function getFolderHandler(tryPreviousFolder) {\n  if (tryPreviousFolder) {\n    const fileHandleOrUndefined = await get(\"last_folder\");\n\n    const hasAccess = await verifyPermission(fileHandleOrUndefined, true);\n    if (hasAccess) {\n      return fileHandleOrUndefined;\n    }\n  }\n  const dirHandle = await window.showDirectoryPicker({\n    startIn: \"pictures\",\n  });\n  set(\"last_folder\", dirHandle);\n\n  return dirHandle;\n}\n\nexport async function openFolder({\n  setters: { setPictures, setDesign, setCalendar },\n  tryPreviousFolder,\n}) {\n  const dirHandle = await getFolderHandler(tryPreviousFolder);\n  if (!dirHandle) {\n    return;\n  }\n\n  const pictures = [];\n\n  for await (const entry of dirHandle.values()) {\n    if (setPictures && isImage(entry.name)) {\n      const f = await entry.getFile();\n      const url = URL.createObjectURL(f);\n      pictures.push({\n        url,\n        name: entry.name,\n      });\n    } else if (setCalendar && entry.name === \"calendar.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      setCalendar(JSON.parse(text));\n    } else if (setDesign && entry.name === \"design.json\") {\n      const f = await entry.getFile();\n      const text = await f.text();\n      setDesign(JSON.parse(text));\n    }\n  }\n\n  if (setPictures) {\n    setPictures(pictures);\n  }\n}\n\nexport async function saveFolder({\n  values: { design, calendar },\n  tryPreviousFolder = true,\n}) {\n  const dirHandle = await getFolderHandler(tryPreviousFolder);\n\n  if (!dirHandle) {\n    return;\n  }\n\n  if (design) {\n    const fileHandle = await dirHandle.getFileHandle(\"design.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(design));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n\n  if (calendar) {\n    const fileHandle = await dirHandle.getFileHandle(\"calendar.json\", {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    // Write the contents of the file to the stream.\n    await writable.write(JSON.stringify(calendar));\n    // Close the file and write the contents to disk.\n    await writable.close();\n  }\n}\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Button from \"@mui/material/Button\";\n\nimport Box from \"@mui/material/Box\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport { startDragging } from \"../features/dragging\";\nimport { fetchPictures } from \"../features/pictureSystem\";\nimport { setBirthdays } from \"../features/birthdays\";\n\nimport { openFolder } from \"../components/fileManagement/utils\";\nexport default function ImageDrawer() {\n  const pictures = useSelector((state) => state.pictureSystem.pictures);\n  const dispatch = useDispatch();\n\n  const setPictures = (x) => {\n    dispatch(fetchPictures({ pictures: x }));\n  };\n\n  const setCalendar = (x) => {\n    dispatch(setBirthdays(x));\n  };\n\n  const picturesLoaded = pictures.length > 0;\n\n  return (\n    <Drawer\n      sx={{\n        width: 400,\n        flexShrink: 0,\n        \"& .MuiDrawer-paper\": {\n          width: 400,\n          boxSizing: \"border-box\",\n        },\n      }}\n      variant=\"permanent\"\n      anchor=\"top\"\n    >\n      <Toolbar />\n      <Box sx={{ overflow: \"auto\" }}>\n        <Box>\n          <Button\n            onClick={() => {\n              openFolder({\n                setters: { setPictures, setCalendar },\n                tryPreviousFolder: !picturesLoaded,\n              });\n            }}\n          >\n            {picturesLoaded ? \"Changer\" : \"Ouvrir\"}\n          </Button>\n          {picturesLoaded && (\n            <Button\n              onClick={() =>\n                openFolder({\n                  setters: { setPictures },\n                  tryPreviousFolder: true,\n                })\n              }\n            >\n              Rafraîchir\n            </Button>\n          )}\n        </Box>\n        {picturesLoaded && (\n          <ImageList variant=\"masonry\" cols={2} gap={5}>\n            {pictures.map(({ url }) => (\n              <ImageListItem key={url}>\n                <img\n                  src={url}\n                  width={200}\n                  alt=\"\"\n                  onDragStart={() => {\n                    dispatch(startDragging({ src: url }));\n                  }}\n                />\n              </ImageListItem>\n            ))}\n          </ImageList>\n        )}\n      </Box>\n    </Drawer>\n  );\n}\n","export const SAINTS = [\n  [\n    \"Marie, mère de Dieu\",\n    \"Basile et Grégoire\",\n    \"Geneviève\",\n    \"Odilon\",\n    \"Edouard\",\n    \"Mélaine\",\n    \"Raymond\",\n    \"Lucien\",\n    \"Alix\",\n    \"Guillaume\",\n    \"Paulin\",\n    \"Tatiana\",\n    \"Yvette\",\n    \"Nina\",\n    \"Rémi\",\n    \"Marcel\",\n    \"Roseline\",\n    \"Prisca\",\n    \"Marius\",\n    \"Sébastien\",\n    \"Agnès\",\n    \"Vincent\",\n    \"Barnard\",\n    \"François de Sales\",\n    \"Ananie\",\n    \"Paule\",\n    \"Angèle\",\n    \"Thomas d'Aquin\",\n    \"Gildas\",\n    \"Martine\",\n    \"Marcelle\",\n  ],\n  [\n    \"Ella\",\n    \"Théophane\",\n    \"Blaise\",\n    \"Véronique\",\n    \"Agathe\",\n    \"Gaston\",\n    \"Eugénie\",\n    \"Jacqueline\",\n    \"Apolline\",\n    \"Arnaud\",\n    \"Héloïse\",\n    \"Félix\",\n    \"Béatrice\",\n    \"Valentin\",\n    \"Claude\",\n    \"Julienne\",\n    \"Alexis\",\n    \"Bernadette\",\n    \"Gabin\",\n    \"Aimée\",\n    \"Pierre-Damien\",\n    \"Isabelle\",\n    \"Lazare\",\n    \"Modeste\",\n    \"Roméo\",\n    \"Nestor\",\n    \"Honorine\",\n    \"Romain\",\n    \"(Auguste)\",\n  ],\n  [\n    \"Aubin\",\n    \"Charles le Bon\",\n    \"Guénolé\",\n    \"Casimir\",\n    \"Olive\",\n    \"Colette\",\n    \"Félicité\",\n    \"Jean de Dieu\",\n    \"Françoise\",\n    \"Vivien\",\n    \"Rosine\",\n    \"Justine\",\n    \"Rodrigue\",\n    \"Mathilde\",\n    \"Louise\",\n    \"Bénédicte\",\n    \"Patrice\",\n    \"Cyrille\",\n    \"Joseph\",\n    \"Herbert\",\n    \"Clémence\",\n    \"Léa\",\n    \"Victorien\",\n    \"Catherine de Suède\",\n    \"Humbert\",\n    \"Larissa\",\n    \"Habib\",\n    \"Gontran\",\n    \"Gwladys\",\n    \"Amédée\",\n    \"Benjamin\",\n    \"Avril\",\n    \"Hugues\",\n    \"Sandrine\",\n    \"Richard\",\n    \"Isidore\",\n    \"Irène\",\n    \"Marcellin\",\n    \"Jean-Baptiste de la Salle\",\n    \"Julie\",\n    \"Gauthier\",\n    \"Fulbert\",\n    \"Stanislas\",\n    \"Jules\",\n    \"Ida\",\n    \"Maxime\",\n    \"Paterne\",\n    \"Benoît-Joseph\",\n    \"Anicet\",\n    \"Parfait\",\n    \"Emma\",\n    \"Odette\",\n    \"Anselme\",\n    \"Alexandre\",\n    \"Georges\",\n    \"Fidèle\",\n    \"Marc\",\n    \"Alida\",\n    \"Zita\",\n    \"Valérie\",\n    \"Catherine de Sienne\",\n    \"Robert\",\n  ],\n  [\n    \"Hugues\",\n    \"Sandrine\",\n    \"Richard\",\n    \"Isidore\",\n    \"Irène\",\n    \"Marcellin\",\n    \"Jean-Baptiste de la Salle\",\n    \"Julie\",\n    \"Gauthier\",\n    \"Fulbert\",\n    \"Stanislas\",\n    \"Jules\",\n    \"Ida\",\n    \"Maxime\",\n    \"Paterne\",\n    \"Benoît-Joseph\",\n    \"Anicet\",\n    \"Parfait\",\n    \"Emma\",\n    \"Odette\",\n    \"Anselme\",\n    \"Alexandre\",\n    \"Georges\",\n    \"Fidèle\",\n    \"Marc\",\n    \"Alida\",\n    \"Zita\",\n    \"Valérie\",\n    \"Catherine de Sienne\",\n    \"Robert\",\n  ],\n  [\n    \"Jérémie\",\n    \"Boris\",\n    \"Philippe, Jacques le Mineur\",\n    \"Sylvain\",\n    \"Judith\",\n    \"Prudence\",\n    \"Gisèle\",\n    \"Désiré\",\n    \"Pacôme\",\n    \"Solange\",\n    \"Estelle\",\n    \"Achille\",\n    \"Rolande\",\n    \"Matthias\",\n    \"Denise\",\n    \"Honoré\",\n    \"Pascal\",\n    \"Eric\",\n    \"Yves\",\n    \"Bernardin\",\n    \"Constantin\",\n    \"Emile\",\n    \"Didier\",\n    \"Donatien\",\n    \"Sophie\",\n    \"Bérenger\",\n    \"Augustin\",\n    \"Germain\",\n    \"Aymard\",\n    \"Ferdinand\",\n    \"Perrine\",\n  ],\n  [\n    \"Justin\",\n    \"Blandine\",\n    \"Kévin\",\n    \"Clotilde\",\n    \"Igor\",\n    \"Norbert\",\n    \"Gilbert\",\n    \"Médard\",\n    \"Diane\",\n    \"Landry\",\n    \"Barnabé\",\n    \"Guy\",\n    \"Antoine de Padoue\",\n    \"Elisée\",\n    \"Germaine\",\n    \"Jean-François Régis\",\n    \"Hervé\",\n    \"Léonce\",\n    \"Romuald\",\n    \"Silvère\",\n    \"Rodolphe\",\n    \"Alban\",\n    \"Audrey\",\n    \"Jean-Baptiste\",\n    \"Prosper\",\n    \"Anthelme\",\n    \"Fernand\",\n    \"Irénée\",\n    \"Pierre/Paul\",\n    \"Martial\",\n  ],\n  [\n    \"Thierry\",\n    \"Martinien\",\n    \"Thomas\",\n    \"Florent\",\n    \"Antoine\",\n    \"Mariette\",\n    \"Raoul\",\n    \"Thibaut\",\n    \"Amandine\",\n    \"Ulrich\",\n    \"Benoît\",\n    \"Olivier\",\n    \"Henri/Joël\",\n    \"Camille\",\n    \"Donald\",\n    \"Carmen\",\n    \"Charlotte\",\n    \"Frédéric\",\n    \"Arsène\",\n    \"Marina\",\n    \"Victor\",\n    \"Marie-Madeleine\",\n    \"Brigitte\",\n    \"Christine\",\n    \"Jacques\",\n    \"Anne/Joachim\",\n    \"Nathalie\",\n    \"Samson\",\n    \"Marthe\",\n    \"Juliette\",\n    \"Ignace de Loyola\",\n  ],\n  [\n    \"Alphonse\",\n    \"Julien\",\n    \"Lydie\",\n    \"Jean-Marie\",\n    \"Abel\",\n    \"Octavien\",\n    \"Gaétan\",\n    \"Dominique\",\n    \"Amour\",\n    \"Laurent\",\n    \"Claire\",\n    \"Clarisse\",\n    \"Hippolyte\",\n    \"Evrard\",\n    \"Marie\",\n    \"Armel\",\n    \"Hyacinthe\",\n    \"Hélène\",\n    \"Jean-Eudes\",\n    \"Bernard\",\n    \"Christophe\",\n    \"Fabrice\",\n    \"Rose\",\n    \"Barthélémy\",\n    \"Louis\",\n    \"Natacha\",\n    \"Monique\",\n    \"Augustin\",\n    \"Sabine\",\n    \"Fiacre\",\n    \"Aristide\",\n  ],\n  [\n    \"Gilles\",\n    \"Ingrid\",\n    \"Grégoire\",\n    \"Rosalie\",\n    \"Raissa\",\n    \"Bertrand\",\n    \"Reine\",\n    \"Adrien\",\n    \"Alain\",\n    \"Inès\",\n    \"Adelphe\",\n    \"Apollinaire\",\n    \"Aimé\",\n    \"Cyprien\",\n    \"Roland\",\n    \"Edith\",\n    \"Renaud\",\n    \"Nadège\",\n    \"Émilie\",\n    \"Davy\",\n    \"Matthieu\",\n    \"Maurice\",\n    \"Constant\",\n    \"Thècle\",\n    \"Hermann\",\n    \"Côme/Damien\",\n    \"Vincent de Paul\",\n    \"Venceslas\",\n    \"Michel\",\n    \"Jérôme\",\n  ],\n  [\n    \"Thérèse\",\n    \"Léger\",\n    \"Gérard\",\n    \"François\",\n    \"Fleur\",\n    \"Bruno\",\n    \"Serge\",\n    \"Pélagie\",\n    \"Denis\",\n    \"Ghislain\",\n    \"Firmin\",\n    \"Wilfried\",\n    \"Géraud\",\n    \"Juste\",\n    \"Aurélie\",\n    \"Edwige\",\n    \"Baudouin\",\n    \"Luc\",\n    \"René\",\n    \"Adeline\",\n    \"Céline\",\n    \"Elodie\",\n    \"Jean de Capistran\",\n    \"Florentin\",\n    \"Crépin\",\n    \"Dimitri\",\n    \"Emeline\",\n    \"Simon/Jude\",\n    \"Narcisse\",\n    \"Bienvenue\",\n    \"Quentin\",\n  ],\n  [\n    \"Harold\",\n    \"Océane\",\n    \"Hubert\",\n    \"Charles\",\n    \"Sylvie\",\n    \"Bertille\",\n    \"Carine\",\n    \"Geoffroy\",\n    \"Théodore\",\n    \"Léon\",\n    \"Martin\",\n    \"Christian\",\n    \"Brice\",\n    \"Sidoine\",\n    \"Albert\",\n    \"Marguerite\",\n    \"Elisabeth\",\n    \"Aude\",\n    \"Tanguy\",\n    \"Edmond\",\n    \"Rufus\",\n    \"Cécile\",\n    \"Clément\",\n    \"Flora\",\n    \"Catherine\",\n    \"Delphine\",\n    \"Séverin\",\n    \"Jacques de la Marche\",\n    \"Saturnin\",\n    \"André\",\n  ],\n  [\n    \"Florence\",\n    \"Viviane\",\n    \"Xavier\",\n    \"Barbara\",\n    \"Gérald\",\n    \"Nicolas\",\n    \"Ambroise\",\n    \"Elfried\",\n    \"Pierre Fourier\",\n    \"Romaric\",\n    \"Daniel\",\n    \"Corentin\",\n    \"Lucie\",\n    \"Odile\",\n    \"Ninon\",\n    \"Alice\",\n    \"Gael\",\n    \"Gatien\",\n    \"Urbain\",\n    \"Théophile\",\n    \"Pierre Canisius\",\n    \"Françoise-Xavière\",\n    \"Armand\",\n    \"Adèle\",\n    \"Emmanuel\",\n    \"Étienne\",\n    \"Jean\",\n    \"Gaspard\",\n    \"David\",\n    \"Roger\",\n    \"Sylvestre\",\n  ],\n];\n","import React from \"react\";\nimport { Text, View, StyleSheet } from \"@react-pdf/renderer\";\nimport { format, getDate, getDay, getMonth } from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { DAY_HEIGHT, TEXT_SPACE, BORDER_WIDTH } from \"../../const\";\nimport { getNickName } from \"../../features/birthdays\";\nimport { SAINTS } from \"./saints\";\n\nconst styles = StyleSheet.create({\n  day: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"transparent\",\n    height: DAY_HEIGHT,\n    paddingLeft: TEXT_SPACE,\n    borderColor: \"black\",\n    borderLeftWidth: BORDER_WIDTH,\n    borderRightWidth: 0,\n    borderTopWidth: BORDER_WIDTH,\n    borderStyle: \"solid\",\n    margin: 0,\n    boxSizing: \"border-box\",\n    fontSize: \"12pt\",\n  },\n\n  dayNumber: {\n    marginRight: TEXT_SPACE,\n    fontSize: \"12pt\",\n  },\n  dayInitial: {},\n  saint: { marginLeft: \"0.2cm\", fontSize: \"12pt\" },\n  birthdays: { marginRight: \"1cm\", fontSize: \"12pt\" },\n});\n\nconst Day = ({ day, isLastDay, birthdays }) => {\n  const numberDay = format(day, \"dd\", { locale: fr });\n\n  const weekDay = format(day, \"ccccc\", { locale: fr });\n\n  const isEvenDay = Number(numberDay) % 2 === 1;\n  return (\n    <View\n      style={{\n        ...styles.day,\n        borderBottomWidth: isLastDay ? BORDER_WIDTH : 0,\n        backgroundColor: getDay(day) === 0 ? \"lightblue\" : \"transparent\",\n      }}\n    >\n      <Text style={styles.dayNumber}>{numberDay}</Text>\n      <Text style={styles.dayInitial}>{weekDay}</Text>\n      <Text style={styles.saint}>\n        St {SAINTS?.[getMonth(day)]?.[getDate(day) - 1]}\n      </Text>\n      <Text style={{ flexGrow: 1 }}></Text>\n      <Text style={styles.birthdays}>\n        {birthdays\n          .filter((row) => row.printed && row.nickname.trim())\n          .map(\n            (row) =>\n              `${row.nickname.trim()} ${row.agePrinted ? `(${row.age}) ` : \"\"}`\n          )\n          .join(\"/ \")}\n      </Text>\n    </View>\n  );\n};\n\nexport const HTMLDay = ({ day, isLastDay, birthdays }) => {\n  const numberDay = format(day, \"dd\", { locale: fr });\n  const weekDay = format(day, \"ccccc\", { locale: fr });\n\n  return (\n    <div\n      style={{\n        ...styles.day,\n        borderBottomWidth: isLastDay ? BORDER_WIDTH : 0,\n        backgroundColor: getDay(day) === 0 ? \"lightblue\" : \"transparent\",\n      }}\n    >\n      <span style={styles.dayNumber}>{numberDay}</span>\n      <span style={styles.dayInitial}>{weekDay}</span>\n      <span style={styles.saint}>\n        St {SAINTS?.[getMonth(day)]?.[getDate(day) - 1]}\n      </span>\n      <span style={{ flexGrow: 1 }}></span>\n      <span style={styles.birthdays}>\n        {birthdays\n          .filter((row) => row.printed && row.nickname.trim())\n          .map(\n            (row) =>\n              `${row.nickname.trim()} ${row.agePrinted ? `(${row.age}) ` : \"\"}`\n          )\n          .join(\"/ \")}\n      </span>\n    </div>\n  );\n};\n\nexport default Day;\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { PICTURE_HEIGHT, PICTURE_WIDTH } from \"../const\";\nimport { setCropper, updatePicture } from \"../features/pictureSystem\";\nimport PhotoCameraRoundedIcon from \"@mui/icons-material/PhotoCameraRounded\";\nimport Box from \"@mui/material/Box\";\n\nexport default function CanvasImage({\n  width = PICTURE_WIDTH * 500,\n  height = PICTURE_HEIGHT * 500,\n  monthIndex,\n  pictureIndex,\n  ...others\n}) {\n  const image = useSelector(\n    (state) => state.pictureSystem.months[monthIndex][pictureIndex]\n  );\n  const draggingSrc = useSelector((state) => state.dragging.src);\n  const canvasRef = React.useRef(null);\n  const dispatch = useDispatch();\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    dispatch(updatePicture({ monthIndex, pictureIndex, src: draggingSrc }));\n  };\n\n  const onClick = (event) => {\n    event.stopPropagation();\n    dispatch(setCropper({ src: image?.src, monthIndex, pictureIndex }));\n  };\n\n  React.useEffect(() => {\n    if (image && image.src) {\n      const canvas = canvasRef.current;\n      const context = canvas.getContext(\"2d\");\n      let img = new Image();\n\n      const modifiedImages = { ...image };\n\n      img.addEventListener(\n        \"load\",\n        function () {\n          if (\n            modifiedImages.x === undefined ||\n            modifiedImages.y === undefined ||\n            modifiedImages.width === undefined ||\n            modifiedImages.height === undefined ||\n            modifiedImages.imageWidth === undefined ||\n            modifiedImages.imageHeight === undefined\n          ) {\n            // if cropped unknown take largest scale\n            const fullWidth = img.width / width < img.height / height;\n\n            modifiedImages.x = 0;\n            modifiedImages.y = 0;\n            modifiedImages.width = fullWidth\n              ? 100\n              : (100 * img.height * width) / (height * img.width);\n            modifiedImages.height = fullWidth\n              ? (100 * img.width * height) / (width * img.height)\n              : 100;\n\n            dispatch(\n              updatePicture({\n                monthIndex,\n                pictureIndex,\n                ...modifiedImages,\n                imageWidth: width,\n                imageHeight: height,\n              })\n            );\n          }\n          context.drawImage(\n            img,\n            (modifiedImages.x * img.width) / 100,\n            (modifiedImages.y * img.height) / 100,\n            (modifiedImages.width * img.width) / 100,\n            (modifiedImages.height * img.height) / 100,\n            0,\n            0,\n            width,\n            height\n          );\n        },\n        false\n      );\n      img.src = image.src;\n    }\n  }, [image, image.src, width, height, dispatch, monthIndex, pictureIndex]);\n\n  return image.src ? (\n    <canvas\n      onClick={onClick}\n      onDrop={onDrop}\n      onDragOver={(e) => e.preventDefault()}\n      ref={canvasRef}\n      width={width}\n      height={height}\n      id={`canvasImage-${monthIndex}-${pictureIndex}`}\n      {...others}\n    />\n  ) : (\n    <Box\n      onClick={onClick}\n      onDrop={onDrop}\n      onDragOver={(e) => e.preventDefault()}\n      sx={{\n        borderRadius: \"2cm\",\n        backgroundColor: \"#f3f3f3\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n      {...others}\n    >\n      <PhotoCameraRoundedIcon\n        sx={{\n          fontSize: 50,\n        }}\n      />\n    </Box>\n  );\n}\n","import React from \"react\";\nimport {\n  Page,\n  Text,\n  View,\n  Image,\n  Canvas,\n  StyleSheet,\n} from \"@react-pdf/renderer\";\nimport { eachDayOfInterval, intlFormat, getDate, getMonth } from \"date-fns\";\nimport Day, { HTMLDay } from \"./day\";\nimport { Font } from \"@react-pdf/renderer\";\nimport {\n  PICTURE_WIDTH,\n  PICTURE_HEIGHT,\n  HEADER_FON_SIZE,\n  HEADER_TOP_PADDING,\n  HEADER_HEIGHT,\n} from \"../../const\";\nimport CanvasImage from \"../CanvasImage\";\nimport Paper from \"@mui/material/Paper\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { differenceInYears, isSameMonth } from \"date-fns\";\n\nFont.register({\n  family: \"Roboto\",\n  fonts: [\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-Regular.ttf`,\n    },\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-Bold.ttf`,\n      fontWeight: \"bold\",\n    },\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-Italic.ttf`,\n      fontWeight: \"normal\",\n      fontStyle: \"italic\",\n    },\n    {\n      src: `${process.env.PUBLIC_URL}/Roboto-BoldItalic.ttf`,\n      fontWeight: \"bold\",\n      fontStyle: \"italic\",\n    },\n  ],\n});\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: \"column\",\n    backgroundColor: \"transparent\",\n    padding: 0,\n  },\n  header: {\n    textAlign: \"center\",\n    fontSize: HEADER_FON_SIZE,\n\n    paddingTop: HEADER_TOP_PADDING,\n    height: HEADER_HEIGHT,\n\n    fontFamily: \"Roboto\",\n    textTransform: \"capitalize\",\n  },\n  mainContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n  },\n  pictures: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: `${3 * PICTURE_HEIGHT}cm`,\n    width: `${PICTURE_WIDTH}cm`,\n  },\n\n  picture: {\n    height: `${PICTURE_HEIGHT}cm`,\n    width: `${PICTURE_WIDTH}cm`,\n  },\n  calendar: {\n    flexGrow: 1,\n  },\n});\n\nconst Month = ({ year, month, state }) => {\n  const images = state.pictureSystem.months[month];\n\n  const days = eachDayOfInterval({\n    start: new Date(year, month, 1),\n    end: new Date(year, month + 1, 0),\n  });\n\n  const monthBirthdays = state.birthdays.values.filter((row) => {\n    return (\n      row.birthday &&\n      getMonth(new Date(year, month, 1)) === getMonth(new Date(row.birthday))\n    );\n  });\n\n  return (\n    <Page size=\"A4\" style={styles.page} debug={false}>\n      <View style={styles.header} debug={false}>\n        <Text>\n          {intlFormat(\n            days[0],\n            {\n              month: \"long\",\n            },\n            {\n              locale: \"fr\",\n            }\n          ) + ` ${year}`}\n        </Text>\n      </View>\n      <View style={styles.mainContent} debug={false}>\n        <View style={styles.pictures} debug={false}>\n          {images.map(({ src, croppedURL = \"\", ...image }, pictureIndex) => {\n            const widthCM = (100 * PICTURE_WIDTH) / image.width;\n            const heightCM = (100 * PICTURE_HEIGHT) / image.height;\n\n            const topCM = (image.y * heightCM) / 100;\n            const leftCM = (image.x * widthCM) / 100;\n\n            return src ? (\n              <View\n                key={`${pictureIndex}-${croppedURL}`}\n                style={{\n                  ...styles.picture,\n                  overflow: \"hidden\",\n                  position: \"relative\",\n                  width: `${PICTURE_WIDTH}cm`,\n                  height: `${PICTURE_HEIGHT}cm`,\n                }}\n              >\n                <Image\n                  style={{\n                    position: \"absolute\",\n                    width: `${widthCM}cm`,\n                    height: `${heightCM}cm`,\n                    marginLeft: `${-leftCM}cm`,\n                    marginTop: `${-topCM}cm`,\n                  }}\n                  src={src}\n                  width=\"auto\"\n                  height=\"auto\"\n                />\n              </View>\n            ) : (\n              <Canvas\n                style={styles.picture}\n                key={`${pictureIndex}-${croppedURL}`}\n                width={PICTURE_WIDTH}\n                height={PICTURE_HEIGHT}\n              />\n            );\n          })}\n        </View>\n        <View style={styles.calendar} debug={false}>\n          {days.map((day, index) => {\n            const birthdays = monthBirthdays\n              .filter((row) => getDate(day) === getDate(new Date(row.birthday)))\n              .map((row) => ({\n                ...row,\n                age: differenceInYears(day, new Date(row.birthday)),\n              }));\n            return (\n              <Day\n                key={index}\n                day={day}\n                isLastDay={index === days.length - 1}\n                birthdays={birthdays}\n              />\n            );\n          })}\n        </View>\n      </View>\n    </Page>\n  );\n};\n\nexport const HTMLMonth = React.forwardRef(({ year, month }, ref) => {\n  const days = eachDayOfInterval({\n    start: new Date(year, month, 1),\n    end: new Date(year, month + 1, 0),\n  });\n\n  const monthBirthdays = useSelector((state) =>\n    state.birthdays.values.filter((row) => {\n      return (\n        row.birthday &&\n        getMonth(new Date(year, month, 1)) === getMonth(new Date(row.birthday))\n      );\n    })\n  );\n\n  return (\n    <Paper\n      elevation={3}\n      style={{ ...styles.page, heigh: \"29.7cm\", width: \"21cm\" }}\n      ref={ref}\n    >\n      <div style={styles.header}>\n        <span>\n          {intlFormat(\n            days[0],\n            {\n              month: \"long\",\n            },\n            {\n              locale: \"fr\",\n            }\n          ) + ` ${year}`}\n        </span>\n      </div>\n      <div style={styles.mainContent}>\n        <div style={styles.pictures}>\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={0}\n          />\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={1}\n          />\n          <CanvasImage\n            style={styles.picture}\n            monthIndex={month}\n            pictureIndex={2}\n          />\n        </div>\n        <div style={styles.calendar}>\n          {days.map((day, index) => {\n            const birthdays = monthBirthdays\n              .filter((row) => getDate(day) === getDate(new Date(row.birthday)))\n              .map((row) => ({\n                ...row,\n                age: differenceInYears(day, new Date(row.birthday)),\n              }));\n            return (\n              <HTMLDay\n                key={index}\n                day={day}\n                isLastDay={index === days.length - 1}\n                birthdays={birthdays}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </Paper>\n  );\n});\n\nexport default Month;\n","import React from \"react\";\nimport { Document } from \"@react-pdf/renderer\";\nimport Month from \"./month\";\nexport * from \"./month\";\n// Create Document Component\nconst Calendar = ({ year = 2022, state, pictureUrls }) => {\n  const months = [];\n  for (let month = 0; month < 12; month += 1) {\n    months.push(\n      <Month\n        year={year}\n        month={month}\n        key={month}\n        state={state}\n        pictureUrls={pictureUrls}\n      />\n    );\n  }\n  return <Document>{months}</Document>;\n};\n\nexport default Calendar;\n","import * as React from \"react\";\n\nimport ImageDrawer from \"../components/ImageDrawer\";\n\nimport { HTMLMonth } from \"../components/calendarGenerator\";\nimport { useNavigate } from \"react-router-dom\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\n\nimport Fab from \"@mui/material/Fab\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport RemoveIcon from \"@mui/icons-material/Remove\";\n\nconst MINI_MONTH_WIDTH = 210;\nconst MINI_MONTH_HEIGHT = 297;\nconst MIN_ZOOM = 0.5;\nconst MAX_ZOOM = 3;\n\nexport default function MultipleMonths() {\n  const navigate = useNavigate();\n\n  const [month, setMonth] = React.useState(0);\n  const calendarRef = React.useRef(null);\n  const [scale, setScale] = React.useState(1);\n  const [zoom, setZoom] = React.useState(1);\n\n  React.useEffect(() => {\n    if (calendarRef.current) {\n      const xScale = MINI_MONTH_WIDTH / calendarRef.current.clientWidth;\n      const yScale = MINI_MONTH_HEIGHT / calendarRef.current.clientHeight;\n\n      const minScale = Math.min(xScale, yScale);\n      setScale(minScale);\n    }\n  }, []);\n\n  return (\n    <div>\n      <ImageDrawer />\n      <div\n        style={{\n          maxHeight: \"100vh\",\n          paddingLeft: 400,\n          paddingTop: \"64px\",\n        }}\n      >\n        <div>\n          <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((monthIndex) => (\n              <div\n                key={monthIndex}\n                style={{\n                  width: zoom * MINI_MONTH_WIDTH,\n                  height: zoom * MINI_MONTH_HEIGHT,\n                  position: \"relative\",\n                  margin: \"2rem\",\n                }}\n              >\n                <div\n                  key={monthIndex}\n                  style={{\n                    transform: `scale(${zoom * scale}, ${zoom * scale})`,\n                    transformOrigin: \"top left\",\n                    margin: \"1rem\",\n                  }}\n                  onClick={() => {\n                    navigate(`/design/${monthIndex}`);\n                  }}\n                >\n                  <HTMLMonth\n                    year={2022}\n                    month={monthIndex}\n                    ref={monthIndex === 0 ? calendarRef : null}\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n          <Box sx={{ position: \"fixed\", bottom: \"1rem\", right: \"1rem\" }}>\n            <Fab\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"add\"\n              onClick={() => setZoom((x) => Math.max(MIN_ZOOM, x - 0.5))}\n            >\n              <RemoveIcon />\n            </Fab>\n            <Typography variant=\"p\" component=\"span\" sx={{ margin: \"0 1rem\" }}>\n              {zoom}\n            </Typography>\n            <Fab\n              color=\"primary\"\n              size=\"small\"\n              aria-label=\"add\"\n              onClick={() => setZoom((x) => Math.min(MAX_ZOOM, x + 0.5))}\n            >\n              <AddIcon />\n            </Fab>\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport ImageDrawer from \"../components/ImageDrawer\";\n\nimport GridViewIcon from \"@mui/icons-material/GridView\";\n\nimport { HTMLMonth } from \"../components/calendarGenerator\";\n\nimport { intlFormat } from \"date-fns\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Box from \"@mui/material/Box\";\n\nimport Fab from \"@mui/material/Fab\";\n\nexport default function SingleMonth() {\n  const navigate = useNavigate();\n\n  const { month } = useParams();\n\n  const [paperSize, setPaperSize] = React.useState({ width: 100, height: 100 });\n  const calendarRef = React.useRef(null);\n  const displayDivRef = React.useRef(null);\n\n  const [scale, setScale] = React.useState(1);\n\n  const updateCalendarSize = () => {\n    if (calendarRef.current && displayDivRef.current) {\n      const xScale =\n        (displayDivRef.current.offsetWidth - 100 - 400) /\n        calendarRef.current.clientWidth;\n      const yScale =\n        (displayDivRef.current.offsetHeight - 100 - 114) /\n        calendarRef.current.clientHeight;\n\n      const minScale = Math.min(xScale, yScale);\n\n      setScale(minScale);\n      setPaperSize({\n        width: minScale * calendarRef.current.clientWidth,\n        height: minScale * calendarRef.current.clientHeight,\n      });\n    }\n  };\n  React.useEffect(() => {\n    updateCalendarSize();\n    const ref = displayDivRef.current;\n    window.addEventListener(\"resize\", updateCalendarSize);\n    return () => {\n      window.removeEventListener(\"resize\", updateCalendarSize);\n    };\n  }, []);\n\n  return (\n    <div>\n      <ImageDrawer />\n      <div\n        style={{\n          height: \"100vh\",\n          paddingLeft: 400,\n          paddingTop: \"64px\",\n        }}\n        ref={displayDivRef}\n      >\n        <div>\n          <Tabs\n            sx={{ flex: \"1 1 100px\" }}\n            value={Number(month) || 0}\n            onChange={(event, newValue) => navigate(`/design/${newValue}`)}\n            aria-label=\"month tabs\"\n            variant=\"scrollable\"\n          >\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((monthIndex) => (\n              <Tab\n                label={intlFormat(\n                  new Date(2000, monthIndex, 1),\n                  {\n                    month: \"short\",\n                  },\n                  {\n                    locale: \"fr\",\n                  }\n                )}\n                value={monthIndex}\n              />\n            ))}\n          </Tabs>\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Box sx={{ position: \"relative\", margin: \"16px\", ...paperSize }}>\n              <div\n                style={{\n                  transform: `scale(${scale}, ${scale})`,\n                  transformOrigin: \"top left\",\n                  margin: \"1rem\",\n                }}\n              >\n                <HTMLMonth\n                  year={2022}\n                  month={Number(month) || 0}\n                  ref={calendarRef}\n                />\n              </div>\n            </Box>\n          </div>\n          <Box sx={{ position: \"fixed\", bottom: \"1rem\", right: \"1rem\" }}>\n            <Fab\n              color=\"primary\"\n              size=\"large\"\n              aria-label=\"grid-view\"\n              onClick={() => navigate(\"/design\")}\n            >\n              <GridViewIcon />\n            </Fab>\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  upsertBirthday,\n  removeBirthday,\n  getNickName,\n} from \"../features/birthdays\";\n\nimport { DataGrid } from \"@mui/x-data-grid\";\n\nconst birthdayColumns = [\n  {\n    headerName: \"Nom\",\n    field: \"firstName\",\n    editable: true,\n    flex: 2,\n  },\n  {\n    headerName: \"Prénom\",\n    field: \"lastName\",\n    editable: true,\n    flex: 2,\n  },\n  {\n    headerName: \"Présentation\",\n    field: \"nickname\",\n    editable: true,\n    flex: 2,\n  },\n  {\n    headerName: \"Date de naissance\",\n    field: \"birthday\",\n    type: \"date\",\n    valueGetter: ({ value }) => {\n      return new Date(value);\n    },\n    editable: true,\n    flex: 1,\n  },\n  {\n    headerName: \"Afficher\",\n    field: \"printed\",\n    type: \"boolean\",\n    editable: true,\n    flex: 1,\n  },\n  {\n    headerName: \"Afficher l'age\",\n    field: \"agePrinted\",\n    type: \"boolean\",\n    editable: true,\n    flex: 1,\n  },\n];\n\nexport default function Birthdays() {\n  const values = useSelector((state) => state.birthdays.values);\n  const dispatch = useDispatch();\n\n  return (\n    <div\n      style={{\n        height: \"100vh\",\n        paddingTop: \"64px\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          height: \"60vh\",\n          width: \"100%\",\n        }}\n      >\n        <DataGrid\n          columns={birthdayColumns}\n          rows={values}\n          onCellEditCommit={({ id, field, value }) => {\n            const newValue = { id, [field]: value };\n\n            if (field === \"nickname\") {\n              dispatch(upsertBirthday(newValue));\n              return;\n            }\n            if ([\"firstName\", \"lastName\"].includes(field)) {\n              const row = values.find((row) => row.id === id);\n\n              if (row.nickname === getNickName(row)) {\n                dispatch(\n                  upsertBirthday({\n                    ...newValue,\n                    nickname: getNickName({ ...row, ...newValue }),\n                  })\n                );\n                return;\n              }\n            }\n            dispatch(upsertBirthday(newValue));\n          }}\n          // autoHeight\n        />\n      </div>\n      <Button\n        onClick={() => {\n          dispatch(upsertBirthday());\n        }}\n      >\n        Ajouter une ligne\n      </Button>\n\n      {/* {loadedPictures.length === 0 && (\n        <Card\n          sx={{ minWidth: 275, maxWidth: 500, margin: \"1rem auto\" }}\n          variant=\"outlined\"\n        >\n          <CardContent\n            sx={{\n              textAlign: \"left\",\n            }}\n          >\n            <Typography>Bienvenu,</Typography>\n            <Typography variant=\"body1\">\n              Pour utiliser cette application, mettez toutes les photos qu vous\n              souhaitez utiliser dans un dossier, et ouvrez ce dossier avec le\n              bouton ci dessous.\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button onClick={onClick}>Ouvrir le dossier</Button>\n          </CardActions>\n        </Card>\n      )} */}\n    </div>\n  );\n}\n","export default function YearEvents() {\n  return null;\n}\n","import React from \"react\";\nimport {\n  Page,\n  Text,\n  View,\n  Image,\n  Canvas,\n  StyleSheet,\n} from \"@react-pdf/renderer\";\nimport { eachDayOfInterval, intlFormat, getDate, getMonth } from \"date-fns\";\nimport Day, { HTMLDay } from \"./day\";\nimport { Font } from \"@react-pdf/renderer\";\nimport {\n  PICTURE_WIDTH,\n  PICTURE_HEIGHT,\n  HEADER_FON_SIZE,\n  HEADER_TOP_PADDING,\n  HEADER_HEIGHT,\n} from \"../../const\";\nimport CanvasImage from \"../CanvasImage\";\nimport Calendar from \"./index\";\nimport Paper from \"@mui/material/Paper\";\n\nimport { PDFViewer } from \"@react-pdf/renderer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { differenceInYears, isSameMonth } from \"date-fns\";\n\nimport ImageCropper from \"../ImageCropper\";\nimport { width } from \"@mui/system\";\n\nconst RenderPDF = () => {\n  const state = useSelector((state) => state);\n\n  const months = state.pictureSystem.months;\n\n  const pictureUrls = {};\n\n  return (\n    <PDFViewer width=\"100%\" height=\"1000px\">\n      <Calendar state={state} pictureUrls={pictureUrls} />\n    </PDFViewer>\n  );\n};\n\nexport default RenderPDF;\n","import * as React from \"react\";\nimport MUI_AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalPrintshopRoundedIcon from \"@mui/icons-material/LocalPrintshopRounded\";\nimport SaveRoundedIcon from \"@mui/icons-material/SaveRounded\";\n\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Dialog from \"@mui/material/Dialog\";\n\nimport RenderPDF from \"./calendarGenerator/renderPDF\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { saveFolder } from \"./fileManagement/utils\";\nimport { useSelector } from \"react-redux\";\n\nexport default function AppBar() {\n  const navigate = useNavigate();\n\n  const birthdays = useSelector((state) => state.birthdays.values);\n  const pictures = useSelector((state) => state.pictureSystem.pictures);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [openPDF, setOpenPDF] = React.useState(false);\n  const handleOpenPDF = () => {\n    setOpenPDF(true);\n  };\n  const handleClosePDF = () => {\n    setOpenPDF(false);\n  };\n\n  return (\n    <>\n      <MUI_AppBar\n        position=\"fixed\"\n        sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\n      >\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"div\" onClick={handleClick}>\n            Calendar\n          </Typography>\n          <div>\n            <Menu\n              id=\"basic-menu\"\n              anchorEl={anchorEl}\n              open={open}\n              onClose={handleClose}\n              MenuListProps={{\n                \"aria-labelledby\": \"basic-button\",\n              }}\n            >\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/\");\n                  handleClose();\n                }}\n              >\n                Accueil\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/design\");\n                  handleClose();\n                }}\n              >\n                Design\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  navigate(\"/birthdays\");\n                  handleClose();\n                }}\n              >\n                Anniversaires\n              </MenuItem>\n            </Menu>\n          </div>\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => handleOpenPDF()}\n          >\n            <LocalPrintshopRoundedIcon />\n          </IconButton>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => {\n              saveFolder({\n                values: { calendar: birthdays, design: { pictures } },\n              });\n            }}\n          >\n            <SaveRoundedIcon />\n          </IconButton>\n        </Toolbar>\n      </MUI_AppBar>\n\n      <Dialog onClose={handleClosePDF} open={openPDF} fullWidth>\n        {openPDF && <RenderPDF />}\n      </Dialog>\n    </>\n  );\n}\n","import * as React from \"react\";\n\nimport ImageCropper from \"./components/ImageCropper\";\n\nimport { Routes, Route } from \"react-router-dom\";\nimport {\n  // Welcome,\n  MultipleMonths,\n  SingleMonth,\n  Birthdays,\n  YearEvents,\n} from \"./pages\";\n\nimport AppBar from \"./components/AppBar\";\n\nfunction App() {\n  // this should be called only when rendering the pdf for preview or download\n  // const state = useSelector((state) => state);\n\n  return (\n    <>\n      <AppBar />\n      <Routes>\n        {/* <Route path=\"/\" element={<Welcome />} /> */}\n        <Route path=\"/\" element={<MultipleMonths />} />\n        <Route path=\"design\" element={<MultipleMonths />} />\n        <Route path=\"design/:month\" element={<SingleMonth />} />\n        <Route path=\"birthdays\" element={<Birthdays />} />\n        <Route path=\"yearEvents\" element={<YearEvents />} />\n      </Routes>\n      {/* <OpenFolderDialog /> */}\n\n      {/* <PDFViewer width=\"100%\" height=\"1000px\">\n          <Calendar state={state} />\n        </PDFViewer> */}\n      <ImageCropper />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport pictureSystemReducer from \"./features/pictureSystem\";\nimport draggingReducer from \"./features/dragging\";\nimport birthdaysReducer from \"./features/birthdays\";\n\nexport default configureStore({\n  reducer: {\n    pictureSystem: pictureSystemReducer,\n    dragging: draggingReducer,\n    birthdays: birthdaysReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./store\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <CssBaseline />\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}