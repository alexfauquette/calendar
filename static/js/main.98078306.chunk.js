(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{243:function(e,t){},404:function(e,t,n){},419:function(e,t){},421:function(e,t){},451:function(e,t){},452:function(e,t){},563:function(e,t){},733:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(67),c=n.n(a),s=(n(404),n(12)),o=n(20),l=n(81),d=n(30),u=n(370),h="0.2cm",b="0.05cm",j=8.8,p=55,m=450,f=n(80),x=["monthIndex","pictureIndex"],O=Object(f.b)({name:"pictureSystem",initialState:{pictures:[],months:[[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}],[{},{},{}]],cropper:null},reducers:{fetchPictures:function(e,t){var n={};e.pictures.forEach((function(e){var t=e.url,r=e.name;n[t]=r,URL.revokeObjectURL(t)}));var r={};t.payload.pictures.forEach((function(e){var t=e.name,n=e.url;r[t]=n})),e.pictures=t.payload.pictures,e.months.forEach((function(t,i){t.forEach((function(t,a){if(t.src){var c=n[t.src],s=r[c];if(void 0!==s)return void(e.months[i][a]=Object(o.a)(Object(o.a)({},e.months[i][a]),{},{src:s}))}e.months[i][a]={}}))}))},setMonths:function(e,t){e.months=t.payload,e.months.forEach((function(t){t.forEach((function(t){var n;t&&t.name&&(t.src=null===(n=e.pictures.find((function(e){return e.name===t.name})))||void 0===n?void 0:n.url)}))}))},updatePicture:function(e,t){var n=t.payload,r=n.monthIndex,i=n.pictureIndex,a=Object(l.a)(n,x);void 0!==a.src?e.months[r][i]=Object(o.a)({},a):e.months[r][i]=Object(o.a)(Object(o.a)({},e.months[r][i]),a)},setCropper:function(e,t){t.payload?e.cropper=t.payload:e.cropper=null}}}),g=O.actions,v=g.fetchPictures,y=g.updatePicture,w=g.setCropper,C=g.setMonths,S=O.reducer,A=n(349),P=n.n(A),k=n(796),D=n(98),I=n(821),R=n(822),L=n(823),M=n(97),J=n(2),F=["children","onClose"],B=function(e){var t=e.children,n=e.onClose,r=Object(l.a)(e,F);return Object(J.jsxs)(k.a,Object(o.a)(Object(o.a)({sx:{m:0,p:2}},r),{},{children:[t,n?Object(J.jsx)(D.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(J.jsx)(P.a,{})}):null]}))};function N(){var e=Object(d.c)((function(e){return e.pictureSystem.cropper})),t=Object(d.c)((function(e){return e.pictureSystem.cropper?e.pictureSystem.months[e.pictureSystem.cropper.monthIndex][e.pictureSystem.cropper.pictureIndex].croppedAreaPixels:null})),n=r.useState({x:0,y:0}),i=Object(s.a)(n,2),a=i[0],c=i[1],l=r.useState(1),h=Object(s.a)(l,2),b=h[0],p=h[1],m=r.useState(),f=Object(s.a)(m,2),x=f[0],O=f[1],g=r.useState(null),v=Object(s.a)(g,2),C=v[0],S=v[1],A=r.useState(null),P=Object(s.a)(A,2),k=P[0],D=P[1],F=r.useCallback((function(e,t){S(e),D(t)}),[]),N=Object(d.b)(),E=function(){N(w(null))},G=!!e;return Object(J.jsxs)(I.a,{onClose:E,"aria-labelledby":"customized-dialog-title",open:G,fullWidth:!0,maxWidth:"lg",children:[Object(J.jsx)(B,{id:"customized-dialog-title",onClose:E,children:"Crop Image"}),Object(J.jsx)(R.a,{dividers:!0,children:e&&Object(J.jsx)("div",{style:{position:"relative",height:"60vh"},children:Object(J.jsx)(u.a,{image:e.src||null,crop:a,zoom:b,aspect:8/j,onCropChange:c,onCropComplete:F,onZoomChange:p,onMediaLoaded:function(e){O(e)},initialCroppedAreaPixels:t,maxZoom:50})})}),Object(J.jsx)(L.a,{children:Object(J.jsx)(M.a,{onClick:function(){C&&x&&N(y(Object(o.a)(Object(o.a)({monthIndex:e.monthIndex,pictureIndex:e.pictureIndex},C),{},{croppedAreaPixels:k}))),E()},children:"Save changes"})})]})}var E=n(814),G=n(819),T=n(820),z=n(234),H=n(366),W=n.n(H),V=n(167),q=n.n(V),U=n(27),Z=(n(243),n(824)),X=n(825),Y=Object(f.b)({name:"dragging",initialState:{src:null},reducers:{startDragging:function(e,t){e.src=t.payload.src,e.name=t.payload.name}}}),_=Y.actions.startDragging,K=Y.reducer,Q=n(25),$=n(351),ee=n.n($);function te(e){var t=e.lastName,n=void 0===t?"":t,r=e.firstName,i=void 0===r?"":r;return"".concat(n," ").concat(i)}var ne=function(){return{id:ee()(),nickname:te({}),firstName:"",lastName:"",birthday:String(new Date),printed:!0,agePrinted:!0}},re=Object(f.b)({name:"birthdays",initialState:{values:[ne()]},reducers:{setBirthdays:function(e,t){e.values=t.payload},upsertBirthday:function(e,t){var n,r=e.values.findIndex((function(e){var n,r;return(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)&&(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t||null===(r=t.payload)||void 0===r?void 0:r.id)}));(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.birthday)&&(t.payload.birthday=String(t.payload.birthday)),-1===r?e.values.push(Object(o.a)(Object(o.a)({},ne()),t.payload)):e.values[r]=Object(o.a)(Object(o.a)(Object(o.a)({},ne()),e.values[r]),t.payload)},removeBirthday:function(e,t){var n=e.values.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.values=[].concat(Object(Q.a)(e.values.slice(0,n)),Object(Q.a)(e.values.slice(n+1))))}}}),ie=re.actions,ae=ie.upsertBirthday,ce=(ie.removeBirthday,ie.setBirthdays),se=re.reducer,oe=n(31),le=n.n(oe),de=n(147),ue=n(229);function he(e){var t,n,r,i=2;for("undefined"!==typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new be(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function be(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return be=function(e){this.s=e,this.n=e.next},be.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new be(e)}var je=function(e){var t=e.toUpperCase();return[".JPG",".JPEG",".PNG"].some((function(e){return t.endsWith(e)}))};function pe(e,t){return me.apply(this,arguments)}function me(){return(me=Object(de.a)(le.a.mark((function e(t,n){var r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=t){e.next=2;break}return e.abrupt("return",!1);case 2:return r={},n&&(r.mode="readwrite"),e.next=6,t.queryPermission(r);case 6:if(e.t0=e.sent,"granted"!==e.t0){e.next=9;break}return e.abrupt("return",!0);case 9:return e.next=11,t.requestPermission(r);case 11:if(e.t1=e.sent,"granted"!==e.t1){e.next=14;break}return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(de.a)(le.a.mark((function e(t){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,Object(ue.a)("last_folder");case 3:return n=e.sent,e.next=6,pe(n,!0);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",n);case 9:return e.next=11,window.showDirectoryPicker({startIn:"pictures"});case 11:return r=e.sent,Object(ue.b)("last_folder",r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(de.a)(le.a.mark((function e(t){var n,r,i,a,c,s,o,l,d,u,h,b,j,p,m,f,x,O,g,v,y;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setters,r=n.setPictures,i=n.setDesign,a=n.setCalendar,c=t.tryPreviousFolder,e.next=3,fe(c);case 3:if(s=e.sent){e.next=6;break}return e.abrupt("return");case 6:o=[],l=null,d=null,u=!1,h=!1,e.prev=11,j=he(s.values());case 13:return e.next=15,j.next();case 15:if(!(u=!(p=e.sent).done)){e.next=46;break}if(m=p.value,!r||!je(m.name)){e.next=25;break}return e.next=20,m.getFile();case 20:f=e.sent,x=URL.createObjectURL(f),o.push({url:x,name:m.name}),e.next=43;break;case 25:if(!a||"calendar.json"!==m.name){e.next=35;break}return e.next=28,m.getFile();case 28:return O=e.sent,e.next=31,O.text();case 31:g=e.sent,d=JSON.parse(g),e.next=43;break;case 35:if(!i||"design.json"!==m.name){e.next=43;break}return e.next=38,m.getFile();case 38:return v=e.sent,e.next=41,v.text();case 41:y=e.sent,l=JSON.parse(y);case 43:u=!1,e.next=13;break;case 46:e.next=52;break;case 48:e.prev=48,e.t0=e.catch(11),h=!0,b=e.t0;case 52:if(e.prev=52,e.prev=53,!u||null==j.return){e.next=57;break}return e.next=57,j.return();case 57:if(e.prev=57,!h){e.next=60;break}throw b;case 60:return e.finish(57);case 61:return e.finish(52);case 62:r&&r(o),i&&l&&(l.pictures.forEach((function(e){e.forEach((function(e){e&&e.src&&(e.src=void 0)}))})),console.log(l),i(l)),a&&d&&a(d);case 65:case"end":return e.stop()}}),e,null,[[11,48,52,62],[53,,57,61]])})))).apply(this,arguments)}function ve(){return(ve=Object(de.a)(le.a.mark((function e(t){var n,r,i,a,c,s,o,l,d,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.values,r=n.design,i=n.calendar,a=t.tryPreviousFolder,c=void 0===a||a,e.next=3,fe(c);case 3:if(s=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=17;break}return e.next=9,s.getFileHandle("design.json",{create:!0});case 9:return o=e.sent,e.next=12,o.createWritable();case 12:return l=e.sent,e.next=15,l.write(JSON.stringify(r));case 15:return e.next=17,l.close();case 17:if(!i){e.next=28;break}return e.next=20,s.getFileHandle("calendar.json",{create:!0});case 20:return d=e.sent,e.next=23,d.createWritable();case 23:return u=e.sent,e.next=26,u.write(JSON.stringify(i));case 26:return e.next=28,u.close();case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){var e=Object(d.c)((function(e){return e.pictureSystem.pictures})),t=Object(d.b)(),n=function(e){t(v({pictures:e}))},r=function(e){t(ce(e))},i=function(e){var n=e.pictures;t(C(n))},a=e.length>0;return Object(J.jsxs)(E.a,{sx:{width:"".concat(m,"px"),flexShrink:0,marginLeft:"".concat(p,"px"),"& .MuiDrawer-paper":{width:"".concat(m,"px"),marginLeft:"".concat(p,"px"),boxSizing:"border-box",borderRight:"1px solid lightgray"}},variant:"permanent",anchor:"top",children:[Object(J.jsx)(G.a,{}),Object(J.jsxs)(T.a,{sx:{overflow:"auto",height:"100vh"},children:[Object(J.jsx)(T.a,{sx:{position:"sticky",top:0,zIndex:5,backgroundColor:"white",padding:a?"4px":"100px 4px 4px 4px",display:"flex",justifyContent:"space-around",flexDirection:a?"row":"column"},children:a?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(z.a,{title:"Attention, les donn\xe9es non enregistr\xe9es seront perdu",placement:"bottom",children:Object(J.jsx)(M.a,{onClick:function(){Oe({setters:{setPictures:n,setCalendar:r,setDesign:i},tryPreviousFolder:!1})},variant:"outlined",children:"Changer de dossier"})}),Object(J.jsx)(z.a,{title:"R\xe9cup\xe8re les derni\xe8res image que vous avez ajout\xe9es dans le dossier",children:Object(J.jsx)(M.a,{onClick:function(){return Oe({setters:{setPictures:n},tryPreviousFolder:!0})},variant:"contained",children:"Rafra\xeechir le dossier"})})]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(M.a,{variant:"contained",onClick:function(){Oe({setters:{setPictures:n,setCalendar:r,setDesign:i},tryPreviousFolder:!0})},children:"Ouvrir un dossier"}),Object(J.jsx)("p",{style:{padding:"1rem"},children:"Ouvrez le dossier dans lequel se trouve les images pour personnaliser votre calendrier"})]})}),a&&Object(J.jsx)(Z.a,{variant:"masonry",cols:2,gap:5,children:e.map((function(e){var n=e.url,r=e.name;return Object(J.jsx)(X.a,{children:Object(J.jsx)("img",{src:n,width:200,alt:"",onDragStart:function(){t(_({src:n,name:r}))},loading:"lazy"})},n)}))})]})]})}var we=n(29),Ce=n(806),Se=n(804),Ae=n(807),Pe=n(805),ke=n(809),De=n(803),Ie=n(812),Re=[["Marie, m\xe8re de Dieu","Basile et Gr\xe9goire","Genevi\xe8ve","Odilon","Edouard","M\xe9laine","Raymond","Lucien","Alix","Guillaume","Paulin","Tatiana","Yvette","Nina","R\xe9mi","Marcel","Roseline","Prisca","Marius","S\xe9bastien","Agn\xe8s","Vincent","Barnard","Fran\xe7ois de Sales","Ananie","Paule","Ang\xe8le","Thomas d'Aquin","Gildas","Martine","Marcelle"],["Ella","Th\xe9ophane","Blaise","V\xe9ronique","Agathe","Gaston","Eug\xe9nie","Jacqueline","Apolline","Arnaud","H\xe9lo\xefse","F\xe9lix","B\xe9atrice","Valentin","Claude","Julienne","Alexis","Bernadette","Gabin","Aim\xe9e","Pierre-Damien","Isabelle","Lazare","Modeste","Rom\xe9o","Nestor","Honorine","Romain","(Auguste)"],["Aubin","Charles le Bon","Gu\xe9nol\xe9","Casimir","Olive","Colette","F\xe9licit\xe9","Jean de Dieu","Fran\xe7oise","Vivien","Rosine","Justine","Rodrigue","Mathilde","Louise","B\xe9n\xe9dicte","Patrice","Cyrille","Joseph","Herbert","Cl\xe9mence","L\xe9a","Victorien","Catherine de Su\xe8de","Humbert","Larissa","Habib","Gontran","Gwladys","Am\xe9d\xe9e","Benjamin","Avril","Hugues","Sandrine","Richard","Isidore","Ir\xe8ne","Marcellin","Jean-Baptiste de la Salle","Julie","Gauthier","Fulbert","Stanislas","Jules","Ida","Maxime","Paterne","Beno\xeet-Joseph","Anicet","Parfait","Emma","Odette","Anselme","Alexandre","Georges","Fid\xe8le","Marc","Alida","Zita","Val\xe9rie","Catherine de Sienne","Robert"],["Hugues","Sandrine","Richard","Isidore","Ir\xe8ne","Marcellin","Jean-Baptiste de la Salle","Julie","Gauthier","Fulbert","Stanislas","Jules","Ida","Maxime","Paterne","Beno\xeet-Joseph","Anicet","Parfait","Emma","Odette","Anselme","Alexandre","Georges","Fid\xe8le","Marc","Alida","Zita","Val\xe9rie","Catherine de Sienne","Robert"],["J\xe9r\xe9mie","Boris","Philippe, Jacques le Mineur","Sylvain","Judith","Prudence","Gis\xe8le","D\xe9sir\xe9","Pac\xf4me","Solange","Estelle","Achille","Rolande","Matthias","Denise","Honor\xe9","Pascal","Eric","Yves","Bernardin","Constantin","Emile","Didier","Donatien","Sophie","B\xe9renger","Augustin","Germain","Aymard","Ferdinand","Perrine"],["Justin","Blandine","K\xe9vin","Clotilde","Igor","Norbert","Gilbert","M\xe9dard","Diane","Landry","Barnab\xe9","Guy","Antoine de Padoue","Elis\xe9e","Germaine","Jean-Fran\xe7ois R\xe9gis","Herv\xe9","L\xe9once","Romuald","Silv\xe8re","Rodolphe","Alban","Audrey","Jean-Baptiste","Prosper","Anthelme","Fernand","Ir\xe9n\xe9e","Pierre/Paul","Martial"],["Thierry","Martinien","Thomas","Florent","Antoine","Mariette","Raoul","Thibaut","Amandine","Ulrich","Beno\xeet","Olivier","Henri/Jo\xebl","Camille","Donald","Carmen","Charlotte","Fr\xe9d\xe9ric","Ars\xe8ne","Marina","Victor","Marie-Madeleine","Brigitte","Christine","Jacques","Anne/Joachim","Nathalie","Samson","Marthe","Juliette","Ignace de Loyola"],["Alphonse","Julien","Lydie","Jean-Marie","Abel","Octavien","Ga\xe9tan","Dominique","Amour","Laurent","Claire","Clarisse","Hippolyte","Evrard","Marie","Armel","Hyacinthe","H\xe9l\xe8ne","Jean-Eudes","Bernard","Christophe","Fabrice","Rose","Barth\xe9l\xe9my","Louis","Natacha","Monique","Augustin","Sabine","Fiacre","Aristide"],["Gilles","Ingrid","Gr\xe9goire","Rosalie","Raissa","Bertrand","Reine","Adrien","Alain","In\xe8s","Adelphe","Apollinaire","Aim\xe9","Cyprien","Roland","Edith","Renaud","Nad\xe8ge","\xc9milie","Davy","Matthieu","Maurice","Constant","Th\xe8cle","Hermann","C\xf4me/Damien","Vincent de Paul","Venceslas","Michel","J\xe9r\xf4me"],["Th\xe9r\xe8se","L\xe9ger","G\xe9rard","Fran\xe7ois","Fleur","Bruno","Serge","P\xe9lagie","Denis","Ghislain","Firmin","Wilfried","G\xe9raud","Juste","Aur\xe9lie","Edwige","Baudouin","Luc","Ren\xe9","Adeline","C\xe9line","Elodie","Jean de Capistran","Florentin","Cr\xe9pin","Dimitri","Emeline","Simon/Jude","Narcisse","Bienvenue","Quentin"],["Harold","Oc\xe9ane","Hubert","Charles","Sylvie","Bertille","Carine","Geoffroy","Th\xe9odore","L\xe9on","Martin","Christian","Brice","Sidoine","Albert","Marguerite","Elisabeth","Aude","Tanguy","Edmond","Rufus","C\xe9cile","Cl\xe9ment","Flora","Catherine","Delphine","S\xe9verin","Jacques de la Marche","Saturnin","Andr\xe9"],["Florence","Viviane","Xavier","Barbara","G\xe9rald","Nicolas","Ambroise","Elfried","Pierre Fourier","Romaric","Daniel","Corentin","Lucie","Odile","Ninon","Alice","Gael","Gatien","Urbain","Th\xe9ophile","Pierre Canisius","Fran\xe7oise-Xavi\xe8re","Armand","Ad\xe8le","Emmanuel","\xc9tienne","Jean","Gaspard","David","Roger","Sylvestre"]],Le={"2025-01-01":"1er janvier","2025-04-21":"Lundi de P\xe2ques","2025-05-01":"1er mai","2025-05-08":"8 mai","2025-05-29":"Ascension","2025-06-09":"Lundi de Pentec\xf4te","2025-07-14":"14 juillet","2025-08-15":"Assomption","2025-11-01":"Toussaint","2025-11-11":"11 novembre","2025-12-25":"Jour de No\xebl","2024-01-01":"1er janvier","2024-04-01":"Lundi de P\xe2ques","2024-05-01":"1er mai","2024-05-08":"8 mai","2024-05-09":"Ascension","2024-05-20":"Lundi de Pentec\xf4te","2024-07-14":"14 juillet","2024-08-15":"Assomption","2024-11-01":"Toussaint","2024-11-11":"11 novembre","2024-12-25":"Jour de No\xebl","2023-01-01":"1er janvier","2023-04-10":"Lundi de P\xe2ques","2023-05-01":"1er mai","2023-05-08":"8 mai","2023-05-18":"Ascension","2023-05-29":"Lundi de Pentec\xf4te","2023-07-14":"14 juillet","2023-08-15":"Assomption","2023-11-01":"Toussaint","2023-11-11":"11 novembre","2023-12-25":"Jour de No\xebl","2022-01-01":"1er janvier","2022-04-18":"Lundi de P\xe2ques","2022-05-01":"1er mai","2022-05-08":"8 mai","2022-05-26":"Ascension","2022-06-06":"Lundi de Pentec\xf4te","2022-07-14":"14 juillet","2022-08-15":"Assomption","2022-11-01":"Toussaint","2022-11-11":"11 novembre","2022-12-25":"Jour de No\xebl","2021-01-01":"1er janvier","2021-04-05":"Lundi de P\xe2ques","2021-05-01":"1er mai","2021-05-08":"8 mai","2021-05-13":"Ascension","2021-05-24":"Lundi de Pentec\xf4te","2021-07-14":"14 juillet","2021-08-15":"Assomption","2021-11-01":"Toussaint","2021-11-11":"11 novembre","2021-12-25":"Jour de No\xebl"},Me=function(e){var t=Object(ke.a)(e,"yyyy-MM-dd");return Le[t]},Je=we.StyleSheet.create({day:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"transparent",height:"0.85cm",paddingLeft:h,borderColor:"black",borderLeftWidth:b,borderRightWidth:0,borderTopWidth:b,borderStyle:"solid",margin:0,boxSizing:"border-box",fontSize:"12pt"},dayNumber:{marginRight:h,fontSize:"12pt"},dayInitial:{},saint:{marginLeft:"0.2cm",fontSize:"12pt"},birthdays:{marginRight:"1cm",fontSize:"12pt"}}),Fe=function(e){var t,n=e.day,r=e.isLastDay,i=e.birthdays,a=Object(ke.a)(n,"dd",{locale:Ie.a}),c=Object(ke.a)(n,"ccccc",{locale:Ie.a}),s=Me(n);return Object(J.jsxs)("div",{style:Object(o.a)(Object(o.a)({},Je.day),{},{borderBottomWidth:r?b:0,backgroundColor:0===Object(De.a)(n)||s?"lightblue":"transparent"}),children:[Object(J.jsx)("span",{style:Je.dayNumber,children:a}),Object(J.jsx)("span",{style:Je.dayInitial,children:c}),Object(J.jsx)("span",{style:Je.saint,children:s||"St ".concat(null===Re||void 0===Re||null===(t=Re[Object(Se.a)(n)])||void 0===t?void 0:t[Object(Pe.a)(n)-1])}),Object(J.jsx)("span",{style:{flexGrow:1}}),Object(J.jsx)("span",{style:Je.birthdays,children:i.filter((function(e){return e.printed&&e.nickname.trim()})).map((function(e){return"".concat(e.nickname.trim()," ").concat(e.agePrinted?"(".concat(e.age,") "):"")})).join("/ ")})]})},Be=function(e){var t,n=e.day,r=e.isLastDay,i=e.birthdays,a=Object(ke.a)(n,"dd",{locale:Ie.a}),c=Object(ke.a)(n,"ccccc",{locale:Ie.a}),s=(Number(a),Me(n));return Object(J.jsxs)(we.View,{style:Object(o.a)(Object(o.a)({},Je.day),{},{borderBottomWidth:r?b:0,backgroundColor:0===Object(De.a)(n)||s?"lightblue":"transparent"}),children:[Object(J.jsx)(we.Text,{style:Je.dayNumber,children:a}),Object(J.jsx)(we.Text,{style:Je.dayInitial,children:c}),Object(J.jsx)(we.Text,{style:Je.saint,children:s||"St ".concat(null===Re||void 0===Re||null===(t=Re[Object(Se.a)(n)])||void 0===t?void 0:t[Object(Pe.a)(n)-1])}),Object(J.jsx)(we.Text,{style:{flexGrow:1}}),Object(J.jsx)(we.Text,{style:Je.birthdays,children:i.filter((function(e){return e.printed&&e.nickname.trim()})).map((function(e){return"".concat(e.nickname.trim()," ").concat(e.agePrinted?"(".concat(e.age,") "):"")})).join("/ ")})]})},Ne=["width","height","monthIndex","pictureIndex"];function Ee(e){var t=e.width,n=void 0===t?4e3:t,i=e.height,a=void 0===i?4400:i,c=e.monthIndex,s=e.pictureIndex,u=Object(l.a)(e,Ne),h=Object(d.c)((function(e){return e.pictureSystem.months[c][s]})),b=Object(d.c)((function(e){return e.dragging.src})),j=Object(d.c)((function(e){return e.dragging.name})),p=r.useRef(null),m=Object(d.b)(),f=function(e){console.log({draggingName:j,draggingSrc:b}),e.preventDefault(),m(y({monthIndex:c,pictureIndex:s,src:b,name:j}))},x=function(e){e.stopPropagation(),m(w({src:null===h||void 0===h?void 0:h.src,monthIndex:c,pictureIndex:s}))};return r.useEffect((function(){if(h&&h.src){var e=p.current.getContext("2d"),t=new Image,r=Object(o.a)({},h);t.addEventListener("load",(function(){if(void 0===r.x||void 0===r.y||void 0===r.width||void 0===r.height||void 0===r.imageWidth||void 0===r.imageHeight){var i=t.width/n<t.height/a;r.x=0,r.y=0,r.width=i?100:100*t.height*n/(a*t.width),r.height=i?100*t.width*a/(n*t.height):100,m(y(Object(o.a)(Object(o.a)({monthIndex:c,pictureIndex:s},r),{},{imageWidth:n,imageHeight:a})))}e.drawImage(t,r.x*t.width/100,r.y*t.height/100,r.width*t.width/100,r.height*t.height/100,0,0,n,a)}),!1),t.src=h.src}}),[h,h.src,n,a,m,c,s]),h.src?Object(J.jsx)("canvas",Object(o.a)({onClick:x,onDrop:f,onDragOver:function(e){return e.preventDefault()},ref:p,width:n,height:a,id:"canvasImage-".concat(c,"-").concat(s)},u)):Object(J.jsx)(T.a,Object(o.a)(Object(o.a)({onClick:x,onDrop:f,onDragOver:function(e){return e.preventDefault()},sx:{borderRadius:"2cm",backgroundColor:"#f3f3f3",display:"flex",justifyContent:"center",alignItems:"center"}},u),{},{children:Object(J.jsx)(q.a,{sx:{fontSize:50}})}))}var Ge=n(378),Te=n(818),ze=["src","croppedURL"];we.Font.register({family:"Roboto",fonts:[{src:"".concat("/calendar","/Roboto-Regular.ttf")},{src:"".concat("/calendar","/Roboto-Bold.ttf"),fontWeight:"bold"},{src:"".concat("/calendar","/Roboto-Italic.ttf"),fontWeight:"normal",fontStyle:"italic"},{src:"".concat("/calendar","/Roboto-BoldItalic.ttf"),fontWeight:"bold",fontStyle:"italic"}]});var He=we.StyleSheet.create({page:{flexDirection:"column",backgroundColor:"transparent",padding:0},header:{textAlign:"center",fontSize:"26pt",paddingTop:"1.3cm",height:"3cm",fontFamily:"Roboto",textTransform:"capitalize"},mainContent:{display:"flex",flexDirection:"row",flexGrow:1},pictures:{display:"flex",flexDirection:"column",height:"".concat(3*j,"cm"),width:"".concat(8,"cm")},picture:{height:"".concat(j,"cm"),width:"".concat(8,"cm")},calendar:{flexGrow:1}}),We=i.a.forwardRef((function(e,t){var n=e.year,r=e.month,i=Object(Ce.a)({start:new Date(n,r,1),end:new Date(n,r+1,0)}),a=Object(d.c)((function(e){return e.birthdays.values.filter((function(e){return e.birthday&&Object(Se.a)(new Date(n,r,1))===Object(Se.a)(new Date(e.birthday))}))}));return Object(J.jsxs)(Ge.a,{elevation:3,style:Object(o.a)(Object(o.a)({},He.page),{},{heigh:"29.7cm",width:"21cm"}),ref:t,children:[Object(J.jsx)("div",{style:He.header,children:Object(J.jsx)("span",{children:Object(Ae.a)(i[0],{month:"long"},{locale:"fr"})+" ".concat(n)})}),Object(J.jsxs)("div",{style:He.mainContent,children:[Object(J.jsxs)("div",{style:He.pictures,children:[Object(J.jsx)(Ee,{style:He.picture,monthIndex:r,pictureIndex:0}),Object(J.jsx)(Ee,{style:He.picture,monthIndex:r,pictureIndex:1}),Object(J.jsx)(Ee,{style:He.picture,monthIndex:r,pictureIndex:2})]}),Object(J.jsx)("div",{style:He.calendar,children:i.map((function(e,t){var n=a.filter((function(t){return Object(Pe.a)(e)===Object(Pe.a)(new Date(t.birthday))})).map((function(t){return Object(o.a)(Object(o.a)({},t),{},{age:Object(Te.a)(e,new Date(t.birthday))})}));return Object(J.jsx)(Fe,{day:e,isLastDay:t===i.length-1,birthdays:n},t)}))})]})]})})),Ve=function(e){var t=e.year,n=e.month,r=e.state,i=r.pictureSystem.months[n],a=Object(Ce.a)({start:new Date(t,n,1),end:new Date(t,n+1,0)}),c=r.birthdays.values.filter((function(e){return e.birthday&&Object(Se.a)(new Date(t,n,1))===Object(Se.a)(new Date(e.birthday))}));return Object(J.jsxs)(we.Page,{size:"A4",style:He.page,debug:!1,children:[Object(J.jsx)(we.View,{style:He.header,debug:!1,children:Object(J.jsx)(we.Text,{children:Object(Ae.a)(a[0],{month:"long"},{locale:"fr"})+" ".concat(t)})}),Object(J.jsxs)(we.View,{style:He.mainContent,debug:!1,children:[Object(J.jsx)(we.View,{style:He.pictures,debug:!1,children:i.map((function(e,t){var n=e.src,r=e.croppedURL,i=void 0===r?"":r,a=Object(l.a)(e,ze),c=800/a.width,s=880.0000000000001/a.height,d=a.y*s/100,u=a.x*c/100;return n?Object(J.jsx)(we.View,{style:Object(o.a)(Object(o.a)({},He.picture),{},{overflow:"hidden",position:"relative",width:"".concat(8,"cm"),height:"".concat(j,"cm")}),children:Object(J.jsx)(we.Image,{style:{position:"absolute",width:"".concat(c,"cm"),height:"".concat(s,"cm"),marginLeft:"".concat(-u,"cm"),marginTop:"".concat(-d,"cm")},src:n,width:"auto",height:"auto"})},"".concat(t,"-").concat(i)):Object(J.jsx)(we.Canvas,{style:He.picture,width:8,height:j},"".concat(t,"-").concat(i))}))}),Object(J.jsx)(we.View,{style:He.calendar,debug:!1,children:a.map((function(e,t){var n=c.filter((function(t){return Object(Pe.a)(e)===Object(Pe.a)(new Date(t.birthday))})).map((function(t){return Object(o.a)(Object(o.a)({},t),{},{age:Object(Te.a)(e,new Date(t.birthday))})}));return Object(J.jsx)(Be,{day:e,isLastDay:t===a.length-1,birthdays:n},t)}))})]})]})},qe=function(e){for(var t=e.year,n=void 0===t?2022:t,r=e.state,i=e.pictureUrls,a=[],c=0;c<12;c+=1)a.push(Object(J.jsx)(Ve,{year:n,month:c,state:r,pictureUrls:i},c));return Object(J.jsx)(we.Document,{children:a})},Ue=n(746),Ze=n(826),Xe=n(360),Ye=n.n(Xe),_e=n(359),Ke=n.n(_e);function Qe(){var e=Object(U.f)(),t=r.useRef(null),n=r.useState(1),i=Object(s.a)(n,2),a=i[0],c=i[1],o=r.useState(1),l=Object(s.a)(o,2),d=l[0],u=l[1];return r.useEffect((function(){if(t.current){var e=210/t.current.clientWidth,n=297/t.current.clientHeight,r=Math.min(e,n);c(r)}}),[]),Object(J.jsxs)("div",{children:[Object(J.jsx)(ye,{}),Object(J.jsx)("div",{style:{maxHeight:"100vh",paddingLeft:m,paddingTop:"64px"},children:Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(n){return Object(J.jsx)("div",{style:{width:210*d,height:297*d,position:"relative",margin:"2rem"},children:Object(J.jsx)("div",{style:{transform:"scale(".concat(d*a,", ").concat(d*a,")"),transformOrigin:"top left",margin:"1rem"},onClick:function(){e("/design/".concat(n))},children:Object(J.jsx)(We,{year:2022,month:n,ref:0===n?t:null})},n)},n)}))}),Object(J.jsxs)(T.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:[Object(J.jsx)(Ze.a,{color:"primary",size:"small","aria-label":"add",onClick:function(){return u((function(e){return Math.max(.5,e-.5)}))},children:Object(J.jsx)(Ke.a,{})}),Object(J.jsx)(T.a,{sx:{margin:"0 1rem",width:"2rem",backgroundColor:"rgba(255, 255, 255, 0.5)",display:"inline-block",textAlign:"center"},children:Object(J.jsx)(Ue.a,{variant:"p",component:"span",children:d})}),Object(J.jsx)(Ze.a,{color:"primary",size:"small","aria-label":"add",onClick:function(){return u((function(e){return Math.min(3,e+.5)}))},children:Object(J.jsx)(Ye.a,{})})]})]})})]})}var $e=n(361),et=n.n($e),tt=n(811),nt=n(827);function rt(){var e=Object(U.f)(),t=Object(U.g)().month,n=r.useState({width:100,height:100}),i=Object(s.a)(n,2),a=i[0],c=i[1],l=r.useRef(null),d=r.useRef(null),u=r.useState(1),h=Object(s.a)(u,2),b=h[0],j=h[1],f=function(){if(l.current&&d.current){var e=(d.current.offsetWidth-100-p-m)/l.current.clientWidth,t=(d.current.offsetHeight-100-114)/l.current.clientHeight,n=Math.min(e,t);j(n),c({width:n*l.current.clientWidth,height:n*l.current.clientHeight})}};return r.useEffect((function(){f();d.current;return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[]),Object(J.jsxs)("div",{children:[Object(J.jsx)(ye,{}),Object(J.jsx)("div",{style:{height:"100vh",paddingLeft:m,paddingTop:"64px"},ref:d,children:Object(J.jsxs)("div",{children:[Object(J.jsx)(tt.a,{sx:{flex:"1 1 100px"},value:Number(t)||0,onChange:function(t,n){return e("/design/".concat(n))},"aria-label":"month tabs",variant:"scrollable",children:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return Object(J.jsx)(nt.a,{label:Object(Ae.a)(new Date(2e3,e,1),{month:"short"},{locale:"fr"}),value:e})}))}),Object(J.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(J.jsx)(T.a,{sx:Object(o.a)({position:"relative",margin:"16px"},a),children:Object(J.jsx)("div",{style:{transform:"scale(".concat(b,", ").concat(b,")"),transformOrigin:"top left",margin:"1rem"},children:Object(J.jsx)(We,{year:2022,month:Number(t)||0,ref:l})})})}),Object(J.jsx)(T.a,{sx:{position:"fixed",bottom:"1rem",right:"1rem"},children:Object(J.jsx)(Ze.a,{color:"primary",size:"large","aria-label":"grid-view",onClick:function(){return e("/design")},children:Object(J.jsx)(et.a,{})})})]})})]})}var it=n(4),at=n(362),ct=[{headerName:"Nom",field:"firstName",editable:!0,flex:2},{headerName:"Pr\xe9nom",field:"lastName",editable:!0,flex:2},{headerName:"Pr\xe9sentation",field:"nickname",editable:!0,flex:2},{headerName:"Date de naissance",field:"birthday",type:"date",valueGetter:function(e){var t=e.value;return new Date(t)},editable:!0,flex:1},{headerName:"Afficher",field:"printed",type:"boolean",editable:!0,flex:1},{headerName:"Afficher l'age",field:"agePrinted",type:"boolean",editable:!0,flex:1}];function st(){var e=Object(d.c)((function(e){return e.birthdays.values})),t=Object(d.b)();return Object(J.jsxs)("div",{style:{height:"100vh",paddingTop:"64px",textAlign:"center"},children:[Object(J.jsx)("div",{style:{height:"60vh",width:"100%"},children:Object(J.jsx)(at.a,{columns:ct,rows:e,onCellEditCommit:function(n){var r=n.id,i=n.field,a=n.value,c=Object(it.a)({id:r},i,a);if("nickname"!==i){if(["firstName","lastName"].includes(i)){var s=e.find((function(e){return e.id===r}));if(s.nickname===te(s))return void t(ae(Object(o.a)(Object(o.a)({},c),{},{nickname:te(Object(o.a)(Object(o.a)({},s),c))})))}t(ae(c))}else t(ae(c))}})}),Object(J.jsx)(M.a,{onClick:function(){t(ae())},children:"Ajouter une ligne"})]})}function ot(){return null}var lt=n(830),dt=n(364),ut=n.n(dt),ht=n(365),bt=n.n(ht),jt=n(369),pt=n(66),mt=function(){var e=Object(d.c)((function(e){return e}));e.pictureSystem.months;return Object(J.jsx)(we.PDFViewer,{width:"100%",height:"1000px",children:Object(J.jsx)(qe,{state:e,pictureUrls:{}})})};function ft(){var e=Object(U.f)(),t=Object(d.c)((function(e){return e.birthdays.values})),n=Object(d.c)((function(e){return e.pictureSystem.months})),i=r.useState(null),a=Object(s.a)(i,2),c=a[0],o=a[1],l=Boolean(c),u=function(){o(null)},h=r.useState(!1),b=Object(s.a)(h,2),j=b[0],p=b[1];return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(lt.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(J.jsxs)(G.a,{children:[Object(J.jsx)(Ue.a,{variant:"h6",component:"div",onClick:function(e){o(e.currentTarget)},children:"Calendar"}),Object(J.jsx)("div",{children:Object(J.jsxs)(jt.a,{id:"basic-menu",anchorEl:c,open:l,onClose:u,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(J.jsx)(pt.a,{onClick:function(){e("/"),u()},children:"Accueil"}),Object(J.jsx)(pt.a,{onClick:function(){e("/design"),u()},children:"Design"}),Object(J.jsx)(pt.a,{onClick:function(){e("/birthdays"),u()},children:"Anniversaires"})]})}),Object(J.jsx)(T.a,{sx:{flexGrow:1}}),Object(J.jsx)(D.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){p(!0)},children:Object(J.jsx)(ut.a,{})}),Object(J.jsx)(D.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){console.log(n),function(e){ve.apply(this,arguments)}({values:{calendar:t,design:{pictures:n}}})},children:Object(J.jsx)(bt.a,{})})]})}),Object(J.jsx)(I.a,{onClose:function(){p(!1)},open:j,fullWidth:!0,children:j&&Object(J.jsx)(mt,{})})]})}var xt=function(){var e=Object(U.f)();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ft,{}),Object(J.jsxs)(E.a,{sx:{width:"".concat(p,"px"),flexShrink:0,"& .MuiDrawer-paper":{width:"".concat(p,"px"),boxSizing:"border-box",borderRight:"1px solid lightgray"}},variant:"permanent",anchor:"top",children:[Object(J.jsx)(G.a,{}),Object(J.jsxs)(T.a,{sx:{overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"stretch",paddingTop:"1rem",height:"100vh"},children:[Object(J.jsx)(z.a,{title:"Photos",placement:"right",children:Object(J.jsx)(D.a,{"aria-label":"images",size:"large",sx:{width:"50px",height:"50px",margin:"0 auto"},onClick:function(){return e("design")},children:Object(J.jsx)(q.a,{fontSize:"inherit"})})}),Object(J.jsx)(z.a,{title:"Anniversaires",placement:"right",children:Object(J.jsx)(D.a,{sx:{width:"50px",height:"50px",margin:"0 auto"},"aria-label":"anniversaires",size:"large",onClick:function(){return e("birthdays")},children:Object(J.jsx)(W.a,{fontSize:"inherit"})})})]})]}),Object(J.jsx)("div",{style:{paddingLeft:"".concat(p,"px")},children:Object(J.jsxs)(U.c,{children:[Object(J.jsx)(U.a,{path:"/",element:Object(J.jsx)(Qe,{})}),Object(J.jsx)(U.a,{path:"design",element:Object(J.jsx)(Qe,{})}),Object(J.jsx)(U.a,{path:"design/:month",element:Object(J.jsx)(rt,{})}),Object(J.jsx)(U.a,{path:"birthdays",element:Object(J.jsx)(st,{})}),Object(J.jsx)(U.a,{path:"yearEvents",element:Object(J.jsx)(ot,{})})]})}),Object(J.jsx)(N,{})]})},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,831)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))},gt=n(93),vt=Object(f.a)({reducer:{pictureSystem:S,dragging:K,birthdays:se}}),yt=n(808),wt=n(367),Ct=n(817),St=Object(wt.a)({palette:{mode:"light"}});c.a.render(Object(J.jsx)(i.a.StrictMode,{children:Object(J.jsx)(gt.a,{children:Object(J.jsx)(d.a,{store:vt,children:Object(J.jsxs)(Ct.a,{theme:St,children:[Object(J.jsx)(yt.a,{}),Object(J.jsx)(xt,{})]})})})}),document.getElementById("root")),Ot()}},[[733,1,2]]]);
//# sourceMappingURL=main.98078306.chunk.js.map